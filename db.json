{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/miho/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"themes/miho/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/miho/source/images/alipay.png","path":"images/alipay.png","modified":1,"renderable":1},{"_id":"themes/miho/source/images/alipay_code.png","path":"images/alipay_code.png","modified":1,"renderable":1},{"_id":"themes/miho/source/images/banner.jpg","path":"images/banner.jpg","modified":1,"renderable":1},{"_id":"themes/miho/source/images/logo.png","path":"images/logo.png","modified":1,"renderable":1},{"_id":"themes/miho/source/images/scrollbar_arrow.png","path":"images/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/miho/source/images/wechat.png","path":"images/wechat.png","modified":1,"renderable":1},{"_id":"themes/miho/source/images/wechat_code.png","path":"images/wechat_code.png","modified":1,"renderable":1},{"_id":"themes/miho/source/js/animate.js","path":"js/animate.js","modified":1,"renderable":1},{"_id":"themes/miho/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/miho/source/js/pace.min.js","path":"js/pace.min.js","modified":1,"renderable":1},{"_id":"themes/miho/source/js/particles.js","path":"js/particles.js","modified":1,"renderable":1},{"_id":"themes/miho/source/js/pop-img.js","path":"js/pop-img.js","modified":1,"renderable":1},{"_id":"themes/miho/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/miho/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/code-rule-mag.md","hash":"ce25dc4e98d94a524ae8a7a1f337c09de7e4cf60","modified":1615800922020},{"_id":"source/_posts/css-study-structure.md","hash":"75d8eb3c4e5b8cfda41093c04416d92369d2bd9d","modified":1615800922020},{"_id":"source/_posts/exec-immediately-func.md","hash":"2efc1660a2a07f461ec5d53f66d9af97288159b5","modified":1616146735143},{"_id":"source/_posts/hello-world.md","hash":"d4466a0c14f957f290769367625c95c978641382","modified":1616146802766},{"_id":"source/_posts/hexo-github-netify.md","hash":"5ad17e18103e549f3c07f066d677c144ca26a445","modified":1615800922021},{"_id":"source/_posts/js-basic-data-type.md","hash":"d2e766ac14589e5f02052ca7b774a215622d3c0f","modified":1615800922021},{"_id":"source/_posts/js-operating-mechanism.md","hash":"5f22ce679709d1eb9310d31c2f5437d24f278a0b","modified":1616124574258},{"_id":"source/_posts/setTimeout-setInterval.md","hash":"b06e585838777d5eb43cf06d61c0eafe3d980c28","modified":1616146906890},{"_id":"source/_posts/the-life-of-url.md","hash":"ab19421ea58e6070dbc264873a1463a940665cb1","modified":1616124249789},{"_id":"source/_posts/verdaccio-custom-npm.md","hash":"0ccfc418a790f1749aa358002db8708bf97bddf4","modified":1615800922022},{"_id":"source/about/index.md","hash":"1dcbf859cc947489fd6f01e84ba1f5bcf8895b27","modified":1615800922022},{"_id":"themes/miho/README.md","hash":"de6e76535a9e139fd570e1951bf0d8040521b643","modified":1615800922023},{"_id":"themes/miho/_config.yml","hash":"6a9c0c7f02bf367f4c982e4a722ae4940686ce67","modified":1615800922023},{"_id":"themes/miho/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1615800922025},{"_id":"themes/miho/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1615800922025},{"_id":"themes/miho/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1615800922026},{"_id":"themes/miho/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1615800922026},{"_id":"themes/miho/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1615800922027},{"_id":"themes/miho/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1615800922027},{"_id":"themes/miho/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1615800922029},{"_id":"themes/miho/source/favicon.ico","hash":"2e6f1e55913d54a9b1fc52f866e14cb44108fb00","modified":1615800922075},{"_id":"themes/miho/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1615800922054},{"_id":"themes/miho/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1615800922054},{"_id":"themes/miho/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1615800922054},{"_id":"themes/miho/layout/layout.ejs","hash":"c7bc9638fffb722e1482ff00d57b7fe9a779e775","modified":1615800922055},{"_id":"themes/miho/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1615800922055},{"_id":"themes/miho/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1615800922055},{"_id":"themes/miho/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1615800922056},{"_id":"themes/miho/_source/about/index.md","hash":"6a4bf76a332be137de52cd37b99fcca34bd8b783","modified":1615800922024},{"_id":"themes/miho/_source/blog/installation-configuration.md","hash":"e9e694595cb65621ce32395d5799da15a2b49217","modified":1615800922024},{"_id":"themes/miho/source/css/_extend.styl","hash":"2e13084404cf231512f2637a1efaa63cb9949068","modified":1615800922056},{"_id":"themes/miho/source/css/_variables.styl","hash":"1d42ead7ebb3968e9d50e3eb9b868bec645f686c","modified":1615800922067},{"_id":"themes/miho/source/css/style.styl","hash":"38ce101a4e904db24620febbda105c5b5335b106","modified":1615800922074},{"_id":"themes/miho/source/images/alipay.png","hash":"b3f9db844b1e522fc55125302f2979f50a6d0529","modified":1615800922075},{"_id":"themes/miho/source/images/logo.png","hash":"118227816e1438c5c09479f538385224b6afc3de","modified":1615800922080},{"_id":"themes/miho/source/images/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1615800922080},{"_id":"themes/miho/source/images/wechat.png","hash":"8de97bf5bb3f3a0845e02172f79d6bba2fb6bb3b","modified":1615800922081},{"_id":"themes/miho/source/js/animate.js","hash":"d5cf7dc4ad33b02bea74bb76d3eba85b67e907ce","modified":1615800922090},{"_id":"themes/miho/source/js/main.js","hash":"cae44d65bd63b29a749fcf43cea26d3b0cb8b2ef","modified":1615800922090},{"_id":"themes/miho/source/js/pace.min.js","hash":"d32ab818e0f97d3b0c80f5631fc23d8a0cb52795","modified":1615800922091},{"_id":"themes/miho/source/js/particles.js","hash":"8009af99d913d8c40509efaecfa5e56cefefbf0d","modified":1615800922092},{"_id":"themes/miho/source/js/pop-img.js","hash":"8e638e492b9699da1b9ca22d9f74a6578712925a","modified":1615800922093},{"_id":"themes/miho/source/js/search.js","hash":"ae4b06fd09a090a5388fd880bba919a1c0c64dd3","modified":1615800922093},{"_id":"themes/miho/layout/_partial/after-footer.ejs","hash":"a37bf70fa94fd3b8df30e2455c8586342c1b5a7a","modified":1615800922030},{"_id":"themes/miho/layout/_partial/archive-post.ejs","hash":"d215a432321b19882fdf1a0f3ca73c226ac2f64c","modified":1615800922031},{"_id":"themes/miho/layout/_partial/archive.ejs","hash":"c3fe9a160155da6ebc00ee05ae0b33f48f212737","modified":1615800922031},{"_id":"themes/miho/layout/_partial/article.ejs","hash":"56eafac8c3fcf840016f30e1b8fa7a21f5c4552c","modified":1615800922032},{"_id":"themes/miho/layout/_partial/footer.ejs","hash":"a0555a1be966cdf3b5504581ef6fd4710e7b4ebd","modified":1615800922032},{"_id":"themes/miho/layout/_partial/head.ejs","hash":"4b18ef48f5963031de30d438a0f521689d277de9","modified":1615800922033},{"_id":"themes/miho/layout/_partial/header.ejs","hash":"e38d2f2934cf542f118a8078390c1b162597e1da","modified":1615800922033},{"_id":"themes/miho/layout/_partial/mobile-nav.ejs","hash":"fa334fc205973aadf596784e2708a9549708fad7","modified":1615800922034},{"_id":"themes/miho/layout/_partial/search.ejs","hash":"5e581b7dcd32cfc767674a2846afcbe670256ca2","modified":1615800922051},{"_id":"themes/miho/layout/_partial/sidebar.ejs","hash":"8cd454900e964b88f1a850c455e7df34df396a70","modified":1615800922051},{"_id":"themes/miho/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1615800922052},{"_id":"themes/miho/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1615800922052},{"_id":"themes/miho/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1615800922053},{"_id":"themes/miho/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1615800922053},{"_id":"themes/miho/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1615800922053},{"_id":"themes/miho/source/css/_partial/archive.styl","hash":"ede0d1652892d3bcbec38752060945106a6eb9e8","modified":1615800922057},{"_id":"themes/miho/source/css/_partial/article.styl","hash":"4483028d421fb668f66c66604c258d6a1e540bca","modified":1615800922057},{"_id":"themes/miho/source/css/_partial/comment.styl","hash":"d0f38e19a43094fb8b9c6d84c52ec91030e2e881","modified":1615800922058},{"_id":"themes/miho/source/css/_partial/footer.styl","hash":"d71916880dee26532c502b0735500a43837ca284","modified":1615800922059},{"_id":"themes/miho/source/css/_partial/header.styl","hash":"242081cee3ffe1511cd4755987bf239a4aef34b1","modified":1615800922059},{"_id":"themes/miho/source/css/_partial/highlight.styl","hash":"dd97dae3d0a349e5460b58fec408392f2b265fd8","modified":1615800922059},{"_id":"themes/miho/source/css/_partial/mobile.styl","hash":"17de8a444f05d2d5b96a8b88a6ba48baefa70f94","modified":1615800922060},{"_id":"themes/miho/source/css/_partial/pace.styl","hash":"c70eea98b2cc347ea5fec333b107a564422b7f8f","modified":1615800922060},{"_id":"themes/miho/source/css/_partial/post.styl","hash":"378f5cb4e76889604d68c7c82ccbee335a0e97cf","modified":1615800922061},{"_id":"themes/miho/source/css/_partial/reward.styl","hash":"2424fed591c0655a6452126de64e4e918b11e244","modified":1615800922062},{"_id":"themes/miho/source/css/_partial/scroll.styl","hash":"be3dae89bec0da8a4249b7bb07be0f7383859167","modified":1615800922063},{"_id":"themes/miho/source/css/_partial/share.styl","hash":"7d6a5ad5eddfa84ba47dc7c2cec9f2efa458cccb","modified":1615800922064},{"_id":"themes/miho/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1615800922065},{"_id":"themes/miho/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1615800922065},{"_id":"themes/miho/source/css/_partial/sidebar.styl","hash":"eb2d3d33148fed6ef9d0540b9a7c19d964d359a6","modified":1615800922066},{"_id":"themes/miho/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1615800922067},{"_id":"themes/miho/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1615800922067},{"_id":"themes/miho/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1615800922068},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1615800922069},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1615800922073},{"_id":"themes/miho/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1615800922041},{"_id":"themes/miho/layout/_partial/post/copyright.ejs","hash":"8f6069e311908089f8b2851f0ce01c50f1418ee0","modified":1615800922042},{"_id":"themes/miho/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1615800922042},{"_id":"themes/miho/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1615800922045},{"_id":"themes/miho/layout/_partial/post/nav.ejs","hash":"f2dc6b9c72396fdb1a1e082760c909d4102972d4","modified":1615800922046},{"_id":"themes/miho/layout/_partial/post/reward.ejs","hash":"d34668484a425eddbe2fb97481b9f75bd0baa803","modified":1615800922047},{"_id":"themes/miho/layout/_partial/post/share.ejs","hash":"6f78a06e7192544a7b422697d5c988824320b7c7","modified":1615800922049},{"_id":"themes/miho/layout/_partial/post/tag.ejs","hash":"85c8e80fd158e282e0cae15f087515cb8bc89feb","modified":1615800922050},{"_id":"themes/miho/layout/_partial/post/title.ejs","hash":"5d9e385aad26fbfcb2a1d59c74469525907087f3","modified":1615800922050},{"_id":"themes/miho/layout/_partial/post/toc.ejs","hash":"eb81e0bcedaf12afc3b38f0096bf669ae27ec723","modified":1615800922051},{"_id":"themes/miho/layout/_partial/plugins/analytics/baidu-analytics.ejs","hash":"b21500b87d79a0068e3ca0408b4e125e3e749d01","modified":1615800922034},{"_id":"themes/miho/layout/_partial/plugins/analytics/cnzz-analytics.ejs","hash":"87050e9063edebfe88f9766fc3430b2eac90c6ff","modified":1615800922035},{"_id":"themes/miho/layout/_partial/plugins/analytics/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1615800922035},{"_id":"themes/miho/layout/_partial/plugins/comments/changyan.ejs","hash":"23bc1544520a5376339ea9286f3177ce605da3fa","modified":1615800922035},{"_id":"themes/miho/layout/_partial/plugins/comments/gitment.ejs","hash":"13d15872b734a92c26b757fc9170ad5bc04b5ceb","modified":1615800922036},{"_id":"themes/miho/layout/_partial/plugins/comments/wangyiyun.ejs","hash":"7245dacec0177d8fa1249e7cbee872c534e96dc9","modified":1615800922036},{"_id":"themes/miho/layout/_partial/plugins/comments/youyan.ejs","hash":"82b529c0df6bea5c098d147baa6201e6b295fc1b","modified":1615800922037},{"_id":"themes/miho/layout/_partial/plugins/sites/visit.ejs","hash":"a5daff983fb14472998bce00d0d113e303eddb19","modified":1615800922037},{"_id":"themes/miho/source/images/wechat_code.png","hash":"4335a4084e892f06f8ab3df8ab2dbbdcfb16b337","modified":1615800922082},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1615800922073},{"_id":"themes/miho/source/images/alipay_code.png","hash":"7cbe82133719c35fd72f6fe0895b784888bf0439","modified":1615800922077},{"_id":"themes/miho/source/images/banner.jpg","hash":"d50db83315f62bc360c92147a292223401e2e5db","modified":1615800922079},{"_id":"themes/miho/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1615800922071},{"_id":"public/content.json","hash":"e38a6dee484a9d6a90e31b5c405a2da6df245cbc","modified":1616150677238},{"_id":"public/categories/积累与沉淀/index.html","hash":"53bb7f79518658020b3be83d858080a72dd0653d","modified":1616150677238},{"_id":"public/categories/积累与沉淀/编码与管理/index.html","hash":"cdb4c799c92d26e1bb2cc673a78ce4d764362046","modified":1616150677238},{"_id":"public/categories/积累与沉淀/自定义服务/index.html","hash":"a74d3ace2f4c36eb2714c0d0b09d4b7eed6a7a7a","modified":1616150677238},{"_id":"public/categories/前端/javascript/index.html","hash":"7fc42c617c3866e599ed65bf2fc935315261a9e9","modified":1616150677238},{"_id":"public/categories/前端/css/index.html","hash":"e570bda67f3b812556be7409d1afb21c40396770","modified":1616150677238},{"_id":"public/categories/前端/javascript/基础/index.html","hash":"977bad787b001d5fba8f849cc8c742e22a2ebc9f","modified":1616150677238},{"_id":"public/tags/编码规范/index.html","hash":"189196c5fb89cc3533b141545f4c05df6801050d","modified":1616150677238},{"_id":"public/tags/css/index.html","hash":"442b42fb209a833d4f789c4361ae302f0b6e6fde","modified":1616150677238},{"_id":"public/tags/基础/index.html","hash":"c24a7b74e172a2e760615416caa745d31384dfbd","modified":1616150677238},{"_id":"public/tags/function/index.html","hash":"ad8d231465d17b0592be819564416cac75ef79da","modified":1616150677238},{"_id":"public/tags/Hexo/index.html","hash":"9bb7b2a8323dacc06505f5c2e0ef161a1b8b392e","modified":1616150677238},{"_id":"public/tags/npm/index.html","hash":"6e24afa009c53391ac52149ee8841224f982e6b9","modified":1616150677238},{"_id":"public/tags/Node-js/index.html","hash":"6744c7f9719066078d10f738a275ee070d4e83d4","modified":1616150677238},{"_id":"public/tags/hexo/index.html","hash":"9ce345f9db9dfca6f8ff653a0d39d4a39c6ac094","modified":1616150677238},{"_id":"public/tags/github/index.html","hash":"137ff4f00183664999d50f524d8918efb4a5eb94","modified":1616150677238},{"_id":"public/tags/netlify/index.html","hash":"9dac1cea8798951de38f25b7fabcf01b125f1bb1","modified":1616150677238},{"_id":"public/tags/基础概念/index.html","hash":"770c35ea8bf9a05d9a7ca07278893be94d0d8927","modified":1616150677238},{"_id":"public/tags/EventLoop/index.html","hash":"825ec3339ba68e9aacdebf12da61757af4959b6b","modified":1616150677238},{"_id":"public/tags/html/index.html","hash":"1c6ef1325b1b7625a63d08b953f41ba3f40fec87","modified":1616150677238},{"_id":"public/tags/verdaccio/index.html","hash":"575b25f2e09238dcacb69f1b83ee0c8364e4a9f3","modified":1616150677238},{"_id":"public/about/index.html","hash":"447d3c951a522c7e61b1bb9973e2b00238d392ec","modified":1616150677238},{"_id":"public/2021/03/15/the-life-of-url/index.html","hash":"8c55fcbab97e019c2d351539aca6a18da9b8b0fd","modified":1616150677238},{"_id":"public/2021/03/15/js-operating-mechanism/index.html","hash":"b81bb2d0ca7a1f3df677282d28abe3d509707bbb","modified":1616150677238},{"_id":"public/2021/03/15/hello-world/index.html","hash":"9fb01626e8691ac3b05636ebdb3e3f12ab1fd09f","modified":1616150677238},{"_id":"public/2021/03/15/exec-immediately-func/index.html","hash":"66647990a3d969d3980b7350df70f6af4f76b41a","modified":1616150677238},{"_id":"public/2021/03/12/css-study-structure/index.html","hash":"4f5fe41a535dbb64b01ae7ca334937cc2987f612","modified":1616150677238},{"_id":"public/2021/03/10/setTimeout-setInterval/index.html","hash":"361900207ae7a10f6edc2f0b5ddf83ee9f3015dd","modified":1616150677238},{"_id":"public/2021/03/08/js-basic-data-type/index.html","hash":"bf1f4cdec953867588c70b10aab34da87752a36f","modified":1616150677238},{"_id":"public/2021/03/08/code-rule-mag/index.html","hash":"c8cf1174416264df16e65d7176675faf26d3e6fb","modified":1616150677238},{"_id":"public/2021/03/08/verdaccio-custom-npm/index.html","hash":"48ee336b7dafa47c4251f8ccfeecb257aa4d655d","modified":1616150677238},{"_id":"public/2021/03/07/hexo-github-netify/index.html","hash":"c9dde9ce47df57e7f94d2114c812a4b86916d695","modified":1616150677238},{"_id":"public/archives/index.html","hash":"b6fc9b114bd2f2e4bccaf306daf13d0f4f899cb5","modified":1616150677238},{"_id":"public/archives/2021/index.html","hash":"46577e24f3b2c476e96c08690c06955b09a986a0","modified":1616150677238},{"_id":"public/archives/2021/03/index.html","hash":"f76b239cbd74f255276fb10a9d22cf910557ad6e","modified":1616150677238},{"_id":"public/categories/前端/index.html","hash":"cda3f05927d2cb1ede73f856cafbba24338fa334","modified":1616150677238},{"_id":"public/index.html","hash":"23bf8dfc52b53e036c3f7b8e105031d70b334650","modified":1616150677238},{"_id":"public/tags/javascript/index.html","hash":"cba7d4ba43af30c3efdec389286e6a3475a80ecd","modified":1616150677238},{"_id":"public/tags/nrm/index.html","hash":"d342a4a90e1eb5b1989db9ecbfab574512c852a8","modified":1616150677238},{"_id":"public/images/alipay.png","hash":"b3f9db844b1e522fc55125302f2979f50a6d0529","modified":1616150677238},{"_id":"public/images/logo.png","hash":"118227816e1438c5c09479f538385224b6afc3de","modified":1616150677238},{"_id":"public/images/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1616150677238},{"_id":"public/images/wechat.png","hash":"8de97bf5bb3f3a0845e02172f79d6bba2fb6bb3b","modified":1616150677238},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1616150677238},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1616150677238},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1616150677238},{"_id":"public/favicon.ico","hash":"2e6f1e55913d54a9b1fc52f866e14cb44108fb00","modified":1616150677238},{"_id":"public/images/wechat_code.png","hash":"4335a4084e892f06f8ab3df8ab2dbbdcfb16b337","modified":1616150677238},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1616150677238},{"_id":"public/js/animate.js","hash":"d5cf7dc4ad33b02bea74bb76d3eba85b67e907ce","modified":1616150677238},{"_id":"public/js/main.js","hash":"cae44d65bd63b29a749fcf43cea26d3b0cb8b2ef","modified":1616150677238},{"_id":"public/js/pace.min.js","hash":"d32ab818e0f97d3b0c80f5631fc23d8a0cb52795","modified":1616150677238},{"_id":"public/js/particles.js","hash":"8009af99d913d8c40509efaecfa5e56cefefbf0d","modified":1616150677238},{"_id":"public/js/pop-img.js","hash":"8e638e492b9699da1b9ca22d9f74a6578712925a","modified":1616150677238},{"_id":"public/js/search.js","hash":"ae4b06fd09a090a5388fd880bba919a1c0c64dd3","modified":1616150677238},{"_id":"public/css/style.css","hash":"2b46fc5165498b1462eb32b0283ae91c6bc88023","modified":1616150677238},{"_id":"public/images/alipay_code.png","hash":"7cbe82133719c35fd72f6fe0895b784888bf0439","modified":1616150677238},{"_id":"public/images/banner.jpg","hash":"d50db83315f62bc360c92147a292223401e2e5db","modified":1616150677238},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1616150677238}],"Category":[{"name":"积累与沉淀","_id":"ckmg6dvu600059d096zuvgfqh"},{"name":"前端","_id":"ckmg6dvua00099d09azcf0mm6"},{"name":"编码与管理","parent":"ckmg6dvu600059d096zuvgfqh","_id":"ckmg6dvuh000g9d09bx9g6s8m"},{"name":"自定义服务","parent":"ckmg6dvu600059d096zuvgfqh","_id":"ckmg6dvuk000m9d09ckid5mch"},{"name":"javascript","parent":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvul000q9d09c459063t"},{"name":"css","parent":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvum000u9d0951a87ogr"},{"name":"基础","parent":"ckmg6dvul000q9d09c459063t","_id":"ckmg6dvv0001l9d0927j80w9t"}],"Data":[],"Page":[{"title":"关于我","date":"2021-03-06T01:47:48.000Z","_content":"### 关于我\n原来从事安卓开发，后转从事 WEB 开发，主要开发语言 `java`, `javascript`，熟悉使用 `vue`、`react`、`react-native` 等主流框架；\n\n对`服务端`、`前端`、`数据分析`等技能有所了解。\n\n### 关于工作\n城市：`广州`\n### 关于学习\n正在往终身学习者前进...\n近期学习方向：大前端全栈\n### 关于座右铭\n> 不是井里没有水，而是你挖的不够深\n\n### 关于爱好\n热爱`运动`，尤其喜爱`篮球`、`跳绳`、`电影（Top250）`、`旅行`。\n### 联系我\n* Home: [91temaichang.com](https://91temaichang.com)\n* Blog: [blog.minhow.com](http://91temaichang.com)\n* Email: kbmjj123@gmail.com\n* GitHub: [MinHow](https://github.com/kbmjj123)\n","source":"about/index.md","raw":"---\ntitle: 关于我\ndate: 2021-03-06 09:47:48\n---\n### 关于我\n原来从事安卓开发，后转从事 WEB 开发，主要开发语言 `java`, `javascript`，熟悉使用 `vue`、`react`、`react-native` 等主流框架；\n\n对`服务端`、`前端`、`数据分析`等技能有所了解。\n\n### 关于工作\n城市：`广州`\n### 关于学习\n正在往终身学习者前进...\n近期学习方向：大前端全栈\n### 关于座右铭\n> 不是井里没有水，而是你挖的不够深\n\n### 关于爱好\n热爱`运动`，尤其喜爱`篮球`、`跳绳`、`电影（Top250）`、`旅行`。\n### 联系我\n* Home: [91temaichang.com](https://91temaichang.com)\n* Blog: [blog.minhow.com](http://91temaichang.com)\n* Email: kbmjj123@gmail.com\n* GitHub: [MinHow](https://github.com/kbmjj123)\n","updated":"2021-03-15T09:35:22.022Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckmg6dvtw00009d096vy64p3x","content":"<h3 id=\"关于我\"><a href=\"#关于我\" class=\"headerlink\" title=\"关于我\"></a>关于我</h3><p>原来从事安卓开发，后转从事 WEB 开发，主要开发语言 <code>java</code>, <code>javascript</code>，熟悉使用 <code>vue</code>、<code>react</code>、<code>react-native</code> 等主流框架；</p>\n<p>对<code>服务端</code>、<code>前端</code>、<code>数据分析</code>等技能有所了解。</p>\n<h3 id=\"关于工作\"><a href=\"#关于工作\" class=\"headerlink\" title=\"关于工作\"></a>关于工作</h3><p>城市：<code>广州</code></p>\n<h3 id=\"关于学习\"><a href=\"#关于学习\" class=\"headerlink\" title=\"关于学习\"></a>关于学习</h3><p>正在往终身学习者前进…<br>近期学习方向：大前端全栈</p>\n<h3 id=\"关于座右铭\"><a href=\"#关于座右铭\" class=\"headerlink\" title=\"关于座右铭\"></a>关于座右铭</h3><blockquote>\n<p>不是井里没有水，而是你挖的不够深</p>\n</blockquote>\n<h3 id=\"关于爱好\"><a href=\"#关于爱好\" class=\"headerlink\" title=\"关于爱好\"></a>关于爱好</h3><p>热爱<code>运动</code>，尤其喜爱<code>篮球</code>、<code>跳绳</code>、<code>电影（Top250）</code>、<code>旅行</code>。</p>\n<h3 id=\"联系我\"><a href=\"#联系我\" class=\"headerlink\" title=\"联系我\"></a>联系我</h3><ul>\n<li>Home: <a href=\"https://91temaichang.com/\">91temaichang.com</a></li>\n<li>Blog: <a href=\"http://91temaichang.com/\">blog.minhow.com</a></li>\n<li>Email: <a href=\"mailto:&#107;&#x62;&#x6d;&#x6a;&#x6a;&#x31;&#50;&#51;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#111;&#109;\">&#107;&#x62;&#x6d;&#x6a;&#x6a;&#x31;&#50;&#51;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#111;&#109;</a></li>\n<li>GitHub: <a href=\"https://github.com/kbmjj123\">MinHow</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"关于我\"><a href=\"#关于我\" class=\"headerlink\" title=\"关于我\"></a>关于我</h3><p>原来从事安卓开发，后转从事 WEB 开发，主要开发语言 <code>java</code>, <code>javascript</code>，熟悉使用 <code>vue</code>、<code>react</code>、<code>react-native</code> 等主流框架；</p>\n<p>对<code>服务端</code>、<code>前端</code>、<code>数据分析</code>等技能有所了解。</p>\n<h3 id=\"关于工作\"><a href=\"#关于工作\" class=\"headerlink\" title=\"关于工作\"></a>关于工作</h3><p>城市：<code>广州</code></p>\n<h3 id=\"关于学习\"><a href=\"#关于学习\" class=\"headerlink\" title=\"关于学习\"></a>关于学习</h3><p>正在往终身学习者前进…<br>近期学习方向：大前端全栈</p>\n<h3 id=\"关于座右铭\"><a href=\"#关于座右铭\" class=\"headerlink\" title=\"关于座右铭\"></a>关于座右铭</h3><blockquote>\n<p>不是井里没有水，而是你挖的不够深</p>\n</blockquote>\n<h3 id=\"关于爱好\"><a href=\"#关于爱好\" class=\"headerlink\" title=\"关于爱好\"></a>关于爱好</h3><p>热爱<code>运动</code>，尤其喜爱<code>篮球</code>、<code>跳绳</code>、<code>电影（Top250）</code>、<code>旅行</code>。</p>\n<h3 id=\"联系我\"><a href=\"#联系我\" class=\"headerlink\" title=\"联系我\"></a>联系我</h3><ul>\n<li>Home: <a href=\"https://91temaichang.com/\">91temaichang.com</a></li>\n<li>Blog: <a href=\"http://91temaichang.com/\">blog.minhow.com</a></li>\n<li>Email: <a href=\"mailto:&#107;&#x62;&#x6d;&#x6a;&#x6a;&#x31;&#50;&#51;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#111;&#109;\">&#107;&#x62;&#x6d;&#x6a;&#x6a;&#x31;&#50;&#51;&#x40;&#103;&#109;&#97;&#x69;&#108;&#x2e;&#x63;&#111;&#109;</a></li>\n<li>GitHub: <a href=\"https://github.com/kbmjj123\">MinHow</a></li>\n</ul>\n"}],"Post":[{"title":"编码规范","author":"Zhenggl","date":"2021-03-08T07:05:10.000Z","cover_picture":"https://img.91temaichang.com/blog/code-rule.jpeg","_content":"\n### 一、css规范\n\n#### 1.1 css命名规则\n    1. class 必须单词全字母小写，单词间以 - 分隔。\n    2. class 必须代表相应模块或部件的内容或功能，不得以样式信息进行命名。\n####  1.2 属性顺序\n1. 位置属性(position、top、right、z-index、display、float等)；\n2. 大小(width, height, padding, margin等)；\n2. 文字系列(font、line-height、letter-spacing、color、text-align等)；\n2. 背景(background、border等)；\n2. 其他(animation、transition等)\n```css\n\t.declaration-order {\n\t  /* Positioning */\n\t  position: absolute;\n\t  top: 0;\n\t  right: 0;\n\t  bottom: 0;\n\t  left: 0;\n\t  z-index: 100;\n\t  \n\t  /* Box-model */\n\t  display: block;\n\t  float: right;\n\t  width: 100px;\n\t  height: 100px;\n\t\n\t  /* Typography */\n\t  font: normal 13px \"Helvetica Neue\", sans-serif;\n\t  line-height: 1.5;\n\t  color: #333;\n\t  text-align: center;\n\t\n\t  /* Visual */\n\t  background-color: #f5f5f5;\n\t  border: 1px solid #e5e5e5;\n\t  border-radius: 3px;\n\t\n\t  /* Misc */\n\t  opacity: 1;\n\t}\n```\n####  1.3 选择器如无必要\n不得为 id、class 选择器添加类型选择器进行限定，在性能和维护性上，都有一定的影响。\n```css\n\t/* 推荐*/\n\t#error,\n\t.danger-message {\n\t    font-color: #c00;\n\t}\n\n\t/* 不推荐*/\n\tdialog#error,\n\tp.danger-message {\n\t    font-color: #c00;\n\t}\n```\n#### 1.4 多个选择器公用相同属性时\n```css\n/* 推荐 */\n\t.post,\n\t.page,\n\t.comment {\n\t    line-height: 1.5;\n\t}\n\t\n\t/* 不推荐 */\n\t.post, .page, .comment {\n\t    line-height: 1.5;\n\t}\n```\n### 二、JS规范\n#### 2.1 文件命名\n文件夹和文件名的命名应该能代表代码功能，与后端一致为佳。\n#### 2.2 语言规范\n1. 变量\n声明变量必须加上 let、const、var 关键字.\n当你没有写 let、const、var, 变量就会暴露在全局上下文中, 这样很可能会和现有变量冲突. 另外, 如果没有加上, 很难明确该变量的作用域是什么,\n变量也很可能像在局部作用域中, 很轻易地泄漏到 Document 或者 Window 中, 所以务必用 let、const 、var去声明变量.\n\n2. 分号\n总是使用分号\n如果仅依靠语句间的隐式分隔, 有时会很麻烦. 你自己更能清楚哪里是语句的起止,而且有些情况下，漏掉分号会很危险。\n\n3. for-in 循环\n最好只用于 object/map/hash 的遍历\n对 Array 用 for-in 循环有时会出错. 因为它并不是从 0 到 length - 1 进行遍历, 而是所有出现在对象及其原型链的键值.\n例如：给原型添加属性之后，默认情况下枚举，最后输出1234513\n```javascript\nfunction getNewArrayTwo(){\n\t\tvar array=[1,2,3,4,5 ];\n\t\tArray.prototype.age=13;\n\t\tvar result=[];\n\t\tfor(var i in array){\n\t      result.push(array[i]);\n\t\t}\n\t\talert(result.join(''));\n\t  }\n```\n\n### 三、编码风格\n3.1 明确作用域\n任何时候都要明确作用域 – 提高可移植性和清晰度. 例如, 不要依赖于作用域链中的 window 对象.\n可能在其他应用中, 你函数中的 window 不是指之前的那个窗口对象。\n\n3.2 代码格式化\n数组和对象的初始化,如果初始值不是很长, 就保持写在单行上:\n```javascript\nvar arr = [1, 2, 3];  // No space after [ or before ].\nvar obj = {a: 1, b: 2, c: 3};  // No space after { or before }.\n     初始值占用多行时, 缩进2个空格.\n    // Object initializer.\n\tvar inset = {\n\t  top: 10,\n\t  right: 20,\n\t  bottom: 15,\n\t  left: 12\n\t};\n\t\n\t// Array initializer.\n\tthis.rows_ = [\n\t  '\"Slartibartfast\" <fjordmaster@magrathea.com>',\n\t  '\"Zaphod Beeblebrox\" <theprez@universe.gov>',\n\t  '\"Ford Prefect\" <ford@theguide.com>',\n\t  '\"Arthur Dent\" <has.no.tea@gmail.com>',\n\t  '\"Marvin the Paranoid Android\" <marv@googlemail.com>',\n\t  'the.mice@magrathea.com'\n\t];\n```\n3.3 引号的使用\n单引号 (‘) 优于双引号 (“).\n当你创建一个包含 HTML 代码的字符串时就知道它的好处了。\n\n3.4 过长的单行予以换行\n换行应选择在操作符和标点符号之后。\n```javascript\n     if (oUser.nAge < 30\n\t    && oUser.bIsChecked === true\n\t    || oUser.sName === 'admin') {\n\t    // code\n\t}\n```\n### 四、vue规范\n#### 4.1 vue属性书写顺序\n```javascript\nexport default {\n   //不要忘记了 name 属性\n    name: 'RangeSlider',\n    //组合其它组件\n    extends: {},\n    //组件属性、变量\n    props: {\n            bar: {}, // 按字母顺序\n            foo: {},\n            fooBar: {},\n        },\n    // 变量\n    data() {},\n    computed: {},\n    //使用其它组件\n    components: {},\n    // 方法\n    watch: {},\n    methods: {},\n    // 生命周期函数\n    beforeCreate() {},\n    mounted() {},\n}\n```\n#### 4.2组件\n组件以驼峰命名  以及书写顺序\n```html\n    <template>\n\t  <my-components></my-components>\n    </template>\n\t<script>\n\t  import myComponents from './myComponents.vue'\n\t\n\t  export default {\n\t  components: {\n\t      myComponents\n\t    }\n\t  }\n\t</script>\n```\n#### 4.3 组件引用\n```javascript\n  import myComponentsA from './myComponentsA.vue'  \n  import myComponentsB from './myComponentsB.vue'\n  import myComponentsC from './myComponentsC.vue'\n  import myComponentsD from './myComponentsD.vue'\n  export default {\n    components: {\n      myComponentsA,\n      myComponentsB,\n      myComponentsC,\n      myComponentsD,\n    }\n  }\n```\n#### 4.4 事件\n```html\n    <!-- 不建议 -->\n\t<a v-on:click=\"pass()\">pass</a>\n\t\n\t<!-- 推荐 -->\n\t<a @click=\"pass\">pass</a>\n```\n#### 4.5 vue页面使用每个 vue 页面中的最外层template下面只能有一个标签\n```html\n\t// error\n\t<template>\n\t    <div></div>\n\t    <div></div>\n\t</template>\n\n\t// right\n\t<template>\n\t    <div></div>\n\t</template>\n```\n## 4.6 vue返回上一页\n```html\nthis.$router.go(-1) //就可以回到上一页。\nhistory.go(-1) //是回到浏览器上一页，但是由于Vue应用是单页应用，浏览器的访问历史未必和Vue的浏览历史相同。\n```\n#### 4.7 通过路由跳转，传递查询内容\n```javascript\nthis.$router.push({\n    path: \"/path\",\n    query:{query:queryThings}\n})\n```\n#### 4.8 methods 自定义方法命名\n\n1. 动宾短语（good：jumpPage、openCarInfoDialog）（bad：go、nextPage、show、open、login）\n2. ajax 方法以 get、post 开头，以 data 结尾（good：getListData、postFormData）（bad：takeData、confirmData、getList、postForm）\n3. 事件方法以 on 开头（onTypeChange、onUsernameInput）\n4. init、refresh 单词除外\n5. 尽量使用常用单词开头（set、get、open、close、jump）\n6. 驼峰命名（good: getListData）（bad: get_list_data、getlistData）\n\n#### 4.9 路由的命名\npath和name使用相同的命名\n```json\n     示例：{\n        path: '/merchandise', //路由路径\n        icon: 'key', //icon图标\n        name: 'merchandise', //路由名称\n        title: '商品', //路由标题\n        access: 0, //权限代码\n        component: main,\n        children: [\n            { path: 'merchandise-pubish', title: '商品发布', name: 'merchandise-pubish', component: () => import('@/views/merchandise/pubish.vue') },\n        ]\n    }\n```\n\n\n### 五、注释规范\n#### 5.1 页面注释规范\n  页面中使用注释划分结构块，注意与css中的注释达成统一格式。\n```html\n    <!-- 头部 -->\n\t<div class=\"g-hd\">\n\t    <!-- LOGO -->\n\t    <h1 class=\"m-logo\"><a hred=\"#\">LOGO</a></h1>\n\t    <!-- /LOGO -->\n\t    <!-- 导航 -->\n\t    <ul class=\"m-nav\">\n\t        <li><a hred=\"#\">NAV1</a></li>\n\t        <li><a hred=\"#\">NAV2</a></li>\n\t    </ul>\n\t    <!-- /导航 -->\n\t</div>\n\t<!-- /头部 -->\n```\n#### 5.2 函数注释\n```javascript\n    /**\n\t * 简述\n\t *\n\t * 功能详细描述\n\t *\n\t * @param <String> arg1 参数1\n\t * @param <Number> arg2 参数2，默认为0\n\t * @return <Boolean> 判断xxx是否成功\n\t */\n\t function fooFunction (arg1, arg2) {\n\t    // code\n\t }\n```\n#### 5.3语句注释\n```javascript\n    #单独一行 //(双斜线)与注释文字之间保留一个空格；\n    #在代码后面添加注释：//(双斜线)与代码之间保留一个空格，并且//(双斜线)与注释文字之间保留一个空格；\n    #//(双斜线)与代码之间保留一个空格。\n   \n\t// 调用了一个函数；1)单独在一行\n\tsetTitle();\n\tvar maxCount = 10; // 设置最大量；2)在代码后面注释\n\t// setName(); // 3)注释代码\n```\n","source":"_posts/code-rule-mag.md","raw":"---\ntitle: 编码规范\nauthor: Zhenggl\ndate: 2021-03-08 15:05:10\ncategories:\n  - [积累与沉淀, 编码与管理]\ntags:\n  - 编码规范\n  - javascript\n  - css\ncover_picture: https://img.91temaichang.com/blog/code-rule.jpeg\n---\n\n### 一、css规范\n\n#### 1.1 css命名规则\n    1. class 必须单词全字母小写，单词间以 - 分隔。\n    2. class 必须代表相应模块或部件的内容或功能，不得以样式信息进行命名。\n####  1.2 属性顺序\n1. 位置属性(position、top、right、z-index、display、float等)；\n2. 大小(width, height, padding, margin等)；\n2. 文字系列(font、line-height、letter-spacing、color、text-align等)；\n2. 背景(background、border等)；\n2. 其他(animation、transition等)\n```css\n\t.declaration-order {\n\t  /* Positioning */\n\t  position: absolute;\n\t  top: 0;\n\t  right: 0;\n\t  bottom: 0;\n\t  left: 0;\n\t  z-index: 100;\n\t  \n\t  /* Box-model */\n\t  display: block;\n\t  float: right;\n\t  width: 100px;\n\t  height: 100px;\n\t\n\t  /* Typography */\n\t  font: normal 13px \"Helvetica Neue\", sans-serif;\n\t  line-height: 1.5;\n\t  color: #333;\n\t  text-align: center;\n\t\n\t  /* Visual */\n\t  background-color: #f5f5f5;\n\t  border: 1px solid #e5e5e5;\n\t  border-radius: 3px;\n\t\n\t  /* Misc */\n\t  opacity: 1;\n\t}\n```\n####  1.3 选择器如无必要\n不得为 id、class 选择器添加类型选择器进行限定，在性能和维护性上，都有一定的影响。\n```css\n\t/* 推荐*/\n\t#error,\n\t.danger-message {\n\t    font-color: #c00;\n\t}\n\n\t/* 不推荐*/\n\tdialog#error,\n\tp.danger-message {\n\t    font-color: #c00;\n\t}\n```\n#### 1.4 多个选择器公用相同属性时\n```css\n/* 推荐 */\n\t.post,\n\t.page,\n\t.comment {\n\t    line-height: 1.5;\n\t}\n\t\n\t/* 不推荐 */\n\t.post, .page, .comment {\n\t    line-height: 1.5;\n\t}\n```\n### 二、JS规范\n#### 2.1 文件命名\n文件夹和文件名的命名应该能代表代码功能，与后端一致为佳。\n#### 2.2 语言规范\n1. 变量\n声明变量必须加上 let、const、var 关键字.\n当你没有写 let、const、var, 变量就会暴露在全局上下文中, 这样很可能会和现有变量冲突. 另外, 如果没有加上, 很难明确该变量的作用域是什么,\n变量也很可能像在局部作用域中, 很轻易地泄漏到 Document 或者 Window 中, 所以务必用 let、const 、var去声明变量.\n\n2. 分号\n总是使用分号\n如果仅依靠语句间的隐式分隔, 有时会很麻烦. 你自己更能清楚哪里是语句的起止,而且有些情况下，漏掉分号会很危险。\n\n3. for-in 循环\n最好只用于 object/map/hash 的遍历\n对 Array 用 for-in 循环有时会出错. 因为它并不是从 0 到 length - 1 进行遍历, 而是所有出现在对象及其原型链的键值.\n例如：给原型添加属性之后，默认情况下枚举，最后输出1234513\n```javascript\nfunction getNewArrayTwo(){\n\t\tvar array=[1,2,3,4,5 ];\n\t\tArray.prototype.age=13;\n\t\tvar result=[];\n\t\tfor(var i in array){\n\t      result.push(array[i]);\n\t\t}\n\t\talert(result.join(''));\n\t  }\n```\n\n### 三、编码风格\n3.1 明确作用域\n任何时候都要明确作用域 – 提高可移植性和清晰度. 例如, 不要依赖于作用域链中的 window 对象.\n可能在其他应用中, 你函数中的 window 不是指之前的那个窗口对象。\n\n3.2 代码格式化\n数组和对象的初始化,如果初始值不是很长, 就保持写在单行上:\n```javascript\nvar arr = [1, 2, 3];  // No space after [ or before ].\nvar obj = {a: 1, b: 2, c: 3};  // No space after { or before }.\n     初始值占用多行时, 缩进2个空格.\n    // Object initializer.\n\tvar inset = {\n\t  top: 10,\n\t  right: 20,\n\t  bottom: 15,\n\t  left: 12\n\t};\n\t\n\t// Array initializer.\n\tthis.rows_ = [\n\t  '\"Slartibartfast\" <fjordmaster@magrathea.com>',\n\t  '\"Zaphod Beeblebrox\" <theprez@universe.gov>',\n\t  '\"Ford Prefect\" <ford@theguide.com>',\n\t  '\"Arthur Dent\" <has.no.tea@gmail.com>',\n\t  '\"Marvin the Paranoid Android\" <marv@googlemail.com>',\n\t  'the.mice@magrathea.com'\n\t];\n```\n3.3 引号的使用\n单引号 (‘) 优于双引号 (“).\n当你创建一个包含 HTML 代码的字符串时就知道它的好处了。\n\n3.4 过长的单行予以换行\n换行应选择在操作符和标点符号之后。\n```javascript\n     if (oUser.nAge < 30\n\t    && oUser.bIsChecked === true\n\t    || oUser.sName === 'admin') {\n\t    // code\n\t}\n```\n### 四、vue规范\n#### 4.1 vue属性书写顺序\n```javascript\nexport default {\n   //不要忘记了 name 属性\n    name: 'RangeSlider',\n    //组合其它组件\n    extends: {},\n    //组件属性、变量\n    props: {\n            bar: {}, // 按字母顺序\n            foo: {},\n            fooBar: {},\n        },\n    // 变量\n    data() {},\n    computed: {},\n    //使用其它组件\n    components: {},\n    // 方法\n    watch: {},\n    methods: {},\n    // 生命周期函数\n    beforeCreate() {},\n    mounted() {},\n}\n```\n#### 4.2组件\n组件以驼峰命名  以及书写顺序\n```html\n    <template>\n\t  <my-components></my-components>\n    </template>\n\t<script>\n\t  import myComponents from './myComponents.vue'\n\t\n\t  export default {\n\t  components: {\n\t      myComponents\n\t    }\n\t  }\n\t</script>\n```\n#### 4.3 组件引用\n```javascript\n  import myComponentsA from './myComponentsA.vue'  \n  import myComponentsB from './myComponentsB.vue'\n  import myComponentsC from './myComponentsC.vue'\n  import myComponentsD from './myComponentsD.vue'\n  export default {\n    components: {\n      myComponentsA,\n      myComponentsB,\n      myComponentsC,\n      myComponentsD,\n    }\n  }\n```\n#### 4.4 事件\n```html\n    <!-- 不建议 -->\n\t<a v-on:click=\"pass()\">pass</a>\n\t\n\t<!-- 推荐 -->\n\t<a @click=\"pass\">pass</a>\n```\n#### 4.5 vue页面使用每个 vue 页面中的最外层template下面只能有一个标签\n```html\n\t// error\n\t<template>\n\t    <div></div>\n\t    <div></div>\n\t</template>\n\n\t// right\n\t<template>\n\t    <div></div>\n\t</template>\n```\n## 4.6 vue返回上一页\n```html\nthis.$router.go(-1) //就可以回到上一页。\nhistory.go(-1) //是回到浏览器上一页，但是由于Vue应用是单页应用，浏览器的访问历史未必和Vue的浏览历史相同。\n```\n#### 4.7 通过路由跳转，传递查询内容\n```javascript\nthis.$router.push({\n    path: \"/path\",\n    query:{query:queryThings}\n})\n```\n#### 4.8 methods 自定义方法命名\n\n1. 动宾短语（good：jumpPage、openCarInfoDialog）（bad：go、nextPage、show、open、login）\n2. ajax 方法以 get、post 开头，以 data 结尾（good：getListData、postFormData）（bad：takeData、confirmData、getList、postForm）\n3. 事件方法以 on 开头（onTypeChange、onUsernameInput）\n4. init、refresh 单词除外\n5. 尽量使用常用单词开头（set、get、open、close、jump）\n6. 驼峰命名（good: getListData）（bad: get_list_data、getlistData）\n\n#### 4.9 路由的命名\npath和name使用相同的命名\n```json\n     示例：{\n        path: '/merchandise', //路由路径\n        icon: 'key', //icon图标\n        name: 'merchandise', //路由名称\n        title: '商品', //路由标题\n        access: 0, //权限代码\n        component: main,\n        children: [\n            { path: 'merchandise-pubish', title: '商品发布', name: 'merchandise-pubish', component: () => import('@/views/merchandise/pubish.vue') },\n        ]\n    }\n```\n\n\n### 五、注释规范\n#### 5.1 页面注释规范\n  页面中使用注释划分结构块，注意与css中的注释达成统一格式。\n```html\n    <!-- 头部 -->\n\t<div class=\"g-hd\">\n\t    <!-- LOGO -->\n\t    <h1 class=\"m-logo\"><a hred=\"#\">LOGO</a></h1>\n\t    <!-- /LOGO -->\n\t    <!-- 导航 -->\n\t    <ul class=\"m-nav\">\n\t        <li><a hred=\"#\">NAV1</a></li>\n\t        <li><a hred=\"#\">NAV2</a></li>\n\t    </ul>\n\t    <!-- /导航 -->\n\t</div>\n\t<!-- /头部 -->\n```\n#### 5.2 函数注释\n```javascript\n    /**\n\t * 简述\n\t *\n\t * 功能详细描述\n\t *\n\t * @param <String> arg1 参数1\n\t * @param <Number> arg2 参数2，默认为0\n\t * @return <Boolean> 判断xxx是否成功\n\t */\n\t function fooFunction (arg1, arg2) {\n\t    // code\n\t }\n```\n#### 5.3语句注释\n```javascript\n    #单独一行 //(双斜线)与注释文字之间保留一个空格；\n    #在代码后面添加注释：//(双斜线)与代码之间保留一个空格，并且//(双斜线)与注释文字之间保留一个空格；\n    #//(双斜线)与代码之间保留一个空格。\n   \n\t// 调用了一个函数；1)单独在一行\n\tsetTitle();\n\tvar maxCount = 10; // 设置最大量；2)在代码后面注释\n\t// setName(); // 3)注释代码\n```\n","slug":"code-rule-mag","published":1,"updated":"2021-03-15T09:35:22.020Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvtz00019d095b1p8uzz","content":"<h3 id=\"一、css规范\"><a href=\"#一、css规范\" class=\"headerlink\" title=\"一、css规范\"></a>一、css规范</h3><h4 id=\"1-1-css命名规则\"><a href=\"#1-1-css命名规则\" class=\"headerlink\" title=\"1.1 css命名规则\"></a>1.1 css命名规则</h4><pre><code>1. class 必须单词全字母小写，单词间以 - 分隔。\n2. class 必须代表相应模块或部件的内容或功能，不得以样式信息进行命名。\n</code></pre>\n<h4 id=\"1-2-属性顺序\"><a href=\"#1-2-属性顺序\" class=\"headerlink\" title=\"1.2 属性顺序\"></a>1.2 属性顺序</h4><ol>\n<li><p>位置属性(position、top、right、z-index、display、float等)；</p>\n</li>\n<li><p>大小(width, height, padding, margin等)；</p>\n</li>\n<li><p>文字系列(font、line-height、letter-spacing、color、text-align等)；</p>\n</li>\n<li><p>背景(background、border等)；</p>\n</li>\n<li><p>其他(animation、transition等)</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.declaration-order</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* Positioning */</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">100</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* Box-model */</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Typography */</span></span><br><span class=\"line\">  <span class=\"attribute\">font</span>: normal <span class=\"number\">13px</span> <span class=\"string\">&quot;Helvetica Neue&quot;</span>, sans-serif;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Visual */</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#f5f5f5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e5e5e5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">3px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Misc */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1-3-选择器如无必要\"><a href=\"#1-3-选择器如无必要\" class=\"headerlink\" title=\"1.3 选择器如无必要\"></a>1.3 选择器如无必要</h4><p>不得为 id、class 选择器添加类型选择器进行限定，在性能和维护性上，都有一定的影响。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 推荐*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#error</span>,</span><br><span class=\"line\"><span class=\"selector-class\">.danger-message</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font</span>-<span class=\"attribute\">color</span>: <span class=\"number\">#c00</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 不推荐*/</span></span><br><span class=\"line\">dialog<span class=\"selector-id\">#error</span>,</span><br><span class=\"line\"><span class=\"selector-tag\">p</span><span class=\"selector-class\">.danger-message</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font</span>-<span class=\"attribute\">color</span>: <span class=\"number\">#c00</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1-4-多个选择器公用相同属性时\"><a href=\"#1-4-多个选择器公用相同属性时\" class=\"headerlink\" title=\"1.4 多个选择器公用相同属性时\"></a>1.4 多个选择器公用相同属性时</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 推荐 */</span></span><br><span class=\"line\">\t<span class=\"selector-class\">.post</span>,</span><br><span class=\"line\">\t<span class=\"selector-class\">.page</span>,</span><br><span class=\"line\">\t<span class=\"selector-class\">.comment</span> &#123;</span><br><span class=\"line\">\t    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/* 不推荐 */</span></span><br><span class=\"line\">\t<span class=\"selector-class\">.post</span>, <span class=\"selector-class\">.page</span>, <span class=\"selector-class\">.comment</span> &#123;</span><br><span class=\"line\">\t    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5</span>;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、JS规范\"><a href=\"#二、JS规范\" class=\"headerlink\" title=\"二、JS规范\"></a>二、JS规范</h3><h4 id=\"2-1-文件命名\"><a href=\"#2-1-文件命名\" class=\"headerlink\" title=\"2.1 文件命名\"></a>2.1 文件命名</h4><p>文件夹和文件名的命名应该能代表代码功能，与后端一致为佳。</p>\n<h4 id=\"2-2-语言规范\"><a href=\"#2-2-语言规范\" class=\"headerlink\" title=\"2.2 语言规范\"></a>2.2 语言规范</h4></li>\n<li><p>变量<br>声明变量必须加上 let、const、var 关键字.<br>当你没有写 let、const、var, 变量就会暴露在全局上下文中, 这样很可能会和现有变量冲突. 另外, 如果没有加上, 很难明确该变量的作用域是什么,<br>变量也很可能像在局部作用域中, 很轻易地泄漏到 Document 或者 Window 中, 所以务必用 let、const 、var去声明变量.</p>\n</li>\n<li><p>分号<br>总是使用分号<br>如果仅依靠语句间的隐式分隔, 有时会很麻烦. 你自己更能清楚哪里是语句的起止,而且有些情况下，漏掉分号会很危险。</p>\n</li>\n<li><p>for-in 循环<br>最好只用于 object/map/hash 的遍历<br>对 Array 用 for-in 循环有时会出错. 因为它并不是从 0 到 length - 1 进行遍历, 而是所有出现在对象及其原型链的键值.<br>例如：给原型添加属性之后，默认情况下枚举，最后输出1234513</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNewArrayTwo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> array=[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span> ];</span><br><span class=\"line\">\t\t<span class=\"built_in\">Array</span>.prototype.age=<span class=\"number\">13</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> result=[];</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> array)&#123;</span><br><span class=\"line\">\t      result.push(array[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\talert(result.join(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\">\t  &#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"三、编码风格\"><a href=\"#三、编码风格\" class=\"headerlink\" title=\"三、编码风格\"></a>三、编码风格</h3><p>3.1 明确作用域<br>任何时候都要明确作用域 – 提高可移植性和清晰度. 例如, 不要依赖于作用域链中的 window 对象.<br>可能在其他应用中, 你函数中的 window 不是指之前的那个窗口对象。</p>\n<p>3.2 代码格式化<br>数组和对象的初始化,如果初始值不是很长, 就保持写在单行上:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];  <span class=\"comment\">// No space after [ or before ].</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;<span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>, <span class=\"attr\">c</span>: <span class=\"number\">3</span>&#125;;  <span class=\"comment\">// No space after &#123; or before &#125;.</span></span><br><span class=\"line\">     初始值占用多行时, 缩进<span class=\"number\">2</span>个空格.</span><br><span class=\"line\">    <span class=\"comment\">// Object initializer.</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> inset = &#123;</span><br><span class=\"line\">\t  top: <span class=\"number\">10</span>,</span><br><span class=\"line\">\t  right: <span class=\"number\">20</span>,</span><br><span class=\"line\">\t  bottom: <span class=\"number\">15</span>,</span><br><span class=\"line\">\t  left: <span class=\"number\">12</span></span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Array initializer.</span></span><br><span class=\"line\">\t<span class=\"built_in\">this</span>.rows_ = [</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Slartibartfast&quot; &lt;fjordmaster@magrathea.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Zaphod Beeblebrox&quot; &lt;theprez@universe.gov&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Ford Prefect&quot; &lt;ford@theguide.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Arthur Dent&quot; &lt;has.no.tea@gmail.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Marvin the Paranoid Android&quot; &lt;marv@googlemail.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;the.mice@magrathea.com&#x27;</span></span><br><span class=\"line\">\t];</span><br></pre></td></tr></table></figure>\n<p>3.3 引号的使用<br>单引号 (‘) 优于双引号 (“).<br>当你创建一个包含 HTML 代码的字符串时就知道它的好处了。</p>\n<p>3.4 过长的单行予以换行<br>换行应选择在操作符和标点符号之后。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">if</span> (oUser.nAge &lt; <span class=\"number\">30</span></span><br><span class=\"line\">    &amp;&amp; oUser.bIsChecked === <span class=\"literal\">true</span></span><br><span class=\"line\">    || oUser.sName === <span class=\"string\">&#x27;admin&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// code</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"四、vue规范\"><a href=\"#四、vue规范\" class=\"headerlink\" title=\"四、vue规范\"></a>四、vue规范</h3><h4 id=\"4-1-vue属性书写顺序\"><a href=\"#4-1-vue属性书写顺序\" class=\"headerlink\" title=\"4.1 vue属性书写顺序\"></a>4.1 vue属性书写顺序</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//不要忘记了 name 属性</span></span><br><span class=\"line\">    name: <span class=\"string\">&#x27;RangeSlider&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//组合其它组件</span></span><br><span class=\"line\">    <span class=\"keyword\">extends</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//组件属性、变量</span></span><br><span class=\"line\">    props: &#123;</span><br><span class=\"line\">            bar: &#123;&#125;, <span class=\"comment\">// 按字母顺序</span></span><br><span class=\"line\">            foo: &#123;&#125;,</span><br><span class=\"line\">            fooBar: &#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 变量</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;&#125;,</span><br><span class=\"line\">    computed: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//使用其它组件</span></span><br><span class=\"line\">    components: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 方法</span></span><br><span class=\"line\">    watch: &#123;&#125;,</span><br><span class=\"line\">    methods: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 生命周期函数</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">beforeCreate</span>(<span class=\"params\"></span>)</span> &#123;&#125;,</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">mounted</span>(<span class=\"params\"></span>)</span> &#123;&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-2组件\"><a href=\"#4-2组件\" class=\"headerlink\" title=\"4.2组件\"></a>4.2组件</h4><p>组件以驼峰命名  以及书写顺序</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">my-components</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">my-components</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">import</span> myComponents <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponents.vue&#x27;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">      myComponents</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"4-3-组件引用\"><a href=\"#4-3-组件引用\" class=\"headerlink\" title=\"4.3 组件引用\"></a>4.3 组件引用</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> myComponentsA <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsA.vue&#x27;</span>  </span><br><span class=\"line\"><span class=\"keyword\">import</span> myComponentsB <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsB.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> myComponentsC <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsC.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> myComponentsD <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsD.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    myComponentsA,</span><br><span class=\"line\">    myComponentsB,</span><br><span class=\"line\">    myComponentsC,</span><br><span class=\"line\">    myComponentsD,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-4-事件\"><a href=\"#4-4-事件\" class=\"headerlink\" title=\"4.4 事件\"></a>4.4 事件</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"comment\">&lt;!-- 不建议 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-on:click</span>=<span class=\"string\">&quot;pass()&quot;</span>&gt;</span>pass<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 推荐 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;pass&quot;</span>&gt;</span>pass<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"4-5-vue页面使用每个-vue-页面中的最外层template下面只能有一个标签\"><a href=\"#4-5-vue页面使用每个-vue-页面中的最外层template下面只能有一个标签\" class=\"headerlink\" title=\"4.5 vue页面使用每个 vue 页面中的最外层template下面只能有一个标签\"></a>4.5 vue页面使用每个 vue 页面中的最外层template下面只能有一个标签</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// error</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">// right</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"4-6-vue返回上一页\"><a href=\"#4-6-vue返回上一页\" class=\"headerlink\" title=\"4.6 vue返回上一页\"></a>4.6 vue返回上一页</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">this.$router.go(-1) //就可以回到上一页。</span><br><span class=\"line\">history.go(-1) //是回到浏览器上一页，但是由于Vue应用是单页应用，浏览器的访问历史未必和Vue的浏览历史相同。</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-7-通过路由跳转，传递查询内容\"><a href=\"#4-7-通过路由跳转，传递查询内容\" class=\"headerlink\" title=\"4.7 通过路由跳转，传递查询内容\"></a>4.7 通过路由跳转，传递查询内容</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.$router.push(&#123;</span><br><span class=\"line\">    path: <span class=\"string\">&quot;/path&quot;</span>,</span><br><span class=\"line\">    query:&#123;<span class=\"attr\">query</span>:queryThings&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-8-methods-自定义方法命名\"><a href=\"#4-8-methods-自定义方法命名\" class=\"headerlink\" title=\"4.8 methods 自定义方法命名\"></a>4.8 methods 自定义方法命名</h4><ol>\n<li>动宾短语（good：jumpPage、openCarInfoDialog）（bad：go、nextPage、show、open、login）</li>\n<li>ajax 方法以 get、post 开头，以 data 结尾（good：getListData、postFormData）（bad：takeData、confirmData、getList、postForm）</li>\n<li>事件方法以 on 开头（onTypeChange、onUsernameInput）</li>\n<li>init、refresh 单词除外</li>\n<li>尽量使用常用单词开头（set、get、open、close、jump）</li>\n<li>驼峰命名（good: getListData）（bad: get_list_data、getlistData）</li>\n</ol>\n<h4 id=\"4-9-路由的命名\"><a href=\"#4-9-路由的命名\" class=\"headerlink\" title=\"4.9 路由的命名\"></a>4.9 路由的命名</h4><p>path和name使用相同的命名</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 示例：&#123;</span><br><span class=\"line\">    path: &#x27;/merchandise&#x27;, //路由路径</span><br><span class=\"line\">    icon: &#x27;key&#x27;, //icon图标</span><br><span class=\"line\">    name: &#x27;merchandise&#x27;, //路由名称</span><br><span class=\"line\">    title: &#x27;商品&#x27;, //路由标题</span><br><span class=\"line\">    access: 0, //权限代码</span><br><span class=\"line\">    component: main,</span><br><span class=\"line\">    children: [</span><br><span class=\"line\">        &#123; path: &#x27;merchandise-pubish&#x27;, title: &#x27;商品发布&#x27;, name: &#x27;merchandise-pubish&#x27;, component: () =&gt; import(&#x27;@/views/merchandise/pubish.vue&#x27;) &#125;,</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"五、注释规范\"><a href=\"#五、注释规范\" class=\"headerlink\" title=\"五、注释规范\"></a>五、注释规范</h3><h4 id=\"5-1-页面注释规范\"><a href=\"#5-1-页面注释规范\" class=\"headerlink\" title=\"5.1 页面注释规范\"></a>5.1 页面注释规范</h4><p>  页面中使用注释划分结构块，注意与css中的注释达成统一格式。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"comment\">&lt;!-- 头部 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;g-hd&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- LOGO --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;m-logo&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">hred</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>LOGO<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- /LOGO --&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 导航 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;m-nav&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">hred</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>NAV1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">hred</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>NAV2<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- /导航 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- /头部 --&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"5-2-函数注释\"><a href=\"#5-2-函数注释\" class=\"headerlink\" title=\"5.2 函数注释\"></a>5.2 函数注释</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* 简述</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* 功能详细描述</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param </span>&lt;String&gt; arg1 参数1</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param </span>&lt;Number&gt; arg2 参数2，默认为0</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@return </span>&lt;Boolean&gt; 判断xxx是否成功</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fooFunction</span> (<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">// code</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"5-3语句注释\"><a href=\"#5-3语句注释\" class=\"headerlink\" title=\"5.3语句注释\"></a>5.3语句注释</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   #单独一行 //(双斜线)与注释文字之间保留一个空格；</span><br><span class=\"line\">   #在代码后面添加注释：//(双斜线)与代码之间保留一个空格，并且//(双斜线)与注释文字之间保留一个空格；</span><br><span class=\"line\">   #//(双斜线)与代码之间保留一个空格。</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 调用了一个函数；1)单独在一行</span></span><br><span class=\"line\">setTitle();</span><br><span class=\"line\"><span class=\"keyword\">var</span> maxCount = <span class=\"number\">10</span>; <span class=\"comment\">// 设置最大量；2)在代码后面注释</span></span><br><span class=\"line\"><span class=\"comment\">// setName(); // 3)注释代码</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一、css规范\"><a href=\"#一、css规范\" class=\"headerlink\" title=\"一、css规范\"></a>一、css规范</h3><h4 id=\"1-1-css命名规则\"><a href=\"#1-1-css命名规则\" class=\"headerlink\" title=\"1.1 css命名规则\"></a>1.1 css命名规则</h4><pre><code>1. class 必须单词全字母小写，单词间以 - 分隔。\n2. class 必须代表相应模块或部件的内容或功能，不得以样式信息进行命名。\n</code></pre>\n<h4 id=\"1-2-属性顺序\"><a href=\"#1-2-属性顺序\" class=\"headerlink\" title=\"1.2 属性顺序\"></a>1.2 属性顺序</h4><ol>\n<li><p>位置属性(position、top、right、z-index、display、float等)；</p>\n</li>\n<li><p>大小(width, height, padding, margin等)；</p>\n</li>\n<li><p>文字系列(font、line-height、letter-spacing、color、text-align等)；</p>\n</li>\n<li><p>背景(background、border等)；</p>\n</li>\n<li><p>其他(animation、transition等)</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.declaration-order</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* Positioning */</span></span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">100</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">/* Box-model */</span></span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Typography */</span></span><br><span class=\"line\">  <span class=\"attribute\">font</span>: normal <span class=\"number\">13px</span> <span class=\"string\">&quot;Helvetica Neue&quot;</span>, sans-serif;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Visual */</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"number\">#f5f5f5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e5e5e5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">3px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* Misc */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1-3-选择器如无必要\"><a href=\"#1-3-选择器如无必要\" class=\"headerlink\" title=\"1.3 选择器如无必要\"></a>1.3 选择器如无必要</h4><p>不得为 id、class 选择器添加类型选择器进行限定，在性能和维护性上，都有一定的影响。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 推荐*/</span></span><br><span class=\"line\"><span class=\"selector-id\">#error</span>,</span><br><span class=\"line\"><span class=\"selector-class\">.danger-message</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font</span>-<span class=\"attribute\">color</span>: <span class=\"number\">#c00</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* 不推荐*/</span></span><br><span class=\"line\">dialog<span class=\"selector-id\">#error</span>,</span><br><span class=\"line\"><span class=\"selector-tag\">p</span><span class=\"selector-class\">.danger-message</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">font</span>-<span class=\"attribute\">color</span>: <span class=\"number\">#c00</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1-4-多个选择器公用相同属性时\"><a href=\"#1-4-多个选择器公用相同属性时\" class=\"headerlink\" title=\"1.4 多个选择器公用相同属性时\"></a>1.4 多个选择器公用相同属性时</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 推荐 */</span></span><br><span class=\"line\">\t<span class=\"selector-class\">.post</span>,</span><br><span class=\"line\">\t<span class=\"selector-class\">.page</span>,</span><br><span class=\"line\">\t<span class=\"selector-class\">.comment</span> &#123;</span><br><span class=\"line\">\t    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">/* 不推荐 */</span></span><br><span class=\"line\">\t<span class=\"selector-class\">.post</span>, <span class=\"selector-class\">.page</span>, <span class=\"selector-class\">.comment</span> &#123;</span><br><span class=\"line\">\t    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5</span>;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、JS规范\"><a href=\"#二、JS规范\" class=\"headerlink\" title=\"二、JS规范\"></a>二、JS规范</h3><h4 id=\"2-1-文件命名\"><a href=\"#2-1-文件命名\" class=\"headerlink\" title=\"2.1 文件命名\"></a>2.1 文件命名</h4><p>文件夹和文件名的命名应该能代表代码功能，与后端一致为佳。</p>\n<h4 id=\"2-2-语言规范\"><a href=\"#2-2-语言规范\" class=\"headerlink\" title=\"2.2 语言规范\"></a>2.2 语言规范</h4></li>\n<li><p>变量<br>声明变量必须加上 let、const、var 关键字.<br>当你没有写 let、const、var, 变量就会暴露在全局上下文中, 这样很可能会和现有变量冲突. 另外, 如果没有加上, 很难明确该变量的作用域是什么,<br>变量也很可能像在局部作用域中, 很轻易地泄漏到 Document 或者 Window 中, 所以务必用 let、const 、var去声明变量.</p>\n</li>\n<li><p>分号<br>总是使用分号<br>如果仅依靠语句间的隐式分隔, 有时会很麻烦. 你自己更能清楚哪里是语句的起止,而且有些情况下，漏掉分号会很危险。</p>\n</li>\n<li><p>for-in 循环<br>最好只用于 object/map/hash 的遍历<br>对 Array 用 for-in 循环有时会出错. 因为它并不是从 0 到 length - 1 进行遍历, 而是所有出现在对象及其原型链的键值.<br>例如：给原型添加属性之后，默认情况下枚举，最后输出1234513</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getNewArrayTwo</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> array=[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span> ];</span><br><span class=\"line\">\t\t<span class=\"built_in\">Array</span>.prototype.age=<span class=\"number\">13</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> result=[];</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> array)&#123;</span><br><span class=\"line\">\t      result.push(array[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\talert(result.join(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\">\t  &#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"三、编码风格\"><a href=\"#三、编码风格\" class=\"headerlink\" title=\"三、编码风格\"></a>三、编码风格</h3><p>3.1 明确作用域<br>任何时候都要明确作用域 – 提高可移植性和清晰度. 例如, 不要依赖于作用域链中的 window 对象.<br>可能在其他应用中, 你函数中的 window 不是指之前的那个窗口对象。</p>\n<p>3.2 代码格式化<br>数组和对象的初始化,如果初始值不是很长, 就保持写在单行上:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];  <span class=\"comment\">// No space after [ or before ].</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;<span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>, <span class=\"attr\">c</span>: <span class=\"number\">3</span>&#125;;  <span class=\"comment\">// No space after &#123; or before &#125;.</span></span><br><span class=\"line\">     初始值占用多行时, 缩进<span class=\"number\">2</span>个空格.</span><br><span class=\"line\">    <span class=\"comment\">// Object initializer.</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> inset = &#123;</span><br><span class=\"line\">\t  top: <span class=\"number\">10</span>,</span><br><span class=\"line\">\t  right: <span class=\"number\">20</span>,</span><br><span class=\"line\">\t  bottom: <span class=\"number\">15</span>,</span><br><span class=\"line\">\t  left: <span class=\"number\">12</span></span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">// Array initializer.</span></span><br><span class=\"line\">\t<span class=\"built_in\">this</span>.rows_ = [</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Slartibartfast&quot; &lt;fjordmaster@magrathea.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Zaphod Beeblebrox&quot; &lt;theprez@universe.gov&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Ford Prefect&quot; &lt;ford@theguide.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Arthur Dent&quot; &lt;has.no.tea@gmail.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;&quot;Marvin the Paranoid Android&quot; &lt;marv@googlemail.com&gt;&#x27;</span>,</span><br><span class=\"line\">\t  <span class=\"string\">&#x27;the.mice@magrathea.com&#x27;</span></span><br><span class=\"line\">\t];</span><br></pre></td></tr></table></figure>\n<p>3.3 引号的使用<br>单引号 (‘) 优于双引号 (“).<br>当你创建一个包含 HTML 代码的字符串时就知道它的好处了。</p>\n<p>3.4 过长的单行予以换行<br>换行应选择在操作符和标点符号之后。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"keyword\">if</span> (oUser.nAge &lt; <span class=\"number\">30</span></span><br><span class=\"line\">    &amp;&amp; oUser.bIsChecked === <span class=\"literal\">true</span></span><br><span class=\"line\">    || oUser.sName === <span class=\"string\">&#x27;admin&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// code</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"四、vue规范\"><a href=\"#四、vue规范\" class=\"headerlink\" title=\"四、vue规范\"></a>四、vue规范</h3><h4 id=\"4-1-vue属性书写顺序\"><a href=\"#4-1-vue属性书写顺序\" class=\"headerlink\" title=\"4.1 vue属性书写顺序\"></a>4.1 vue属性书写顺序</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">   <span class=\"comment\">//不要忘记了 name 属性</span></span><br><span class=\"line\">    name: <span class=\"string\">&#x27;RangeSlider&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//组合其它组件</span></span><br><span class=\"line\">    <span class=\"keyword\">extends</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//组件属性、变量</span></span><br><span class=\"line\">    props: &#123;</span><br><span class=\"line\">            bar: &#123;&#125;, <span class=\"comment\">// 按字母顺序</span></span><br><span class=\"line\">            foo: &#123;&#125;,</span><br><span class=\"line\">            fooBar: &#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 变量</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;&#125;,</span><br><span class=\"line\">    computed: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//使用其它组件</span></span><br><span class=\"line\">    components: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 方法</span></span><br><span class=\"line\">    watch: &#123;&#125;,</span><br><span class=\"line\">    methods: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 生命周期函数</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">beforeCreate</span>(<span class=\"params\"></span>)</span> &#123;&#125;,</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">mounted</span>(<span class=\"params\"></span>)</span> &#123;&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-2组件\"><a href=\"#4-2组件\" class=\"headerlink\" title=\"4.2组件\"></a>4.2组件</h4><p>组件以驼峰命名  以及书写顺序</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">my-components</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">my-components</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">import</span> myComponents <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponents.vue&#x27;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">      myComponents</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"4-3-组件引用\"><a href=\"#4-3-组件引用\" class=\"headerlink\" title=\"4.3 组件引用\"></a>4.3 组件引用</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> myComponentsA <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsA.vue&#x27;</span>  </span><br><span class=\"line\"><span class=\"keyword\">import</span> myComponentsB <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsB.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> myComponentsC <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsC.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> myComponentsD <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./myComponentsD.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    myComponentsA,</span><br><span class=\"line\">    myComponentsB,</span><br><span class=\"line\">    myComponentsC,</span><br><span class=\"line\">    myComponentsD,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-4-事件\"><a href=\"#4-4-事件\" class=\"headerlink\" title=\"4.4 事件\"></a>4.4 事件</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"comment\">&lt;!-- 不建议 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-on:click</span>=<span class=\"string\">&quot;pass()&quot;</span>&gt;</span>pass<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 推荐 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;pass&quot;</span>&gt;</span>pass<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"4-5-vue页面使用每个-vue-页面中的最外层template下面只能有一个标签\"><a href=\"#4-5-vue页面使用每个-vue-页面中的最外层template下面只能有一个标签\" class=\"headerlink\" title=\"4.5 vue页面使用每个 vue 页面中的最外层template下面只能有一个标签\"></a>4.5 vue页面使用每个 vue 页面中的最外层template下面只能有一个标签</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// error</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">// right</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"4-6-vue返回上一页\"><a href=\"#4-6-vue返回上一页\" class=\"headerlink\" title=\"4.6 vue返回上一页\"></a>4.6 vue返回上一页</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">this.$router.go(-1) //就可以回到上一页。</span><br><span class=\"line\">history.go(-1) //是回到浏览器上一页，但是由于Vue应用是单页应用，浏览器的访问历史未必和Vue的浏览历史相同。</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-7-通过路由跳转，传递查询内容\"><a href=\"#4-7-通过路由跳转，传递查询内容\" class=\"headerlink\" title=\"4.7 通过路由跳转，传递查询内容\"></a>4.7 通过路由跳转，传递查询内容</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.$router.push(&#123;</span><br><span class=\"line\">    path: <span class=\"string\">&quot;/path&quot;</span>,</span><br><span class=\"line\">    query:&#123;<span class=\"attr\">query</span>:queryThings&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-8-methods-自定义方法命名\"><a href=\"#4-8-methods-自定义方法命名\" class=\"headerlink\" title=\"4.8 methods 自定义方法命名\"></a>4.8 methods 自定义方法命名</h4><ol>\n<li>动宾短语（good：jumpPage、openCarInfoDialog）（bad：go、nextPage、show、open、login）</li>\n<li>ajax 方法以 get、post 开头，以 data 结尾（good：getListData、postFormData）（bad：takeData、confirmData、getList、postForm）</li>\n<li>事件方法以 on 开头（onTypeChange、onUsernameInput）</li>\n<li>init、refresh 单词除外</li>\n<li>尽量使用常用单词开头（set、get、open、close、jump）</li>\n<li>驼峰命名（good: getListData）（bad: get_list_data、getlistData）</li>\n</ol>\n<h4 id=\"4-9-路由的命名\"><a href=\"#4-9-路由的命名\" class=\"headerlink\" title=\"4.9 路由的命名\"></a>4.9 路由的命名</h4><p>path和name使用相同的命名</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 示例：&#123;</span><br><span class=\"line\">    path: &#x27;/merchandise&#x27;, //路由路径</span><br><span class=\"line\">    icon: &#x27;key&#x27;, //icon图标</span><br><span class=\"line\">    name: &#x27;merchandise&#x27;, //路由名称</span><br><span class=\"line\">    title: &#x27;商品&#x27;, //路由标题</span><br><span class=\"line\">    access: 0, //权限代码</span><br><span class=\"line\">    component: main,</span><br><span class=\"line\">    children: [</span><br><span class=\"line\">        &#123; path: &#x27;merchandise-pubish&#x27;, title: &#x27;商品发布&#x27;, name: &#x27;merchandise-pubish&#x27;, component: () =&gt; import(&#x27;@/views/merchandise/pubish.vue&#x27;) &#125;,</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"五、注释规范\"><a href=\"#五、注释规范\" class=\"headerlink\" title=\"五、注释规范\"></a>五、注释规范</h3><h4 id=\"5-1-页面注释规范\"><a href=\"#5-1-页面注释规范\" class=\"headerlink\" title=\"5.1 页面注释规范\"></a>5.1 页面注释规范</h4><p>  页面中使用注释划分结构块，注意与css中的注释达成统一格式。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"comment\">&lt;!-- 头部 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;g-hd&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- LOGO --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;m-logo&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">hred</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>LOGO<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- /LOGO --&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 导航 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;m-nav&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">hred</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>NAV1<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">hred</span>=<span class=\"string\">&quot;#&quot;</span>&gt;</span>NAV2<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- /导航 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- /头部 --&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"5-2-函数注释\"><a href=\"#5-2-函数注释\" class=\"headerlink\" title=\"5.2 函数注释\"></a>5.2 函数注释</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* 简述</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* 功能详细描述</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param </span>&lt;String&gt; arg1 参数1</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param </span>&lt;Number&gt; arg2 参数2，默认为0</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@return </span>&lt;Boolean&gt; 判断xxx是否成功</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fooFunction</span> (<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">// code</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"5-3语句注释\"><a href=\"#5-3语句注释\" class=\"headerlink\" title=\"5.3语句注释\"></a>5.3语句注释</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   #单独一行 //(双斜线)与注释文字之间保留一个空格；</span><br><span class=\"line\">   #在代码后面添加注释：//(双斜线)与代码之间保留一个空格，并且//(双斜线)与注释文字之间保留一个空格；</span><br><span class=\"line\">   #//(双斜线)与代码之间保留一个空格。</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 调用了一个函数；1)单独在一行</span></span><br><span class=\"line\">setTitle();</span><br><span class=\"line\"><span class=\"keyword\">var</span> maxCount = <span class=\"number\">10</span>; <span class=\"comment\">// 设置最大量；2)在代码后面注释</span></span><br><span class=\"line\"><span class=\"comment\">// setName(); // 3)注释代码</span></span><br></pre></td></tr></table></figure>\n"},{"title":"玩转CSS","author":"Zhenggl","date":"2021-03-12T02:48:00.000Z","cover_picture":"https://img.91temaichang.com/blog/css-structure.jpeg","top":1,"_content":"\n\n关于CSS学习的路线架构图，长期维护更新，每次添加的文章，都会已这个作为文章的目录\n![玩转CSS架构图](https://img.91temaichang.com/blog/playCSS.png)\n\n\n### 一、[准备篇]()\n### 二、[基础篇]()\n### 三、[进阶篇]()\n### 四、[技巧篇]()\n### 五、[实战篇]()\n### 六、[总结篇]()\n","source":"_posts/css-study-structure.md","raw":"---\ntitle: 玩转CSS\nauthor: Zhenggl\ndate: 2021-03-12 10:48:00\ncategories:\n  - [前端, css]\ntags:\n  - css\n\ncover_picture: https://img.91temaichang.com/blog/css-structure.jpeg\ntop: 1\n---\n\n\n关于CSS学习的路线架构图，长期维护更新，每次添加的文章，都会已这个作为文章的目录\n![玩转CSS架构图](https://img.91temaichang.com/blog/playCSS.png)\n\n\n### 一、[准备篇]()\n### 二、[基础篇]()\n### 三、[进阶篇]()\n### 四、[技巧篇]()\n### 五、[实战篇]()\n### 六、[总结篇]()\n","slug":"css-study-structure","published":1,"updated":"2021-03-15T09:35:22.020Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvu200029d09faesabgb","content":"<p>关于CSS学习的路线架构图，长期维护更新，每次添加的文章，都会已这个作为文章的目录<br><img src=\"https://img.91temaichang.com/blog/playCSS.png\" alt=\"玩转CSS架构图\"></p>\n<h3 id=\"一、准备篇\"><a href=\"#一、准备篇\" class=\"headerlink\" title=\"一、准备篇\"></a>一、<a href=\"\">准备篇</a></h3><h3 id=\"二、基础篇\"><a href=\"#二、基础篇\" class=\"headerlink\" title=\"二、基础篇\"></a>二、<a href=\"\">基础篇</a></h3><h3 id=\"三、进阶篇\"><a href=\"#三、进阶篇\" class=\"headerlink\" title=\"三、进阶篇\"></a>三、<a href=\"\">进阶篇</a></h3><h3 id=\"四、技巧篇\"><a href=\"#四、技巧篇\" class=\"headerlink\" title=\"四、技巧篇\"></a>四、<a href=\"\">技巧篇</a></h3><h3 id=\"五、实战篇\"><a href=\"#五、实战篇\" class=\"headerlink\" title=\"五、实战篇\"></a>五、<a href=\"\">实战篇</a></h3><h3 id=\"六、总结篇\"><a href=\"#六、总结篇\" class=\"headerlink\" title=\"六、总结篇\"></a>六、<a href=\"\">总结篇</a></h3>","site":{"data":{}},"excerpt":"","more":"<p>关于CSS学习的路线架构图，长期维护更新，每次添加的文章，都会已这个作为文章的目录<br><img src=\"https://img.91temaichang.com/blog/playCSS.png\" alt=\"玩转CSS架构图\"></p>\n<h3 id=\"一、准备篇\"><a href=\"#一、准备篇\" class=\"headerlink\" title=\"一、准备篇\"></a>一、<a href=\"\">准备篇</a></h3><h3 id=\"二、基础篇\"><a href=\"#二、基础篇\" class=\"headerlink\" title=\"二、基础篇\"></a>二、<a href=\"\">基础篇</a></h3><h3 id=\"三、进阶篇\"><a href=\"#三、进阶篇\" class=\"headerlink\" title=\"三、进阶篇\"></a>三、<a href=\"\">进阶篇</a></h3><h3 id=\"四、技巧篇\"><a href=\"#四、技巧篇\" class=\"headerlink\" title=\"四、技巧篇\"></a>四、<a href=\"\">技巧篇</a></h3><h3 id=\"五、实战篇\"><a href=\"#五、实战篇\" class=\"headerlink\" title=\"五、实战篇\"></a>五、<a href=\"\">实战篇</a></h3><h3 id=\"六、总结篇\"><a href=\"#六、总结篇\" class=\"headerlink\" title=\"六、总结篇\"></a>六、<a href=\"\">总结篇</a></h3>"},{"title":"立即执行的js函数有毛用？","author":"Zhenggl","date":"2021-03-15T01:37:18.000Z","cover_picture":"https://img.91temaichang.com/blog/js-data-type.jpg","_content":"\n**js立即执行的函数可以让函数在创建之后立马执行，这种编写模式本质上就是函数表达式(命名的或者匿名的)，在创建之后立即执行**\n\n### 一、立即执行函数的写法\n\n![立即执行函数写法](https://img.91temaichang.com/blog/immedialtely-js.png)\n\n一般立即执行的函数，都是正常写一js函数(命名或者匿名的)，然后用一()将整个函数包括函数给括起来，然后再加一()紧跟随其后，有需要的就对应传递相关函数调用参数\n\n```javascript\n  // 匿名函数第一种写法：匿名函数包裹在一个括号运算符中，后面跟一个小括号\n  (function(){console.info('hello')})();       //输出hello\n  // 匿名函数第二种写法：匿名函数后面跟一个小括号，整个包裹在一个括号运算符中\n  (function(){console.info('hello')});\n  (function add(x, y){return x + y;})(1, 2);  //输出3\n  // 错误的写法\n  // function(){}();\n```\n上述第三种写法报错：Uncaught SyntaxError: Unexpected token{\njs词法引擎在解析function关键词之后，认为后面跟随的是函数定义语句，而在一条语句后面加上()会被当作分组操作符，\n分组操作符必须要有表达式，所以这里报错，不应该以圆括号结尾，以圆括号结尾，引擎就会认为后面跟的是一个表达式，而不是函数定义。\n\n**`(), !, +, -, ~, new 等运算符都能够起到立即执行的作用，这些运算符的作用就是将匿名/具名函数声明转换为函数表达式`**\n\n**`要注意两点，一是函数体后要有小括号()，二是函数体必须是函数表达式而不是函数声明`**\n```javascript\n  (function(test){console.info(test)})(123);  //使用()运算符，输出123\n  \n  (function(test){console.info(test)}(123));  //使用()运算符，输出123\n  \n  !function(test){console.info(test)}(123);  //使用!运算符，输出123\n  \n  var fn = function(test){console.info(test)}(123); //使用=运算法，输出123\n```\n\n### 二、立即执行函数的作用\n立即执行的函数只有一个作用：创建一个独立的作用域，这个作用域里面的变量，外面访问不了(即避免了变量的污染)。\n比如，有一面试题：\n```javascript\n  var liList = ul.getElementsByTagName('li');\n  for(var i = 0; i < 6; i ++){\n  \tliList.onclick = function(){\n  \t\talert(i);\n  \t}\n  }\n```\n输出：6,6,6,6,6,6\n原因：为毛上述的输出总是6呢？im因为输出的i是全局作用域的，当循环结束后i的值是6，所以i输出的就是6\n幅图：\n\n![幅图](https://img.91temaichang.com/blog/immediately-js-result.png)\n\n解决方案：\n\n用立即执行函数给每个li创造一个独立作用域即可\n```javascript\n  var liList = ul.getElementsByTagName('li');\n  for(var i = 0; i < 6; i ++){\n  \tliList.onclick = function(){\n  \t\talert(i);\n  \t}(i);\n  }\n```\n### 三、与闭包的区别\nsetTimeout依次输出0 1 2 3 4 5\n```javascript\n  for(var i = 0; i < 6; i ++){\n\t(function(i){\n\t\tsetTimeout(function(){\n\t\t\tconsole.info(i);\n\t\t}, 1000);\n\t})(i);\n  }\n  console.info(i);  //输出5，因为for循环后i就会变成5\n```\n解析：第一个5很好输出，因为已经过了一个for循环，因此值变为5，剩下的交给立即执行函数来执行，首先js中调用函数传参都是值传参，\n所以当立即执行函数执行时，首先会将i给copy一份，然后再创建函数作用域来执行函数，循环5次，就会对应创建5个作用域，所以1秒后几乎会同时输出0 1 2 3 4 5，\n这里同时输出，并没有1秒输出，这里需要了解下js的event loop机制\n\n**立即执行函数与闭包没有什么关系，只是两者会经常结合在一起使用而已，但两者有本质的不同**\n立即执行函数和闭包只是有一个共同优点就是能减少全局变量的使用。\n\n立即执行函数只是函数的一种调用方式，只是声明完之后立即执行，这类函数一般都只是调用一次，调用完之后会立即销毁，不会占用内存。\n\n闭包则主要是让外部函数可以访问内部函数的作用域，也减少了全局变量的使用，保证了内部变量的安全，但因被引用的内部变量不能被销毁，增大了内存消耗，使用不当易造成内存泄露。\n\n### 四、使用场景\n1. 你的代码在页面加载完成之后，不得不执行一些设置工作，比如时间处理器，创建对象等等；\n2. 所有这些工作只需要执行一次，比如只需要显示一个时间；\n3. 但是这些代码也需要一些临时的变量，然后在初始化结束之后，就再也不会被用到，如果将这些变量作为全局变量，可能会被全局污染到。\n","source":"_posts/exec-immediately-func.md","raw":"---\ntitle: 立即执行的js函数有毛用？\nauthor: Zhenggl\ndate: 2021-03-15 09:37:18\ncategories:\n  - [前端, javascript]\ntags:\n  - javascript\n  - 基础\n  - function\ncover_picture: https://img.91temaichang.com/blog/js-data-type.jpg\n---\n\n**js立即执行的函数可以让函数在创建之后立马执行，这种编写模式本质上就是函数表达式(命名的或者匿名的)，在创建之后立即执行**\n\n### 一、立即执行函数的写法\n\n![立即执行函数写法](https://img.91temaichang.com/blog/immedialtely-js.png)\n\n一般立即执行的函数，都是正常写一js函数(命名或者匿名的)，然后用一()将整个函数包括函数给括起来，然后再加一()紧跟随其后，有需要的就对应传递相关函数调用参数\n\n```javascript\n  // 匿名函数第一种写法：匿名函数包裹在一个括号运算符中，后面跟一个小括号\n  (function(){console.info('hello')})();       //输出hello\n  // 匿名函数第二种写法：匿名函数后面跟一个小括号，整个包裹在一个括号运算符中\n  (function(){console.info('hello')});\n  (function add(x, y){return x + y;})(1, 2);  //输出3\n  // 错误的写法\n  // function(){}();\n```\n上述第三种写法报错：Uncaught SyntaxError: Unexpected token{\njs词法引擎在解析function关键词之后，认为后面跟随的是函数定义语句，而在一条语句后面加上()会被当作分组操作符，\n分组操作符必须要有表达式，所以这里报错，不应该以圆括号结尾，以圆括号结尾，引擎就会认为后面跟的是一个表达式，而不是函数定义。\n\n**`(), !, +, -, ~, new 等运算符都能够起到立即执行的作用，这些运算符的作用就是将匿名/具名函数声明转换为函数表达式`**\n\n**`要注意两点，一是函数体后要有小括号()，二是函数体必须是函数表达式而不是函数声明`**\n```javascript\n  (function(test){console.info(test)})(123);  //使用()运算符，输出123\n  \n  (function(test){console.info(test)}(123));  //使用()运算符，输出123\n  \n  !function(test){console.info(test)}(123);  //使用!运算符，输出123\n  \n  var fn = function(test){console.info(test)}(123); //使用=运算法，输出123\n```\n\n### 二、立即执行函数的作用\n立即执行的函数只有一个作用：创建一个独立的作用域，这个作用域里面的变量，外面访问不了(即避免了变量的污染)。\n比如，有一面试题：\n```javascript\n  var liList = ul.getElementsByTagName('li');\n  for(var i = 0; i < 6; i ++){\n  \tliList.onclick = function(){\n  \t\talert(i);\n  \t}\n  }\n```\n输出：6,6,6,6,6,6\n原因：为毛上述的输出总是6呢？im因为输出的i是全局作用域的，当循环结束后i的值是6，所以i输出的就是6\n幅图：\n\n![幅图](https://img.91temaichang.com/blog/immediately-js-result.png)\n\n解决方案：\n\n用立即执行函数给每个li创造一个独立作用域即可\n```javascript\n  var liList = ul.getElementsByTagName('li');\n  for(var i = 0; i < 6; i ++){\n  \tliList.onclick = function(){\n  \t\talert(i);\n  \t}(i);\n  }\n```\n### 三、与闭包的区别\nsetTimeout依次输出0 1 2 3 4 5\n```javascript\n  for(var i = 0; i < 6; i ++){\n\t(function(i){\n\t\tsetTimeout(function(){\n\t\t\tconsole.info(i);\n\t\t}, 1000);\n\t})(i);\n  }\n  console.info(i);  //输出5，因为for循环后i就会变成5\n```\n解析：第一个5很好输出，因为已经过了一个for循环，因此值变为5，剩下的交给立即执行函数来执行，首先js中调用函数传参都是值传参，\n所以当立即执行函数执行时，首先会将i给copy一份，然后再创建函数作用域来执行函数，循环5次，就会对应创建5个作用域，所以1秒后几乎会同时输出0 1 2 3 4 5，\n这里同时输出，并没有1秒输出，这里需要了解下js的event loop机制\n\n**立即执行函数与闭包没有什么关系，只是两者会经常结合在一起使用而已，但两者有本质的不同**\n立即执行函数和闭包只是有一个共同优点就是能减少全局变量的使用。\n\n立即执行函数只是函数的一种调用方式，只是声明完之后立即执行，这类函数一般都只是调用一次，调用完之后会立即销毁，不会占用内存。\n\n闭包则主要是让外部函数可以访问内部函数的作用域，也减少了全局变量的使用，保证了内部变量的安全，但因被引用的内部变量不能被销毁，增大了内存消耗，使用不当易造成内存泄露。\n\n### 四、使用场景\n1. 你的代码在页面加载完成之后，不得不执行一些设置工作，比如时间处理器，创建对象等等；\n2. 所有这些工作只需要执行一次，比如只需要显示一个时间；\n3. 但是这些代码也需要一些临时的变量，然后在初始化结束之后，就再也不会被用到，如果将这些变量作为全局变量，可能会被全局污染到。\n","slug":"exec-immediately-func","published":1,"updated":"2021-03-19T09:38:55.143Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvu500049d0988svhkx3","content":"<p><strong>js立即执行的函数可以让函数在创建之后立马执行，这种编写模式本质上就是函数表达式(命名的或者匿名的)，在创建之后立即执行</strong></p>\n<h3 id=\"一、立即执行函数的写法\"><a href=\"#一、立即执行函数的写法\" class=\"headerlink\" title=\"一、立即执行函数的写法\"></a>一、立即执行函数的写法</h3><p><img src=\"https://img.91temaichang.com/blog/immedialtely-js.png\" alt=\"立即执行函数写法\"></p>\n<p>一般立即执行的函数，都是正常写一js函数(命名或者匿名的)，然后用一()将整个函数包括函数给括起来，然后再加一()紧跟随其后，有需要的就对应传递相关函数调用参数</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 匿名函数第一种写法：匿名函数包裹在一个括号运算符中，后面跟一个小括号</span></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;hello&#x27;</span>)&#125;)();       <span class=\"comment\">//输出hello</span></span><br><span class=\"line\"><span class=\"comment\">// 匿名函数第二种写法：匿名函数后面跟一个小括号，整个包裹在一个括号运算符中</span></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;hello&#x27;</span>)&#125;);</span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span>(<span class=\"params\">x, y</span>)</span>&#123;<span class=\"keyword\">return</span> x + y;&#125;)(<span class=\"number\">1</span>, <span class=\"number\">2</span>);  <span class=\"comment\">//输出3</span></span><br><span class=\"line\"><span class=\"comment\">// 错误的写法</span></span><br><span class=\"line\"><span class=\"comment\">// function()&#123;&#125;();</span></span><br></pre></td></tr></table></figure>\n<p>上述第三种写法报错：Uncaught SyntaxError: Unexpected token{<br>js词法引擎在解析function关键词之后，认为后面跟随的是函数定义语句，而在一条语句后面加上()会被当作分组操作符，<br>分组操作符必须要有表达式，所以这里报错，不应该以圆括号结尾，以圆括号结尾，引擎就会认为后面跟的是一个表达式，而不是函数定义。</p>\n<p><strong><code>(), !, +, -, ~, new 等运算符都能够起到立即执行的作用，这些运算符的作用就是将匿名/具名函数声明转换为函数表达式</code></strong></p>\n<p><strong><code>要注意两点，一是函数体后要有小括号()，二是函数体必须是函数表达式而不是函数声明</code></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;)(<span class=\"number\">123</span>);  <span class=\"comment\">//使用()运算符，输出123</span></span><br><span class=\"line\"></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;(<span class=\"number\">123</span>));  <span class=\"comment\">//使用()运算符，输出123</span></span><br><span class=\"line\"></span><br><span class=\"line\">!<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;(<span class=\"number\">123</span>);  <span class=\"comment\">//使用!运算符，输出123</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> fn = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;(<span class=\"number\">123</span>); <span class=\"comment\">//使用=运算法，输出123</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"二、立即执行函数的作用\"><a href=\"#二、立即执行函数的作用\" class=\"headerlink\" title=\"二、立即执行函数的作用\"></a>二、立即执行函数的作用</h3><p>立即执行的函数只有一个作用：创建一个独立的作用域，这个作用域里面的变量，外面访问不了(即避免了变量的污染)。<br>比如，有一面试题：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> liList = ul.getElementsByTagName(<span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i ++)&#123;</span><br><span class=\"line\">\tliList.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>输出：6,6,6,6,6,6<br>原因：为毛上述的输出总是6呢？im因为输出的i是全局作用域的，当循环结束后i的值是6，所以i输出的就是6<br>幅图：</p>\n<p><img src=\"https://img.91temaichang.com/blog/immediately-js-result.png\" alt=\"幅图\"></p>\n<p>解决方案：</p>\n<p>用立即执行函数给每个li创造一个独立作用域即可</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> liList = ul.getElementsByTagName(<span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i ++)&#123;</span><br><span class=\"line\">\tliList.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(i);</span><br><span class=\"line\">\t&#125;(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"三、与闭包的区别\"><a href=\"#三、与闭包的区别\" class=\"headerlink\" title=\"三、与闭包的区别\"></a>三、与闭包的区别</h3><p>setTimeout依次输出0 1 2 3 4 5</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i ++)&#123;</span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">i</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(i);</span><br><span class=\"line\">\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;)(i);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.info(i);  <span class=\"comment\">//输出5，因为for循环后i就会变成5</span></span><br></pre></td></tr></table></figure>\n<p>解析：第一个5很好输出，因为已经过了一个for循环，因此值变为5，剩下的交给立即执行函数来执行，首先js中调用函数传参都是值传参，<br>所以当立即执行函数执行时，首先会将i给copy一份，然后再创建函数作用域来执行函数，循环5次，就会对应创建5个作用域，所以1秒后几乎会同时输出0 1 2 3 4 5，<br>这里同时输出，并没有1秒输出，这里需要了解下js的event loop机制</p>\n<p><strong>立即执行函数与闭包没有什么关系，只是两者会经常结合在一起使用而已，但两者有本质的不同</strong><br>立即执行函数和闭包只是有一个共同优点就是能减少全局变量的使用。</p>\n<p>立即执行函数只是函数的一种调用方式，只是声明完之后立即执行，这类函数一般都只是调用一次，调用完之后会立即销毁，不会占用内存。</p>\n<p>闭包则主要是让外部函数可以访问内部函数的作用域，也减少了全局变量的使用，保证了内部变量的安全，但因被引用的内部变量不能被销毁，增大了内存消耗，使用不当易造成内存泄露。</p>\n<h3 id=\"四、使用场景\"><a href=\"#四、使用场景\" class=\"headerlink\" title=\"四、使用场景\"></a>四、使用场景</h3><ol>\n<li>你的代码在页面加载完成之后，不得不执行一些设置工作，比如时间处理器，创建对象等等；</li>\n<li>所有这些工作只需要执行一次，比如只需要显示一个时间；</li>\n<li>但是这些代码也需要一些临时的变量，然后在初始化结束之后，就再也不会被用到，如果将这些变量作为全局变量，可能会被全局污染到。</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>js立即执行的函数可以让函数在创建之后立马执行，这种编写模式本质上就是函数表达式(命名的或者匿名的)，在创建之后立即执行</strong></p>\n<h3 id=\"一、立即执行函数的写法\"><a href=\"#一、立即执行函数的写法\" class=\"headerlink\" title=\"一、立即执行函数的写法\"></a>一、立即执行函数的写法</h3><p><img src=\"https://img.91temaichang.com/blog/immedialtely-js.png\" alt=\"立即执行函数写法\"></p>\n<p>一般立即执行的函数，都是正常写一js函数(命名或者匿名的)，然后用一()将整个函数包括函数给括起来，然后再加一()紧跟随其后，有需要的就对应传递相关函数调用参数</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 匿名函数第一种写法：匿名函数包裹在一个括号运算符中，后面跟一个小括号</span></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;hello&#x27;</span>)&#125;)();       <span class=\"comment\">//输出hello</span></span><br><span class=\"line\"><span class=\"comment\">// 匿名函数第二种写法：匿名函数后面跟一个小括号，整个包裹在一个括号运算符中</span></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;hello&#x27;</span>)&#125;);</span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">add</span>(<span class=\"params\">x, y</span>)</span>&#123;<span class=\"keyword\">return</span> x + y;&#125;)(<span class=\"number\">1</span>, <span class=\"number\">2</span>);  <span class=\"comment\">//输出3</span></span><br><span class=\"line\"><span class=\"comment\">// 错误的写法</span></span><br><span class=\"line\"><span class=\"comment\">// function()&#123;&#125;();</span></span><br></pre></td></tr></table></figure>\n<p>上述第三种写法报错：Uncaught SyntaxError: Unexpected token{<br>js词法引擎在解析function关键词之后，认为后面跟随的是函数定义语句，而在一条语句后面加上()会被当作分组操作符，<br>分组操作符必须要有表达式，所以这里报错，不应该以圆括号结尾，以圆括号结尾，引擎就会认为后面跟的是一个表达式，而不是函数定义。</p>\n<p><strong><code>(), !, +, -, ~, new 等运算符都能够起到立即执行的作用，这些运算符的作用就是将匿名/具名函数声明转换为函数表达式</code></strong></p>\n<p><strong><code>要注意两点，一是函数体后要有小括号()，二是函数体必须是函数表达式而不是函数声明</code></strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;)(<span class=\"number\">123</span>);  <span class=\"comment\">//使用()运算符，输出123</span></span><br><span class=\"line\"></span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;(<span class=\"number\">123</span>));  <span class=\"comment\">//使用()运算符，输出123</span></span><br><span class=\"line\"></span><br><span class=\"line\">!<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;(<span class=\"number\">123</span>);  <span class=\"comment\">//使用!运算符，输出123</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> fn = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">test</span>)</span>&#123;<span class=\"built_in\">console</span>.info(test)&#125;(<span class=\"number\">123</span>); <span class=\"comment\">//使用=运算法，输出123</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"二、立即执行函数的作用\"><a href=\"#二、立即执行函数的作用\" class=\"headerlink\" title=\"二、立即执行函数的作用\"></a>二、立即执行函数的作用</h3><p>立即执行的函数只有一个作用：创建一个独立的作用域，这个作用域里面的变量，外面访问不了(即避免了变量的污染)。<br>比如，有一面试题：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> liList = ul.getElementsByTagName(<span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i ++)&#123;</span><br><span class=\"line\">\tliList.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(i);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>输出：6,6,6,6,6,6<br>原因：为毛上述的输出总是6呢？im因为输出的i是全局作用域的，当循环结束后i的值是6，所以i输出的就是6<br>幅图：</p>\n<p><img src=\"https://img.91temaichang.com/blog/immediately-js-result.png\" alt=\"幅图\"></p>\n<p>解决方案：</p>\n<p>用立即执行函数给每个li创造一个独立作用域即可</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> liList = ul.getElementsByTagName(<span class=\"string\">&#x27;li&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i ++)&#123;</span><br><span class=\"line\">\tliList.onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\talert(i);</span><br><span class=\"line\">\t&#125;(i);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"三、与闭包的区别\"><a href=\"#三、与闭包的区别\" class=\"headerlink\" title=\"三、与闭包的区别\"></a>三、与闭包的区别</h3><p>setTimeout依次输出0 1 2 3 4 5</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i ++)&#123;</span><br><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">i</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(i);</span><br><span class=\"line\">\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;)(i);</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"built_in\">console</span>.info(i);  <span class=\"comment\">//输出5，因为for循环后i就会变成5</span></span><br></pre></td></tr></table></figure>\n<p>解析：第一个5很好输出，因为已经过了一个for循环，因此值变为5，剩下的交给立即执行函数来执行，首先js中调用函数传参都是值传参，<br>所以当立即执行函数执行时，首先会将i给copy一份，然后再创建函数作用域来执行函数，循环5次，就会对应创建5个作用域，所以1秒后几乎会同时输出0 1 2 3 4 5，<br>这里同时输出，并没有1秒输出，这里需要了解下js的event loop机制</p>\n<p><strong>立即执行函数与闭包没有什么关系，只是两者会经常结合在一起使用而已，但两者有本质的不同</strong><br>立即执行函数和闭包只是有一个共同优点就是能减少全局变量的使用。</p>\n<p>立即执行函数只是函数的一种调用方式，只是声明完之后立即执行，这类函数一般都只是调用一次，调用完之后会立即销毁，不会占用内存。</p>\n<p>闭包则主要是让外部函数可以访问内部函数的作用域，也减少了全局变量的使用，保证了内部变量的安全，但因被引用的内部变量不能被销毁，增大了内存消耗，使用不当易造成内存泄露。</p>\n<h3 id=\"四、使用场景\"><a href=\"#四、使用场景\" class=\"headerlink\" title=\"四、使用场景\"></a>四、使用场景</h3><ol>\n<li>你的代码在页面加载完成之后，不得不执行一些设置工作，比如时间处理器，创建对象等等；</li>\n<li>所有这些工作只需要执行一次，比如只需要显示一个时间；</li>\n<li>但是这些代码也需要一些临时的变量，然后在初始化结束之后，就再也不会被用到，如果将这些变量作为全局变量，可能会被全局污染到。</li>\n</ol>\n"},{"title":"Hexo安装与配置服务升级","date":"2021-03-15T09:35:22.021Z","author":"Zhenggl","cover_picture":"http://img.91temaichang.com/blog/default-cover.jpg","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hexo安装与配置服务升级\ndate: 2021-03-06c\ncategories:\nauthor: Zhenggl\ntags:\n    - Hexo\n    - npm\n    - Node.js\ncover_picture: http://img.91temaichang.com/blog/default-cover.jpg\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"updated":"2021-03-19T09:40:02.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvu700069d096y81ckvx","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"Hexo + github + netlify搭建自己的博客系统","author":"Zhenggl","date":"2021-03-07T08:27:48.000Z","cover_picture":"http://img.91temaichang.com/blog/hexo-github.jpg","top":1,"_content":"\n### 一、开始使用\n#### 1.1简介\n根据Hexo官方描述，Hexo是一个快速、简介且高效的博客框架，使用markdown解析文章，在几秒内，即可利用靓丽的主题生成静态网页。\n\n#### 1.2安装\n##### 1.2.1环境需求\n\n - Node.js(版本不得低于10.13，建议使用Node.js12.0及以上)\n - Git\n\n以上两个就不在描述具体如何安装了，度娘一大把\n#### 1.3 Hexo安装\n```shell\nnpm install -g hexo\n```\n\n### 二、开始使用\n#### 2.1 创建博客项目，并初始化\n安装完成后，可直接通过hexo创建并初始化项目，通过以下命令\n```shell\nhexo init blog\n```\n通过上述命令，我们创建并初始化了项目名为blog的Hexo项目\n```shell\ncd blog && npm install \n```\n#### 2.2 目录结构分析说明\n进入blog项目，并安装相关的依赖，通过以下示意图我们可以简单的讲解下项目的目录结构，以及对应的文件作用：\n![目录结构](http://img.91temaichang.com/blog/directory-structure.png)\n1. .deploy_git: 通过github进行打包部署，所生成的待提交的静态资源文件；\n2. scaffold: 通过`new`命令创建出来的页面所需的模版，默认是拿的page作为模版；\n3. source: 通过`new`命令创建出来的页面资源的*.md文件目录，一般我们创建的页面，都在这个目录里面，按照`new`命令对应的标题来命名的；\n4. themes：引用的三方样式，可直接通过配置文件，引用第三方已开发完成并使用中的模版；\n5. _config.yml：整个blog项目的配置文件，从整体上对项目进行全局配置；\n\n#### 2.3 项目配置文件说明\n_config.yml为项目的全局配置文件，一般我们通过配置该文件，对项目整体上进行统一的配置，具体对应哪些字段就不再重复说明了，官方文档上已经解说得很清楚的了，详情请直接访问官方的 [链接](https://hexo.io/zh-cn/docs/configuration)\n##### 2.3.1 上线部署的配置\n```yaml\ndeploy:\n  type: git # 通过git方式来提交\n  repo: https://github.com/kbmjj123/hexo-blog.git # 关联github仓库\n  branch: main #代码分支\n```\n### 三、Hexo命令解读：\n官方对Hexo的相关命令均进行了详细的说明，具体可以浏览官方的[链接](https://hexo.io/zh-cn/docs/commands)进行熟悉；\n\n### 四、开始写作：\n#### 4.1 通过命令创建一新的页面\n```shell\nhexo new page 文件名称 // 如果文件名称由多个字符串构成，需要使用引号将文件名称包裹起来\n```\n#### 4.2 通过上述命令，我们可以在对应的`source/_posts`目录中，看到我们添加的文件目录以及对应的*.md文件\n#### 4.3 写作完成后，进行资源文件生成，并发布\n```shell\nhexo g && hexo d // g为generate、d为deploy的缩写\n```\n这里生成后的资源，均会在.deploy_get目录中生成对应的资源文件，并自动提交至github上，前提是已经在本地将github的key给维护进来了。\n\n### 五、托管到Netlify\n#### 5.1 注册Netlify\n打开[链接](https://www.netlify.com)进行netlify的注册，并选择代码托管的方式来注册\n![注册方式](http://img.91temaichang.com/blog/directory-structure.png)\n#### 5.2 创建新的Site，并选择github作为来源\n![创建site](http://img.91temaichang.com/blog/netlify-create.png)\n#### 5.3 然后选择我们刚刚在github上创建的项目\n![选择项目](http://img.91temaichang.com/blog/netlify-choose-project.png)\n#### 5.4 选择对应的项目分支\n![选择分支](http://img.91temaichang.com/blog/netlify-choose-branch.png)\n#### 5.5 接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\n![创建成功](http://img.91temaichang.com/blog/netlify-created-site.png)\n#### 5.6 添加项目域名\n![配置域名](http://img.91temaichang.com/blog/netlify-edit-domain.png)\n#### 5.7 配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\n![获取记录](http://img.91temaichang.com/blog/netlify-edit-domain2.png)\n对应登录阿里云控制台，找到域名，对应进入解析配置中心，并对应添加两条记录：\n![阿里云DNS解析](http://img.91temaichang.com/blog/aliyun.png)\n#### 5.8 解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\n![配置后的访问](http://img.91temaichang.com/blog/blog.png)\n\n","source":"_posts/hexo-github-netify.md","raw":"---\ntitle: Hexo + github + netlify搭建自己的博客系统\nauthor: Zhenggl\ndate: 2021-03-07 16:27:48\ncategories:\n  - [积累与沉淀,自定义服务]\ntags:\n  - hexo\n  - github\n  - netlify\ncover_picture: http://img.91temaichang.com/blog/hexo-github.jpg\ntop: 1\n---\n\n### 一、开始使用\n#### 1.1简介\n根据Hexo官方描述，Hexo是一个快速、简介且高效的博客框架，使用markdown解析文章，在几秒内，即可利用靓丽的主题生成静态网页。\n\n#### 1.2安装\n##### 1.2.1环境需求\n\n - Node.js(版本不得低于10.13，建议使用Node.js12.0及以上)\n - Git\n\n以上两个就不在描述具体如何安装了，度娘一大把\n#### 1.3 Hexo安装\n```shell\nnpm install -g hexo\n```\n\n### 二、开始使用\n#### 2.1 创建博客项目，并初始化\n安装完成后，可直接通过hexo创建并初始化项目，通过以下命令\n```shell\nhexo init blog\n```\n通过上述命令，我们创建并初始化了项目名为blog的Hexo项目\n```shell\ncd blog && npm install \n```\n#### 2.2 目录结构分析说明\n进入blog项目，并安装相关的依赖，通过以下示意图我们可以简单的讲解下项目的目录结构，以及对应的文件作用：\n![目录结构](http://img.91temaichang.com/blog/directory-structure.png)\n1. .deploy_git: 通过github进行打包部署，所生成的待提交的静态资源文件；\n2. scaffold: 通过`new`命令创建出来的页面所需的模版，默认是拿的page作为模版；\n3. source: 通过`new`命令创建出来的页面资源的*.md文件目录，一般我们创建的页面，都在这个目录里面，按照`new`命令对应的标题来命名的；\n4. themes：引用的三方样式，可直接通过配置文件，引用第三方已开发完成并使用中的模版；\n5. _config.yml：整个blog项目的配置文件，从整体上对项目进行全局配置；\n\n#### 2.3 项目配置文件说明\n_config.yml为项目的全局配置文件，一般我们通过配置该文件，对项目整体上进行统一的配置，具体对应哪些字段就不再重复说明了，官方文档上已经解说得很清楚的了，详情请直接访问官方的 [链接](https://hexo.io/zh-cn/docs/configuration)\n##### 2.3.1 上线部署的配置\n```yaml\ndeploy:\n  type: git # 通过git方式来提交\n  repo: https://github.com/kbmjj123/hexo-blog.git # 关联github仓库\n  branch: main #代码分支\n```\n### 三、Hexo命令解读：\n官方对Hexo的相关命令均进行了详细的说明，具体可以浏览官方的[链接](https://hexo.io/zh-cn/docs/commands)进行熟悉；\n\n### 四、开始写作：\n#### 4.1 通过命令创建一新的页面\n```shell\nhexo new page 文件名称 // 如果文件名称由多个字符串构成，需要使用引号将文件名称包裹起来\n```\n#### 4.2 通过上述命令，我们可以在对应的`source/_posts`目录中，看到我们添加的文件目录以及对应的*.md文件\n#### 4.3 写作完成后，进行资源文件生成，并发布\n```shell\nhexo g && hexo d // g为generate、d为deploy的缩写\n```\n这里生成后的资源，均会在.deploy_get目录中生成对应的资源文件，并自动提交至github上，前提是已经在本地将github的key给维护进来了。\n\n### 五、托管到Netlify\n#### 5.1 注册Netlify\n打开[链接](https://www.netlify.com)进行netlify的注册，并选择代码托管的方式来注册\n![注册方式](http://img.91temaichang.com/blog/directory-structure.png)\n#### 5.2 创建新的Site，并选择github作为来源\n![创建site](http://img.91temaichang.com/blog/netlify-create.png)\n#### 5.3 然后选择我们刚刚在github上创建的项目\n![选择项目](http://img.91temaichang.com/blog/netlify-choose-project.png)\n#### 5.4 选择对应的项目分支\n![选择分支](http://img.91temaichang.com/blog/netlify-choose-branch.png)\n#### 5.5 接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\n![创建成功](http://img.91temaichang.com/blog/netlify-created-site.png)\n#### 5.6 添加项目域名\n![配置域名](http://img.91temaichang.com/blog/netlify-edit-domain.png)\n#### 5.7 配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\n![获取记录](http://img.91temaichang.com/blog/netlify-edit-domain2.png)\n对应登录阿里云控制台，找到域名，对应进入解析配置中心，并对应添加两条记录：\n![阿里云DNS解析](http://img.91temaichang.com/blog/aliyun.png)\n#### 5.8 解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\n![配置后的访问](http://img.91temaichang.com/blog/blog.png)\n\n","slug":"hexo-github-netify","published":1,"updated":"2021-03-15T09:35:22.021Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvu900079d099a5yf6gh","content":"<h3 id=\"一、开始使用\"><a href=\"#一、开始使用\" class=\"headerlink\" title=\"一、开始使用\"></a>一、开始使用</h3><h4 id=\"1-1简介\"><a href=\"#1-1简介\" class=\"headerlink\" title=\"1.1简介\"></a>1.1简介</h4><p>根据Hexo官方描述，Hexo是一个快速、简介且高效的博客框架，使用markdown解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>\n<h4 id=\"1-2安装\"><a href=\"#1-2安装\" class=\"headerlink\" title=\"1.2安装\"></a>1.2安装</h4><h5 id=\"1-2-1环境需求\"><a href=\"#1-2-1环境需求\" class=\"headerlink\" title=\"1.2.1环境需求\"></a>1.2.1环境需求</h5><ul>\n<li>Node.js(版本不得低于10.13，建议使用Node.js12.0及以上)</li>\n<li>Git</li>\n</ul>\n<p>以上两个就不在描述具体如何安装了，度娘一大把</p>\n<h4 id=\"1-3-Hexo安装\"><a href=\"#1-3-Hexo安装\" class=\"headerlink\" title=\"1.3 Hexo安装\"></a>1.3 Hexo安装</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"二、开始使用\"><a href=\"#二、开始使用\" class=\"headerlink\" title=\"二、开始使用\"></a>二、开始使用</h3><h4 id=\"2-1-创建博客项目，并初始化\"><a href=\"#2-1-创建博客项目，并初始化\" class=\"headerlink\" title=\"2.1 创建博客项目，并初始化\"></a>2.1 创建博客项目，并初始化</h4><p>安装完成后，可直接通过hexo创建并初始化项目，通过以下命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init blog</span><br></pre></td></tr></table></figure>\n<p>通过上述命令，我们创建并初始化了项目名为blog的Hexo项目</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd blog &amp;&amp; npm install </span><br></pre></td></tr></table></figure>\n<h4 id=\"2-2-目录结构分析说明\"><a href=\"#2-2-目录结构分析说明\" class=\"headerlink\" title=\"2.2 目录结构分析说明\"></a>2.2 目录结构分析说明</h4><p>进入blog项目，并安装相关的依赖，通过以下示意图我们可以简单的讲解下项目的目录结构，以及对应的文件作用：<br><img src=\"http://img.91temaichang.com/blog/directory-structure.png\" alt=\"目录结构\"></p>\n<ol>\n<li>.deploy_git: 通过github进行打包部署，所生成的待提交的静态资源文件；</li>\n<li>scaffold: 通过<code>new</code>命令创建出来的页面所需的模版，默认是拿的page作为模版；</li>\n<li>source: 通过<code>new</code>命令创建出来的页面资源的*.md文件目录，一般我们创建的页面，都在这个目录里面，按照<code>new</code>命令对应的标题来命名的；</li>\n<li>themes：引用的三方样式，可直接通过配置文件，引用第三方已开发完成并使用中的模版；</li>\n<li>_config.yml：整个blog项目的配置文件，从整体上对项目进行全局配置；</li>\n</ol>\n<h4 id=\"2-3-项目配置文件说明\"><a href=\"#2-3-项目配置文件说明\" class=\"headerlink\" title=\"2.3 项目配置文件说明\"></a>2.3 项目配置文件说明</h4><p>_config.yml为项目的全局配置文件，一般我们通过配置该文件，对项目整体上进行统一的配置，具体对应哪些字段就不再重复说明了，官方文档上已经解说得很清楚的了，详情请直接访问官方的 <a href=\"https://hexo.io/zh-cn/docs/configuration\">链接</a></p>\n<h5 id=\"2-3-1-上线部署的配置\"><a href=\"#2-3-1-上线部署的配置\" class=\"headerlink\" title=\"2.3.1 上线部署的配置\"></a>2.3.1 上线部署的配置</h5><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span> <span class=\"comment\"># 通过git方式来提交</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/kbmjj123/hexo-blog.git</span> <span class=\"comment\"># 关联github仓库</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">main</span> <span class=\"comment\">#代码分支</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"三、Hexo命令解读：\"><a href=\"#三、Hexo命令解读：\" class=\"headerlink\" title=\"三、Hexo命令解读：\"></a>三、Hexo命令解读：</h3><p>官方对Hexo的相关命令均进行了详细的说明，具体可以浏览官方的<a href=\"https://hexo.io/zh-cn/docs/commands\">链接</a>进行熟悉；</p>\n<h3 id=\"四、开始写作：\"><a href=\"#四、开始写作：\" class=\"headerlink\" title=\"四、开始写作：\"></a>四、开始写作：</h3><h4 id=\"4-1-通过命令创建一新的页面\"><a href=\"#4-1-通过命令创建一新的页面\" class=\"headerlink\" title=\"4.1 通过命令创建一新的页面\"></a>4.1 通过命令创建一新的页面</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page 文件名称 // 如果文件名称由多个字符串构成，需要使用引号将文件名称包裹起来</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-2-通过上述命令，我们可以在对应的source-posts目录中，看到我们添加的文件目录以及对应的-md文件\"><a href=\"#4-2-通过上述命令，我们可以在对应的source-posts目录中，看到我们添加的文件目录以及对应的-md文件\" class=\"headerlink\" title=\"4.2 通过上述命令，我们可以在对应的source/_posts目录中，看到我们添加的文件目录以及对应的*.md文件\"></a>4.2 通过上述命令，我们可以在对应的<code>source/_posts</code>目录中，看到我们添加的文件目录以及对应的*.md文件</h4><h4 id=\"4-3-写作完成后，进行资源文件生成，并发布\"><a href=\"#4-3-写作完成后，进行资源文件生成，并发布\" class=\"headerlink\" title=\"4.3 写作完成后，进行资源文件生成，并发布\"></a>4.3 写作完成后，进行资源文件生成，并发布</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g &amp;&amp; hexo d // g为generate、d为deploy的缩写</span><br></pre></td></tr></table></figure>\n<p>这里生成后的资源，均会在.deploy_get目录中生成对应的资源文件，并自动提交至github上，前提是已经在本地将github的key给维护进来了。</p>\n<h3 id=\"五、托管到Netlify\"><a href=\"#五、托管到Netlify\" class=\"headerlink\" title=\"五、托管到Netlify\"></a>五、托管到Netlify</h3><h4 id=\"5-1-注册Netlify\"><a href=\"#5-1-注册Netlify\" class=\"headerlink\" title=\"5.1 注册Netlify\"></a>5.1 注册Netlify</h4><p>打开<a href=\"https://www.netlify.com/\">链接</a>进行netlify的注册，并选择代码托管的方式来注册<br><img src=\"http://img.91temaichang.com/blog/directory-structure.png\" alt=\"注册方式\"></p>\n<h4 id=\"5-2-创建新的Site，并选择github作为来源\"><a href=\"#5-2-创建新的Site，并选择github作为来源\" class=\"headerlink\" title=\"5.2 创建新的Site，并选择github作为来源\"></a>5.2 创建新的Site，并选择github作为来源</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-create.png\" alt=\"创建site\"></p>\n<h4 id=\"5-3-然后选择我们刚刚在github上创建的项目\"><a href=\"#5-3-然后选择我们刚刚在github上创建的项目\" class=\"headerlink\" title=\"5.3 然后选择我们刚刚在github上创建的项目\"></a>5.3 然后选择我们刚刚在github上创建的项目</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-choose-project.png\" alt=\"选择项目\"></p>\n<h4 id=\"5-4-选择对应的项目分支\"><a href=\"#5-4-选择对应的项目分支\" class=\"headerlink\" title=\"5.4 选择对应的项目分支\"></a>5.4 选择对应的项目分支</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-choose-branch.png\" alt=\"选择分支\"></p>\n<h4 id=\"5-5-接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\"><a href=\"#5-5-接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\" class=\"headerlink\" title=\"5.5 接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\"></a>5.5 接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-created-site.png\" alt=\"创建成功\"></p>\n<h4 id=\"5-6-添加项目域名\"><a href=\"#5-6-添加项目域名\" class=\"headerlink\" title=\"5.6 添加项目域名\"></a>5.6 添加项目域名</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-edit-domain.png\" alt=\"配置域名\"></p>\n<h4 id=\"5-7-配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\"><a href=\"#5-7-配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\" class=\"headerlink\" title=\"5.7 配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\"></a>5.7 配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-edit-domain2.png\" alt=\"获取记录\"><br>对应登录阿里云控制台，找到域名，对应进入解析配置中心，并对应添加两条记录：<br><img src=\"http://img.91temaichang.com/blog/aliyun.png\" alt=\"阿里云DNS解析\"></p>\n<h4 id=\"5-8-解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\"><a href=\"#5-8-解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\" class=\"headerlink\" title=\"5.8 解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\"></a>5.8 解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了</h4><p><img src=\"http://img.91temaichang.com/blog/blog.png\" alt=\"配置后的访问\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一、开始使用\"><a href=\"#一、开始使用\" class=\"headerlink\" title=\"一、开始使用\"></a>一、开始使用</h3><h4 id=\"1-1简介\"><a href=\"#1-1简介\" class=\"headerlink\" title=\"1.1简介\"></a>1.1简介</h4><p>根据Hexo官方描述，Hexo是一个快速、简介且高效的博客框架，使用markdown解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>\n<h4 id=\"1-2安装\"><a href=\"#1-2安装\" class=\"headerlink\" title=\"1.2安装\"></a>1.2安装</h4><h5 id=\"1-2-1环境需求\"><a href=\"#1-2-1环境需求\" class=\"headerlink\" title=\"1.2.1环境需求\"></a>1.2.1环境需求</h5><ul>\n<li>Node.js(版本不得低于10.13，建议使用Node.js12.0及以上)</li>\n<li>Git</li>\n</ul>\n<p>以上两个就不在描述具体如何安装了，度娘一大把</p>\n<h4 id=\"1-3-Hexo安装\"><a href=\"#1-3-Hexo安装\" class=\"headerlink\" title=\"1.3 Hexo安装\"></a>1.3 Hexo安装</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"二、开始使用\"><a href=\"#二、开始使用\" class=\"headerlink\" title=\"二、开始使用\"></a>二、开始使用</h3><h4 id=\"2-1-创建博客项目，并初始化\"><a href=\"#2-1-创建博客项目，并初始化\" class=\"headerlink\" title=\"2.1 创建博客项目，并初始化\"></a>2.1 创建博客项目，并初始化</h4><p>安装完成后，可直接通过hexo创建并初始化项目，通过以下命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init blog</span><br></pre></td></tr></table></figure>\n<p>通过上述命令，我们创建并初始化了项目名为blog的Hexo项目</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd blog &amp;&amp; npm install </span><br></pre></td></tr></table></figure>\n<h4 id=\"2-2-目录结构分析说明\"><a href=\"#2-2-目录结构分析说明\" class=\"headerlink\" title=\"2.2 目录结构分析说明\"></a>2.2 目录结构分析说明</h4><p>进入blog项目，并安装相关的依赖，通过以下示意图我们可以简单的讲解下项目的目录结构，以及对应的文件作用：<br><img src=\"http://img.91temaichang.com/blog/directory-structure.png\" alt=\"目录结构\"></p>\n<ol>\n<li>.deploy_git: 通过github进行打包部署，所生成的待提交的静态资源文件；</li>\n<li>scaffold: 通过<code>new</code>命令创建出来的页面所需的模版，默认是拿的page作为模版；</li>\n<li>source: 通过<code>new</code>命令创建出来的页面资源的*.md文件目录，一般我们创建的页面，都在这个目录里面，按照<code>new</code>命令对应的标题来命名的；</li>\n<li>themes：引用的三方样式，可直接通过配置文件，引用第三方已开发完成并使用中的模版；</li>\n<li>_config.yml：整个blog项目的配置文件，从整体上对项目进行全局配置；</li>\n</ol>\n<h4 id=\"2-3-项目配置文件说明\"><a href=\"#2-3-项目配置文件说明\" class=\"headerlink\" title=\"2.3 项目配置文件说明\"></a>2.3 项目配置文件说明</h4><p>_config.yml为项目的全局配置文件，一般我们通过配置该文件，对项目整体上进行统一的配置，具体对应哪些字段就不再重复说明了，官方文档上已经解说得很清楚的了，详情请直接访问官方的 <a href=\"https://hexo.io/zh-cn/docs/configuration\">链接</a></p>\n<h5 id=\"2-3-1-上线部署的配置\"><a href=\"#2-3-1-上线部署的配置\" class=\"headerlink\" title=\"2.3.1 上线部署的配置\"></a>2.3.1 上线部署的配置</h5><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span> <span class=\"comment\"># 通过git方式来提交</span></span><br><span class=\"line\">  <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/kbmjj123/hexo-blog.git</span> <span class=\"comment\"># 关联github仓库</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">main</span> <span class=\"comment\">#代码分支</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"三、Hexo命令解读：\"><a href=\"#三、Hexo命令解读：\" class=\"headerlink\" title=\"三、Hexo命令解读：\"></a>三、Hexo命令解读：</h3><p>官方对Hexo的相关命令均进行了详细的说明，具体可以浏览官方的<a href=\"https://hexo.io/zh-cn/docs/commands\">链接</a>进行熟悉；</p>\n<h3 id=\"四、开始写作：\"><a href=\"#四、开始写作：\" class=\"headerlink\" title=\"四、开始写作：\"></a>四、开始写作：</h3><h4 id=\"4-1-通过命令创建一新的页面\"><a href=\"#4-1-通过命令创建一新的页面\" class=\"headerlink\" title=\"4.1 通过命令创建一新的页面\"></a>4.1 通过命令创建一新的页面</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page 文件名称 // 如果文件名称由多个字符串构成，需要使用引号将文件名称包裹起来</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-2-通过上述命令，我们可以在对应的source-posts目录中，看到我们添加的文件目录以及对应的-md文件\"><a href=\"#4-2-通过上述命令，我们可以在对应的source-posts目录中，看到我们添加的文件目录以及对应的-md文件\" class=\"headerlink\" title=\"4.2 通过上述命令，我们可以在对应的source/_posts目录中，看到我们添加的文件目录以及对应的*.md文件\"></a>4.2 通过上述命令，我们可以在对应的<code>source/_posts</code>目录中，看到我们添加的文件目录以及对应的*.md文件</h4><h4 id=\"4-3-写作完成后，进行资源文件生成，并发布\"><a href=\"#4-3-写作完成后，进行资源文件生成，并发布\" class=\"headerlink\" title=\"4.3 写作完成后，进行资源文件生成，并发布\"></a>4.3 写作完成后，进行资源文件生成，并发布</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g &amp;&amp; hexo d // g为generate、d为deploy的缩写</span><br></pre></td></tr></table></figure>\n<p>这里生成后的资源，均会在.deploy_get目录中生成对应的资源文件，并自动提交至github上，前提是已经在本地将github的key给维护进来了。</p>\n<h3 id=\"五、托管到Netlify\"><a href=\"#五、托管到Netlify\" class=\"headerlink\" title=\"五、托管到Netlify\"></a>五、托管到Netlify</h3><h4 id=\"5-1-注册Netlify\"><a href=\"#5-1-注册Netlify\" class=\"headerlink\" title=\"5.1 注册Netlify\"></a>5.1 注册Netlify</h4><p>打开<a href=\"https://www.netlify.com/\">链接</a>进行netlify的注册，并选择代码托管的方式来注册<br><img src=\"http://img.91temaichang.com/blog/directory-structure.png\" alt=\"注册方式\"></p>\n<h4 id=\"5-2-创建新的Site，并选择github作为来源\"><a href=\"#5-2-创建新的Site，并选择github作为来源\" class=\"headerlink\" title=\"5.2 创建新的Site，并选择github作为来源\"></a>5.2 创建新的Site，并选择github作为来源</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-create.png\" alt=\"创建site\"></p>\n<h4 id=\"5-3-然后选择我们刚刚在github上创建的项目\"><a href=\"#5-3-然后选择我们刚刚在github上创建的项目\" class=\"headerlink\" title=\"5.3 然后选择我们刚刚在github上创建的项目\"></a>5.3 然后选择我们刚刚在github上创建的项目</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-choose-project.png\" alt=\"选择项目\"></p>\n<h4 id=\"5-4-选择对应的项目分支\"><a href=\"#5-4-选择对应的项目分支\" class=\"headerlink\" title=\"5.4 选择对应的项目分支\"></a>5.4 选择对应的项目分支</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-choose-branch.png\" alt=\"选择分支\"></p>\n<h4 id=\"5-5-接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\"><a href=\"#5-5-接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\" class=\"headerlink\" title=\"5.5 接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名\"></a>5.5 接着等一会，netlify会帮我们创建对应的网站，并生成其二级域名</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-created-site.png\" alt=\"创建成功\"></p>\n<h4 id=\"5-6-添加项目域名\"><a href=\"#5-6-添加项目域名\" class=\"headerlink\" title=\"5.6 添加项目域名\"></a>5.6 添加项目域名</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-edit-domain.png\" alt=\"配置域名\"></p>\n<h4 id=\"5-7-配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\"><a href=\"#5-7-配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\" class=\"headerlink\" title=\"5.7 配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录\"></a>5.7 配合下拉弹出的记录值，到域名注册服务商那边，对应配置记录</h4><p><img src=\"http://img.91temaichang.com/blog/netlify-edit-domain2.png\" alt=\"获取记录\"><br>对应登录阿里云控制台，找到域名，对应进入解析配置中心，并对应添加两条记录：<br><img src=\"http://img.91temaichang.com/blog/aliyun.png\" alt=\"阿里云DNS解析\"></p>\n<h4 id=\"5-8-解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\"><a href=\"#5-8-解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\" class=\"headerlink\" title=\"5.8 解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了\"></a>5.8 解析成功后，我们即可以直接使用自定义域名的方式，来直接访问到我们的blog了</h4><p><img src=\"http://img.91temaichang.com/blog/blog.png\" alt=\"配置后的访问\"></p>\n"},{"title":"javascript数据类型","author":"Zhenggl","date":"2021-03-08T09:59:24.000Z","cover_picture":"https://img.91temaichang.com/blog/js-data-type.jpg","_content":"\n***请注意：JS的数据类型有8种***\n\n### 一、JS数据类型的结构\n在ES5的时候，我们所知晓的数据类型有6种：`Number`、`String`、`Boolean`、`undefined`、`Null`、`object`。\nES6中新增一种Symbol，这种类型的对象永不相等，即使创建的时候传入相同的值，可以用来解决属性名冲突的问题，作为标记。\n谷歌67版本还出现了一种bigInt，是指安全存储、操作大整数。\n\n根据上面描述，我们可以整理出对应如下的结构图：\n![JS数据类型结构图](https://img.91temaichang.com/blog/js-data-type-struture.png)\n\n可以将js的8中数据类型拆分为3个大类：基本数据类型 + 对象类型 + 其他类型\n然后基本数据类型包含：`Number`、`String`、`Boolean`、`undefined`、`Null`，\n对象类型(object)包含：`function`、`array`、`date`\n\n### 二、实际场景下，容易混淆的情况\n#### 2.1 JS中typeof输入分别是什么\n\n1. typeof {} 与 typeof [] 输出的都是object；\n2. typeof console.info 输出的是function；\n\n*`有一点需要注意：NaN是Number中的一种，非Number`*\n\n`关于isNaN的注意点`\n1. 用isNaN()检测是否是非数值类型，如下图：\n![isNaN](https://img.91temaichang.com/blog/WX20210309-184249.png)\n2. Number('123') == NaN?，这里Number('123')输出的是123，123是不等于NaN的，因此为false\n\n### 三、如何判断数据类型？\n#### 3.1 上面有提及到\n#### 3.2 toString()\n函数作用：其他类型转成string的方法\n支持的数据类型有：number、boolean、string、object\n不支持的数据类型有：null、undefined\n#### 3.3 toLocalString()\n函数作用：将数组转成本地字符串\n\n![toLocalString](https://img.91temaichang.com/blog/WX20210309-185011.png)\n#### 3.4 检测数据类型的方法\n1. instanceof 操作符\n\n![instanceof 操作符](https://img.91temaichang.com/blog/WX20210309-185237.png)\n\n2. 对象的constructor属性\n\n![利用对象的contructor属性](https://img.91temaichang.com/blog/WX20210309-185616.png)\n\n3. Array.isArray()检查数据是否为数组\n\n![利用Array.isArray](https://img.91temaichang.com/blog/WX20210309-185747.png)\n\n### 四、null与undefined有什么区别？\nNull只有一个值，是null，一个不存在的对象；\nundefined只有一个值，是undefined，没有初始化，undefined是从null中派生出来的。\n简单理解就是：undefined是没有定义的，null就是定义了变量，但没有给变量赋值。\n### 五、== 与 === 有什么区别，一般在什么场景下使用？\n==：表示相同。比较的是物理地址，相当于比较两个对象的hashCode，肯定不相等的。类型不相同，值也可能相等。比如 '1' == 1 为true；\n===：表示严格相同，严格判断类型是否相同。\n\n### 六、总结：\n1. undefined类型，只有一个值，在使用var/let/const来声明变量但为对其进行初始化的时候，这个变量就是undefined;\n2. null类型，只有一个值，null表示一个空对象指针，这也就是为毛typeof null返回的是object的原因；\n3. Boolean类型，只有true/false两个值，true不一定等于1，false不一定等于0；\n4. Number类型，数字类型，表示数据的整数和浮点数\n5. String类型，字符串，可用单引号也可以用双引号表示，字符串不可改变(`一般任何的基本数据类型都是不可改变的`)，改变某个变量保存的字符串，首先要销毁原来的字符串，然后用另一个字符串来填充。\n6. Object类型， ES5中的对象其实就是一组数据和函数的集合体，对象可以通过new操作符来创建，创建object类型的实例并为其添加属性或方法，就可以自定义创建对象，如下：\n```javascript\n  let obj = new Object();\n```\nobject的每个实例都有以下属性和方法：\n\n| 属性名称 | 类型 | 作用 |\n| --- | --- | --- |\n| constructor | function | 保存着用于创建当前对象的函数，构造函数constructor就是object() |\n| hasOwnProperty(propertyName) | function | 用于检查给定的propertyName属性是否在当前对象实例中，而不是在他的原型中 |\n| isPrototypeOf(Object) | function | 用于检查传入的对象是否是对象原型 |\n| propertyIsEnumerable(propertyName) | function | 属性是否可被枚举，是否可以被使用for-in语句 |\n| toLocaleString() | function | 返回对象的执行环境地区字符串表示 |\n| toString() | function | 返回对象的字符串表示 |\n| valueOf() | function | 返回对象的字符串表示，通常与toString返回的一致 |\n","source":"_posts/js-basic-data-type.md","raw":"---\ntitle: javascript数据类型\nauthor: Zhenggl\ndate: 2021-03-08 17:59:24\ncategories:\n  - [前端, javascript, 基础]\ntags:\n  - javascript\n  - 基础概念\ncover_picture: https://img.91temaichang.com/blog/js-data-type.jpg\n---\n\n***请注意：JS的数据类型有8种***\n\n### 一、JS数据类型的结构\n在ES5的时候，我们所知晓的数据类型有6种：`Number`、`String`、`Boolean`、`undefined`、`Null`、`object`。\nES6中新增一种Symbol，这种类型的对象永不相等，即使创建的时候传入相同的值，可以用来解决属性名冲突的问题，作为标记。\n谷歌67版本还出现了一种bigInt，是指安全存储、操作大整数。\n\n根据上面描述，我们可以整理出对应如下的结构图：\n![JS数据类型结构图](https://img.91temaichang.com/blog/js-data-type-struture.png)\n\n可以将js的8中数据类型拆分为3个大类：基本数据类型 + 对象类型 + 其他类型\n然后基本数据类型包含：`Number`、`String`、`Boolean`、`undefined`、`Null`，\n对象类型(object)包含：`function`、`array`、`date`\n\n### 二、实际场景下，容易混淆的情况\n#### 2.1 JS中typeof输入分别是什么\n\n1. typeof {} 与 typeof [] 输出的都是object；\n2. typeof console.info 输出的是function；\n\n*`有一点需要注意：NaN是Number中的一种，非Number`*\n\n`关于isNaN的注意点`\n1. 用isNaN()检测是否是非数值类型，如下图：\n![isNaN](https://img.91temaichang.com/blog/WX20210309-184249.png)\n2. Number('123') == NaN?，这里Number('123')输出的是123，123是不等于NaN的，因此为false\n\n### 三、如何判断数据类型？\n#### 3.1 上面有提及到\n#### 3.2 toString()\n函数作用：其他类型转成string的方法\n支持的数据类型有：number、boolean、string、object\n不支持的数据类型有：null、undefined\n#### 3.3 toLocalString()\n函数作用：将数组转成本地字符串\n\n![toLocalString](https://img.91temaichang.com/blog/WX20210309-185011.png)\n#### 3.4 检测数据类型的方法\n1. instanceof 操作符\n\n![instanceof 操作符](https://img.91temaichang.com/blog/WX20210309-185237.png)\n\n2. 对象的constructor属性\n\n![利用对象的contructor属性](https://img.91temaichang.com/blog/WX20210309-185616.png)\n\n3. Array.isArray()检查数据是否为数组\n\n![利用Array.isArray](https://img.91temaichang.com/blog/WX20210309-185747.png)\n\n### 四、null与undefined有什么区别？\nNull只有一个值，是null，一个不存在的对象；\nundefined只有一个值，是undefined，没有初始化，undefined是从null中派生出来的。\n简单理解就是：undefined是没有定义的，null就是定义了变量，但没有给变量赋值。\n### 五、== 与 === 有什么区别，一般在什么场景下使用？\n==：表示相同。比较的是物理地址，相当于比较两个对象的hashCode，肯定不相等的。类型不相同，值也可能相等。比如 '1' == 1 为true；\n===：表示严格相同，严格判断类型是否相同。\n\n### 六、总结：\n1. undefined类型，只有一个值，在使用var/let/const来声明变量但为对其进行初始化的时候，这个变量就是undefined;\n2. null类型，只有一个值，null表示一个空对象指针，这也就是为毛typeof null返回的是object的原因；\n3. Boolean类型，只有true/false两个值，true不一定等于1，false不一定等于0；\n4. Number类型，数字类型，表示数据的整数和浮点数\n5. String类型，字符串，可用单引号也可以用双引号表示，字符串不可改变(`一般任何的基本数据类型都是不可改变的`)，改变某个变量保存的字符串，首先要销毁原来的字符串，然后用另一个字符串来填充。\n6. Object类型， ES5中的对象其实就是一组数据和函数的集合体，对象可以通过new操作符来创建，创建object类型的实例并为其添加属性或方法，就可以自定义创建对象，如下：\n```javascript\n  let obj = new Object();\n```\nobject的每个实例都有以下属性和方法：\n\n| 属性名称 | 类型 | 作用 |\n| --- | --- | --- |\n| constructor | function | 保存着用于创建当前对象的函数，构造函数constructor就是object() |\n| hasOwnProperty(propertyName) | function | 用于检查给定的propertyName属性是否在当前对象实例中，而不是在他的原型中 |\n| isPrototypeOf(Object) | function | 用于检查传入的对象是否是对象原型 |\n| propertyIsEnumerable(propertyName) | function | 属性是否可被枚举，是否可以被使用for-in语句 |\n| toLocaleString() | function | 返回对象的执行环境地区字符串表示 |\n| toString() | function | 返回对象的字符串表示 |\n| valueOf() | function | 返回对象的字符串表示，通常与toString返回的一致 |\n","slug":"js-basic-data-type","published":1,"updated":"2021-03-15T09:35:22.021Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvub000a9d097yp3cwe5","content":"<p><em><strong>请注意：JS的数据类型有8种</strong></em></p>\n<h3 id=\"一、JS数据类型的结构\"><a href=\"#一、JS数据类型的结构\" class=\"headerlink\" title=\"一、JS数据类型的结构\"></a>一、JS数据类型的结构</h3><p>在ES5的时候，我们所知晓的数据类型有6种：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>undefined</code>、<code>Null</code>、<code>object</code>。<br>ES6中新增一种Symbol，这种类型的对象永不相等，即使创建的时候传入相同的值，可以用来解决属性名冲突的问题，作为标记。<br>谷歌67版本还出现了一种bigInt，是指安全存储、操作大整数。</p>\n<p>根据上面描述，我们可以整理出对应如下的结构图：<br><img src=\"https://img.91temaichang.com/blog/js-data-type-struture.png\" alt=\"JS数据类型结构图\"></p>\n<p>可以将js的8中数据类型拆分为3个大类：基本数据类型 + 对象类型 + 其他类型<br>然后基本数据类型包含：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>undefined</code>、<code>Null</code>，<br>对象类型(object)包含：<code>function</code>、<code>array</code>、<code>date</code></p>\n<h3 id=\"二、实际场景下，容易混淆的情况\"><a href=\"#二、实际场景下，容易混淆的情况\" class=\"headerlink\" title=\"二、实际场景下，容易混淆的情况\"></a>二、实际场景下，容易混淆的情况</h3><h4 id=\"2-1-JS中typeof输入分别是什么\"><a href=\"#2-1-JS中typeof输入分别是什么\" class=\"headerlink\" title=\"2.1 JS中typeof输入分别是什么\"></a>2.1 JS中typeof输入分别是什么</h4><ol>\n<li>typeof {} 与 typeof [] 输出的都是object；</li>\n<li>typeof console.info 输出的是function；</li>\n</ol>\n<p><em><code>有一点需要注意：NaN是Number中的一种，非Number</code></em></p>\n<p><code>关于isNaN的注意点</code></p>\n<ol>\n<li>用isNaN()检测是否是非数值类型，如下图：<br><img src=\"https://img.91temaichang.com/blog/WX20210309-184249.png\" alt=\"isNaN\"></li>\n<li>Number(‘123’) == NaN?，这里Number(‘123’)输出的是123，123是不等于NaN的，因此为false</li>\n</ol>\n<h3 id=\"三、如何判断数据类型？\"><a href=\"#三、如何判断数据类型？\" class=\"headerlink\" title=\"三、如何判断数据类型？\"></a>三、如何判断数据类型？</h3><h4 id=\"3-1-上面有提及到\"><a href=\"#3-1-上面有提及到\" class=\"headerlink\" title=\"3.1 上面有提及到\"></a>3.1 上面有提及到</h4><h4 id=\"3-2-toString\"><a href=\"#3-2-toString\" class=\"headerlink\" title=\"3.2 toString()\"></a>3.2 toString()</h4><p>函数作用：其他类型转成string的方法<br>支持的数据类型有：number、boolean、string、object<br>不支持的数据类型有：null、undefined</p>\n<h4 id=\"3-3-toLocalString\"><a href=\"#3-3-toLocalString\" class=\"headerlink\" title=\"3.3 toLocalString()\"></a>3.3 toLocalString()</h4><p>函数作用：将数组转成本地字符串</p>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185011.png\" alt=\"toLocalString\"></p>\n<h4 id=\"3-4-检测数据类型的方法\"><a href=\"#3-4-检测数据类型的方法\" class=\"headerlink\" title=\"3.4 检测数据类型的方法\"></a>3.4 检测数据类型的方法</h4><ol>\n<li>instanceof 操作符</li>\n</ol>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185237.png\" alt=\"instanceof 操作符\"></p>\n<ol start=\"2\">\n<li>对象的constructor属性</li>\n</ol>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185616.png\" alt=\"利用对象的contructor属性\"></p>\n<ol start=\"3\">\n<li>Array.isArray()检查数据是否为数组</li>\n</ol>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185747.png\" alt=\"利用Array.isArray\"></p>\n<h3 id=\"四、null与undefined有什么区别？\"><a href=\"#四、null与undefined有什么区别？\" class=\"headerlink\" title=\"四、null与undefined有什么区别？\"></a>四、null与undefined有什么区别？</h3><p>Null只有一个值，是null，一个不存在的对象；<br>undefined只有一个值，是undefined，没有初始化，undefined是从null中派生出来的。<br>简单理解就是：undefined是没有定义的，null就是定义了变量，但没有给变量赋值。</p>\n<h3 id=\"五、-与-有什么区别，一般在什么场景下使用？\"><a href=\"#五、-与-有什么区别，一般在什么场景下使用？\" class=\"headerlink\" title=\"五、== 与 === 有什么区别，一般在什么场景下使用？\"></a>五、== 与 === 有什么区别，一般在什么场景下使用？</h3><p>==：表示相同。比较的是物理地址，相当于比较两个对象的hashCode，肯定不相等的。类型不相同，值也可能相等。比如 ‘1’ == 1 为true；<br>===：表示严格相同，严格判断类型是否相同。</p>\n<h3 id=\"六、总结：\"><a href=\"#六、总结：\" class=\"headerlink\" title=\"六、总结：\"></a>六、总结：</h3><ol>\n<li>undefined类型，只有一个值，在使用var/let/const来声明变量但为对其进行初始化的时候，这个变量就是undefined;</li>\n<li>null类型，只有一个值，null表示一个空对象指针，这也就是为毛typeof null返回的是object的原因；</li>\n<li>Boolean类型，只有true/false两个值，true不一定等于1，false不一定等于0；</li>\n<li>Number类型，数字类型，表示数据的整数和浮点数</li>\n<li>String类型，字符串，可用单引号也可以用双引号表示，字符串不可改变(<code>一般任何的基本数据类型都是不可改变的</code>)，改变某个变量保存的字符串，首先要销毁原来的字符串，然后用另一个字符串来填充。</li>\n<li>Object类型， ES5中的对象其实就是一组数据和函数的集合体，对象可以通过new操作符来创建，创建object类型的实例并为其添加属性或方法，就可以自定义创建对象，如下：<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br></pre></td></tr></table></figure>\nobject的每个实例都有以下属性和方法：</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>属性名称</th>\n<th>类型</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>constructor</td>\n<td>function</td>\n<td>保存着用于创建当前对象的函数，构造函数constructor就是object()</td>\n</tr>\n<tr>\n<td>hasOwnProperty(propertyName)</td>\n<td>function</td>\n<td>用于检查给定的propertyName属性是否在当前对象实例中，而不是在他的原型中</td>\n</tr>\n<tr>\n<td>isPrototypeOf(Object)</td>\n<td>function</td>\n<td>用于检查传入的对象是否是对象原型</td>\n</tr>\n<tr>\n<td>propertyIsEnumerable(propertyName)</td>\n<td>function</td>\n<td>属性是否可被枚举，是否可以被使用for-in语句</td>\n</tr>\n<tr>\n<td>toLocaleString()</td>\n<td>function</td>\n<td>返回对象的执行环境地区字符串表示</td>\n</tr>\n<tr>\n<td>toString()</td>\n<td>function</td>\n<td>返回对象的字符串表示</td>\n</tr>\n<tr>\n<td>valueOf()</td>\n<td>function</td>\n<td>返回对象的字符串表示，通常与toString返回的一致</td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"excerpt":"","more":"<p><em><strong>请注意：JS的数据类型有8种</strong></em></p>\n<h3 id=\"一、JS数据类型的结构\"><a href=\"#一、JS数据类型的结构\" class=\"headerlink\" title=\"一、JS数据类型的结构\"></a>一、JS数据类型的结构</h3><p>在ES5的时候，我们所知晓的数据类型有6种：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>undefined</code>、<code>Null</code>、<code>object</code>。<br>ES6中新增一种Symbol，这种类型的对象永不相等，即使创建的时候传入相同的值，可以用来解决属性名冲突的问题，作为标记。<br>谷歌67版本还出现了一种bigInt，是指安全存储、操作大整数。</p>\n<p>根据上面描述，我们可以整理出对应如下的结构图：<br><img src=\"https://img.91temaichang.com/blog/js-data-type-struture.png\" alt=\"JS数据类型结构图\"></p>\n<p>可以将js的8中数据类型拆分为3个大类：基本数据类型 + 对象类型 + 其他类型<br>然后基本数据类型包含：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>undefined</code>、<code>Null</code>，<br>对象类型(object)包含：<code>function</code>、<code>array</code>、<code>date</code></p>\n<h3 id=\"二、实际场景下，容易混淆的情况\"><a href=\"#二、实际场景下，容易混淆的情况\" class=\"headerlink\" title=\"二、实际场景下，容易混淆的情况\"></a>二、实际场景下，容易混淆的情况</h3><h4 id=\"2-1-JS中typeof输入分别是什么\"><a href=\"#2-1-JS中typeof输入分别是什么\" class=\"headerlink\" title=\"2.1 JS中typeof输入分别是什么\"></a>2.1 JS中typeof输入分别是什么</h4><ol>\n<li>typeof {} 与 typeof [] 输出的都是object；</li>\n<li>typeof console.info 输出的是function；</li>\n</ol>\n<p><em><code>有一点需要注意：NaN是Number中的一种，非Number</code></em></p>\n<p><code>关于isNaN的注意点</code></p>\n<ol>\n<li>用isNaN()检测是否是非数值类型，如下图：<br><img src=\"https://img.91temaichang.com/blog/WX20210309-184249.png\" alt=\"isNaN\"></li>\n<li>Number(‘123’) == NaN?，这里Number(‘123’)输出的是123，123是不等于NaN的，因此为false</li>\n</ol>\n<h3 id=\"三、如何判断数据类型？\"><a href=\"#三、如何判断数据类型？\" class=\"headerlink\" title=\"三、如何判断数据类型？\"></a>三、如何判断数据类型？</h3><h4 id=\"3-1-上面有提及到\"><a href=\"#3-1-上面有提及到\" class=\"headerlink\" title=\"3.1 上面有提及到\"></a>3.1 上面有提及到</h4><h4 id=\"3-2-toString\"><a href=\"#3-2-toString\" class=\"headerlink\" title=\"3.2 toString()\"></a>3.2 toString()</h4><p>函数作用：其他类型转成string的方法<br>支持的数据类型有：number、boolean、string、object<br>不支持的数据类型有：null、undefined</p>\n<h4 id=\"3-3-toLocalString\"><a href=\"#3-3-toLocalString\" class=\"headerlink\" title=\"3.3 toLocalString()\"></a>3.3 toLocalString()</h4><p>函数作用：将数组转成本地字符串</p>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185011.png\" alt=\"toLocalString\"></p>\n<h4 id=\"3-4-检测数据类型的方法\"><a href=\"#3-4-检测数据类型的方法\" class=\"headerlink\" title=\"3.4 检测数据类型的方法\"></a>3.4 检测数据类型的方法</h4><ol>\n<li>instanceof 操作符</li>\n</ol>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185237.png\" alt=\"instanceof 操作符\"></p>\n<ol start=\"2\">\n<li>对象的constructor属性</li>\n</ol>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185616.png\" alt=\"利用对象的contructor属性\"></p>\n<ol start=\"3\">\n<li>Array.isArray()检查数据是否为数组</li>\n</ol>\n<p><img src=\"https://img.91temaichang.com/blog/WX20210309-185747.png\" alt=\"利用Array.isArray\"></p>\n<h3 id=\"四、null与undefined有什么区别？\"><a href=\"#四、null与undefined有什么区别？\" class=\"headerlink\" title=\"四、null与undefined有什么区别？\"></a>四、null与undefined有什么区别？</h3><p>Null只有一个值，是null，一个不存在的对象；<br>undefined只有一个值，是undefined，没有初始化，undefined是从null中派生出来的。<br>简单理解就是：undefined是没有定义的，null就是定义了变量，但没有给变量赋值。</p>\n<h3 id=\"五、-与-有什么区别，一般在什么场景下使用？\"><a href=\"#五、-与-有什么区别，一般在什么场景下使用？\" class=\"headerlink\" title=\"五、== 与 === 有什么区别，一般在什么场景下使用？\"></a>五、== 与 === 有什么区别，一般在什么场景下使用？</h3><p>==：表示相同。比较的是物理地址，相当于比较两个对象的hashCode，肯定不相等的。类型不相同，值也可能相等。比如 ‘1’ == 1 为true；<br>===：表示严格相同，严格判断类型是否相同。</p>\n<h3 id=\"六、总结：\"><a href=\"#六、总结：\" class=\"headerlink\" title=\"六、总结：\"></a>六、总结：</h3><ol>\n<li>undefined类型，只有一个值，在使用var/let/const来声明变量但为对其进行初始化的时候，这个变量就是undefined;</li>\n<li>null类型，只有一个值，null表示一个空对象指针，这也就是为毛typeof null返回的是object的原因；</li>\n<li>Boolean类型，只有true/false两个值，true不一定等于1，false不一定等于0；</li>\n<li>Number类型，数字类型，表示数据的整数和浮点数</li>\n<li>String类型，字符串，可用单引号也可以用双引号表示，字符串不可改变(<code>一般任何的基本数据类型都是不可改变的</code>)，改变某个变量保存的字符串，首先要销毁原来的字符串，然后用另一个字符串来填充。</li>\n<li>Object类型， ES5中的对象其实就是一组数据和函数的集合体，对象可以通过new操作符来创建，创建object类型的实例并为其添加属性或方法，就可以自定义创建对象，如下：<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</span><br></pre></td></tr></table></figure>\nobject的每个实例都有以下属性和方法：</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>属性名称</th>\n<th>类型</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>constructor</td>\n<td>function</td>\n<td>保存着用于创建当前对象的函数，构造函数constructor就是object()</td>\n</tr>\n<tr>\n<td>hasOwnProperty(propertyName)</td>\n<td>function</td>\n<td>用于检查给定的propertyName属性是否在当前对象实例中，而不是在他的原型中</td>\n</tr>\n<tr>\n<td>isPrototypeOf(Object)</td>\n<td>function</td>\n<td>用于检查传入的对象是否是对象原型</td>\n</tr>\n<tr>\n<td>propertyIsEnumerable(propertyName)</td>\n<td>function</td>\n<td>属性是否可被枚举，是否可以被使用for-in语句</td>\n</tr>\n<tr>\n<td>toLocaleString()</td>\n<td>function</td>\n<td>返回对象的执行环境地区字符串表示</td>\n</tr>\n<tr>\n<td>toString()</td>\n<td>function</td>\n<td>返回对象的字符串表示</td>\n</tr>\n<tr>\n<td>valueOf()</td>\n<td>function</td>\n<td>返回对象的字符串表示，通常与toString返回的一致</td>\n</tr>\n</tbody></table>\n"},{"title":"js运行机制","author":"Zhenggl","date":"2021-03-15T09:46:20.000Z","cover_picture":null,"_content":"\n### 一、前言\nJS是`单线程`,`单线程`,`单线程`的，为毛是单线程的，这里的单线程是指的在浏览器环境下JS执行引擎是单线程的。\n\n单线程意味着同一时间内只能做一件事，为毛不能有多线程的，这样子可以提高效率啊。\n\n> JS的单线程，与它的用途有关。作为浏览器脚本语言，JS的主要用户就是与用户互动，以及操作DOM。这就决定了它必须只能是单线程的，\n> 否则会带来很复杂的同步问题。比如假设同时有两个线程，一个在某个DOM上添加内容，另一个在DOM上删除内容，同时操作同一个DOM，\n> 那么浏览器应该以哪个为准来对应渲染页面呢？\n\n因此，为了避免复杂性，从JS一诞生，就只能是单线程的，这个是JS语言的核心特征，将来也不会改变到。\n\n为了利用多核CPU的计算能力，Html5提出WebWorker标准，允许JS脚本创建多个线程，但是子线程完全收主线程的控制，切worker子线程\n不得操作DOM，仅能通过发送消息的方式告知主线程来操作DOM。\n\n#### 1.1、进程与线程\n> 进程和线程的主要区别在于他们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程奔溃后，在保护模式下不会对其他进程\n> 产生影响，而线程只是一个进程中的不同执行路径而已，一个进程可以同时有多个不同的线程\n\n一个程序运行，就分配了一个独立的运行的地址空间，进程分配一个或者多个不同的线程，进程是操作系统分配资源的最小单位，线程是CPU调度的最小单位。\n\n#### 1.2、浏览器是多进程的\n打开资源管理器，可以看到浏览器开了很多个进程，每一个tab页都是单独的一个进程，所以一个页面奔溃之后一般不会影响到其他页面\n\n![浏览器是多进程](https://img.91temaichang.com/blog/system-task.png)\n\n浏览器包含以下几个进程：\n\n- Browser进程：浏览器的主进程（负责协调、主控），只有一个\n- 第三方插件进程：每个类型的插件对应于一个进程，仅当使用该插件时才创建\n- GPU进程：最多一个，用于绘制3D等\n- 浏览器渲染进程（浏览器内核）（renderer进程，内部是多线程的）：默认每个Tab标签对应一个进程，互不影响\n\n#### 1.3、浏览器渲染进程\n**浏览器渲染进程是多进程的**，也是一个前端人最关注的，它主要包括有以下几个线程：\n![浏览器进程以及线程](https://img.91temaichang.com/blog/browse_task.png)\n- GUI渲染线程\n    * 负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等；\n    * 当界面需要重绘(Repaint)或由于某种操作引发回流(reflow)时，该线程就会执行；\n    * `GUI渲染线程与JS引擎线程是互斥的`，当JS引擎执行时GUI线程会被挂起，GUI更新会被保存在一个队列中等到JS引擎空闲时立即被执行；\n- JS引擎线程\n    * 也称为JS内核，负责处理javascript脚本程序；\n    * JS引擎线程负责解析javascript，运行代码；\n    * JS引擎一直等待着任务队列中任务引擎的到来，然后加以处理，一个Tab页(renderer进程)中无论什么时候都`只有一个JS线程`在运行JS程序；\n    * `GUI渲染线程与JS引擎线程是互斥的`，因此如果JS执行时间过长，就会造成页面渲染不连贯，导致页面渲染加载阻塞；\n- 事件触发线程\n    * 归属于浏览器而不是JS引擎，用来控制事件循环(可以理解为，JS引擎自己都忙不过来，需要浏览器另开线程协助)；\n    * 当JS引擎执行代码块如setTimeout时(也可以是来自浏览器内核的其他线程，比如鼠标点击、AJAX异步请求等)，会将对应任务添加到事件线程中；\n    * 当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的尾部，等待JS引擎的处理；\n    * 注意，由于JS的单线程关系，所有这些待处理队列中的事件必须排队等待JS引擎来处理(当JS引擎空闲的时候才会执行)\n- 定时触发器线程\n    * 传说中setTimeout与setInterval所在线程；\n    * 浏览器定时计数器并不是属于JS引擎计数的，(因为JS引擎是单线程的，如果处于阻塞线程状态就会影响计时的准确度)；\n    * 因此通过单线程来计时并触发定时(计时完毕后，添加到事件队列中，等待JS空闲后执行)；\n    * W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔为4ms；\n- 异步http请求线程\n    * 在XMLHttpRequest建立连接后，是通过浏览器新开一个线程来发起请求动作；\n    * 检测到状态发生变更后，如果有设置回调方法的话，异步线程就陈升状态变更事件，将这个回调再放入到事件队列中，由JS引擎执行；\n\n#### 1.4、JS引擎是单线程的\n`GUI渲染与JS引擎是互斥的`，为了防止渲染出现不可预测的结果，因为JS是可以直接操作dom的，如果JS引擎与其他线程和GUI线程同时操作DOM的话，那么渲染前后就可能不一样了，\n因此执行JS引擎的时候，GUI线程会被挂起，执行GUI的时候，JS引擎会被挂起。因此JS引擎会阻塞页面的家在，`*这也就是为毛要将JS代码放在body标签之后，在所有的html内容之前，为了防止阻塞GUI线程，造成页面白屏*`\n\n#### 1.5、WebWorker\n由于JS是单线程的，所有任务只能在一个线程上完成，一次只能做一件事，前面的任务未完成的情况下，后面的任务只能等着\n> Web Worker是为JavaScript创造多线程环境，允许主线程创建Worker线程，将一些任务分配给后者运行，在主线程运行的同时，Worker线程在后台运行，两者互不干扰，等到Worker线程完成计算任务，再将结果返回给主线程，这样子的好处是，一些密集型或者高延迟的任务，被Worker线程承担来，主线程就会很流畅，不会被阻塞或拖慢\n\nWebWorker有几个特点：\n  - 同源限制，分配给Worker线程运行的脚本文件，必须与主线程的脚本同源；\n  - DOM限制：不能操作DOM；\n  - 通信联系：Worker与主线程不在同一个上下文环境中，不能直接通信，只能通过消息的方式进行通信；\n  - 脚本限制：不能执行alert()和confirm()方法；\n  - 文件限制：无法读取本地文件\n\n#### 1.6、浏览器渲染流程\n  - 用户输入URL，DNS解析程请求IP地址；\n  - 浏览器与服务器建立连接(tcp协议、三次握手)，服务器处理返回html代码块；\n  - 浏览器接收html代码块，将代码块解析程dom树、解析css为cssObject；\n  - dom树和cssObject结合成render树；\n  - GPU合成，输出到屏幕上；\n\n### 二、JS事件循环\n上面扯了那么多，下面开始进入正题\n#### 2.1、同步任务与异步任务\n  - 同步任务：代码同步执行\n  - 异步任务：代码异步执行\n设计理念：因为同步执行异步任务比较耗时，而且代码中绝大部分都是同步代码，因此我们先执行同步代码，把异步任务交给其他线程去执行，如定时触发线程、异步http请求线程等，\n然后等异步任务完成了或者被回调了就在执行他们，这种`调度同步、异步任务的策略，就是JS事件循环`：\n  - 1. 执行整体代码，如果是同步任务，就直接在主线程上执行，形成一个执行栈；\n  - 2. 当遇到异步任务是，`就交给其他线程执行`，当异步任务执行完了，就往事件队列里面`塞一个回调函数`；\n  - 3. 一旦执行栈中所有的同步任务都执行完毕了，就会读取事件队列，从队列头部去一个任务塞到执行栈中，开始执行；\n  - 4. 一直重复步骤3的操作\n![JS Event Loop](https://img.91temaichang.com/blog/JS-event-loop.png)\n\n以上就是JS事件循环了，确保了同步任务与异步任务有条不紊的执行，只有当前执行栈中任务被执行完了，主线程才会去读取事件队列，看看有没有任务要执行，每次取一个来执行\n\n简单的分析一波老生长谈的setTimeout\n```javascript\n  setTimeout(() => {\n  \tconsole.info('异步操作');\n}, 0);\n  console.info('同步操作');\n```\n- 发现有一setTimeout，就挂起交给定时器触发线程执行(定时器会在指定等待的时间到了之后，将回调函数塞到事件队列中)；\n- 执行同步任务console，直接塞入执行栈执行；\n- 从上到下执行完毕后，执行栈为空了；\n- 从事件队列中去一任务，塞到执行栈中执行\n- 事件队列清空；\n#### 2.2 JS是单线程，怎样执行异步的代码？\n单线程就意味着所有任务都必须排队，前一个任务结束，才会执行后一个任务，如果前一个任务很耗时，后一个任务就不得不一直等着。\n\nJS引擎执行异步代码而不用等待，是因为有消息队列和事件循环。\n\n    - 消息队列：消息队列是一个先进先出的队列，它里面存放着各种消息\n    - 事件循环：主线程重复地从消息队列中取消息到执行栈中进行执行的过程\n\n![JS执行异步任务的示意图](https://img.91temaichang.com/blog/js-async-task.png)\n\n从上图我们可以得出这样子的一个结论，就是：\n> 异步过程的回调函数，一定不在当前这一轮事件循环中执行。\n#### 2.3 宏任务与微任务\n##### 2.3.1 宏任务、微任务\n除了广义的同步任务和异步任务，JavaScript单线程中的任务可以细分为宏任务和微任务：\n\n    - macro-task：javascript(整体代码)，setTimeout，setInterval，setImmediate，I/O，UI Rendering，\n    -process.nextTick，Promise，Object.observe，MutationObserver\n\n##### 2.2.2 事件循环与宏任务、微任务\n每次执行栈执行的代码就是一个宏任务(包括每次从事件队列中获取一个事件回调并放到执行栈中执行)\n\n再检测本次循环中是否存在微任务，存在的话，就依次从为任务的任务队列中读取执行完所有的微任务，再读取宏任务的任务队列中的任务执行，再执行所有的微任务，如此循环。\nJS的执行顺序就是每次事件循环中的宏任务-微任务。\n\n    - 第一次事件循环，整段代码作为宏任务进入JS主线程执行\n    - 上述代码扔到执行栈中执行，遇到异步代码，就挂起交给其他线程执行(主线程代码依旧继续执行，异步代码执行完毕后)\n    - 同步代码执行完毕，读取微任务队列，若有待执行的微任务，则微任务清空；\n    - 页面渲染\n    - 反复执行上述操作\n\n具体如下示意图所示：\n![宏任务与微任务的调度](https://img.91temaichang.com/blog/task_job_schedule.png)\n用代码来翻译一下就是：\n```javascript\n  //宏任务\n  for(let macrotask of macrotask_list){\n  \t// 执行一个宏任务\n    macrotask();\n    // 执行所有的微任务\n    for(let microtask of microtask_list){\n    \tmicrotask();\n    }\n    // UI渲染\n    ui_render();\n  }\n```\n![宏任务与微任务执行流程](https://img.91temaichang.com/blog/task_job_luicheng.png)\n##### 2.2.3 事件循环与页面渲染\n在ECMAScript中，微任务称为jobs，宏任务称为task。\n浏览器为了能够使得JS内部task与DOM任务有序的执行，会在一个task执行结束后，在下一个task执行开始前，对页面进行重新渲染；\n*(task -> ui_render -> task -> ...)*\n具体可以看一下代码\n```javascript\n  document.querySelector('#xxx').style.color = 'yellow';\n  Promise.resolve().then(() => {\n  \tdocument.querySelector('#xxx').style.color = 'red';\n  });\n  setTimeout(() => {\n  \tdocument.querySelector('#xxx').style.color = 'blue';\n  \tPromise.resolve().then(() => {\n  \tfor(let i = 0; i < 99999; i ++ ){\n  \t\tconsole.log(i);\n    }\t\n    })\n  }, 17);\n```\n我们来看一个效果\n![宏任务与微任务效果](https://img.91temaichang.com/blog/task_job_demo.gif)\n刚开始div的文本内容会变红色，跟着等到console打印完成后，变为蓝色\n针对上述的运行效果，我们来分析一波：\n  - 第一轮事件循环，将代码塞到JS线程栈中执行，dom使文本变为黄色，然后遇到Promise微任务，微任务塞到事件队列中，接着遇到宏任务setTimeout，则交由定时器触发线程；\n  - 第一轮宏任务执行完了，检查微任务队列中是否有任务，执行微任务，并清空队列，dom操作使得文本变红色，此时setTimeout还没有执行到；\n  - render渲染线程进行渲染，是文本变红色；\n  - 第二轮循环，执行栈是空的，检查微任务队列；\n  - setTimeout执行了，将任务塞到事件队列中，从事件队列中拿事件出来，塞到线程栈执行；\n  - 执行第一个同步任务，dom使得文本变蓝色，第二个是微任务，塞入微任务队列中，此时同步任务执行完毕，检车微任务中是否有任务执行，并清空队列，微任务中console同步任务，此时JS引擎一直在执行，GUI线程被挂起，一直等到console同步任务执行完；\n  - GUI渲染线程进行渲染，使文本变蓝色\n  - 事件循环结束\n> HTML5标准规定了setTimeout的第二个参数最小值不得低于4毫秒，如果低于这个值，就会自动增加\n\n##### 2.2.4 Vue.$nextTick\n用vue的小伙伴可能在工作中会经常用到这个api，Vue的官方介绍：\n> 将回调延迟到下次DOM更新循环之后。在修改数据之后立即使用它，然后等待DOM更新\n其内部实现就是利用了microtask(微任务)，来延迟执行一段代码(获得dom节点的值)，即当前所有同步代码执行完后执行microtask\n","source":"_posts/js-operating-mechanism.md","raw":"---\ntitle: js运行机制\nauthor: Zhenggl\ndate: 2021-03-15 17:46:20\ncategories:\n  - [前端, javascript]\ntags:\n  - javascript\n  - EventLoop\ncover_picture:\n---\n\n### 一、前言\nJS是`单线程`,`单线程`,`单线程`的，为毛是单线程的，这里的单线程是指的在浏览器环境下JS执行引擎是单线程的。\n\n单线程意味着同一时间内只能做一件事，为毛不能有多线程的，这样子可以提高效率啊。\n\n> JS的单线程，与它的用途有关。作为浏览器脚本语言，JS的主要用户就是与用户互动，以及操作DOM。这就决定了它必须只能是单线程的，\n> 否则会带来很复杂的同步问题。比如假设同时有两个线程，一个在某个DOM上添加内容，另一个在DOM上删除内容，同时操作同一个DOM，\n> 那么浏览器应该以哪个为准来对应渲染页面呢？\n\n因此，为了避免复杂性，从JS一诞生，就只能是单线程的，这个是JS语言的核心特征，将来也不会改变到。\n\n为了利用多核CPU的计算能力，Html5提出WebWorker标准，允许JS脚本创建多个线程，但是子线程完全收主线程的控制，切worker子线程\n不得操作DOM，仅能通过发送消息的方式告知主线程来操作DOM。\n\n#### 1.1、进程与线程\n> 进程和线程的主要区别在于他们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程奔溃后，在保护模式下不会对其他进程\n> 产生影响，而线程只是一个进程中的不同执行路径而已，一个进程可以同时有多个不同的线程\n\n一个程序运行，就分配了一个独立的运行的地址空间，进程分配一个或者多个不同的线程，进程是操作系统分配资源的最小单位，线程是CPU调度的最小单位。\n\n#### 1.2、浏览器是多进程的\n打开资源管理器，可以看到浏览器开了很多个进程，每一个tab页都是单独的一个进程，所以一个页面奔溃之后一般不会影响到其他页面\n\n![浏览器是多进程](https://img.91temaichang.com/blog/system-task.png)\n\n浏览器包含以下几个进程：\n\n- Browser进程：浏览器的主进程（负责协调、主控），只有一个\n- 第三方插件进程：每个类型的插件对应于一个进程，仅当使用该插件时才创建\n- GPU进程：最多一个，用于绘制3D等\n- 浏览器渲染进程（浏览器内核）（renderer进程，内部是多线程的）：默认每个Tab标签对应一个进程，互不影响\n\n#### 1.3、浏览器渲染进程\n**浏览器渲染进程是多进程的**，也是一个前端人最关注的，它主要包括有以下几个线程：\n![浏览器进程以及线程](https://img.91temaichang.com/blog/browse_task.png)\n- GUI渲染线程\n    * 负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等；\n    * 当界面需要重绘(Repaint)或由于某种操作引发回流(reflow)时，该线程就会执行；\n    * `GUI渲染线程与JS引擎线程是互斥的`，当JS引擎执行时GUI线程会被挂起，GUI更新会被保存在一个队列中等到JS引擎空闲时立即被执行；\n- JS引擎线程\n    * 也称为JS内核，负责处理javascript脚本程序；\n    * JS引擎线程负责解析javascript，运行代码；\n    * JS引擎一直等待着任务队列中任务引擎的到来，然后加以处理，一个Tab页(renderer进程)中无论什么时候都`只有一个JS线程`在运行JS程序；\n    * `GUI渲染线程与JS引擎线程是互斥的`，因此如果JS执行时间过长，就会造成页面渲染不连贯，导致页面渲染加载阻塞；\n- 事件触发线程\n    * 归属于浏览器而不是JS引擎，用来控制事件循环(可以理解为，JS引擎自己都忙不过来，需要浏览器另开线程协助)；\n    * 当JS引擎执行代码块如setTimeout时(也可以是来自浏览器内核的其他线程，比如鼠标点击、AJAX异步请求等)，会将对应任务添加到事件线程中；\n    * 当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的尾部，等待JS引擎的处理；\n    * 注意，由于JS的单线程关系，所有这些待处理队列中的事件必须排队等待JS引擎来处理(当JS引擎空闲的时候才会执行)\n- 定时触发器线程\n    * 传说中setTimeout与setInterval所在线程；\n    * 浏览器定时计数器并不是属于JS引擎计数的，(因为JS引擎是单线程的，如果处于阻塞线程状态就会影响计时的准确度)；\n    * 因此通过单线程来计时并触发定时(计时完毕后，添加到事件队列中，等待JS空闲后执行)；\n    * W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔为4ms；\n- 异步http请求线程\n    * 在XMLHttpRequest建立连接后，是通过浏览器新开一个线程来发起请求动作；\n    * 检测到状态发生变更后，如果有设置回调方法的话，异步线程就陈升状态变更事件，将这个回调再放入到事件队列中，由JS引擎执行；\n\n#### 1.4、JS引擎是单线程的\n`GUI渲染与JS引擎是互斥的`，为了防止渲染出现不可预测的结果，因为JS是可以直接操作dom的，如果JS引擎与其他线程和GUI线程同时操作DOM的话，那么渲染前后就可能不一样了，\n因此执行JS引擎的时候，GUI线程会被挂起，执行GUI的时候，JS引擎会被挂起。因此JS引擎会阻塞页面的家在，`*这也就是为毛要将JS代码放在body标签之后，在所有的html内容之前，为了防止阻塞GUI线程，造成页面白屏*`\n\n#### 1.5、WebWorker\n由于JS是单线程的，所有任务只能在一个线程上完成，一次只能做一件事，前面的任务未完成的情况下，后面的任务只能等着\n> Web Worker是为JavaScript创造多线程环境，允许主线程创建Worker线程，将一些任务分配给后者运行，在主线程运行的同时，Worker线程在后台运行，两者互不干扰，等到Worker线程完成计算任务，再将结果返回给主线程，这样子的好处是，一些密集型或者高延迟的任务，被Worker线程承担来，主线程就会很流畅，不会被阻塞或拖慢\n\nWebWorker有几个特点：\n  - 同源限制，分配给Worker线程运行的脚本文件，必须与主线程的脚本同源；\n  - DOM限制：不能操作DOM；\n  - 通信联系：Worker与主线程不在同一个上下文环境中，不能直接通信，只能通过消息的方式进行通信；\n  - 脚本限制：不能执行alert()和confirm()方法；\n  - 文件限制：无法读取本地文件\n\n#### 1.6、浏览器渲染流程\n  - 用户输入URL，DNS解析程请求IP地址；\n  - 浏览器与服务器建立连接(tcp协议、三次握手)，服务器处理返回html代码块；\n  - 浏览器接收html代码块，将代码块解析程dom树、解析css为cssObject；\n  - dom树和cssObject结合成render树；\n  - GPU合成，输出到屏幕上；\n\n### 二、JS事件循环\n上面扯了那么多，下面开始进入正题\n#### 2.1、同步任务与异步任务\n  - 同步任务：代码同步执行\n  - 异步任务：代码异步执行\n设计理念：因为同步执行异步任务比较耗时，而且代码中绝大部分都是同步代码，因此我们先执行同步代码，把异步任务交给其他线程去执行，如定时触发线程、异步http请求线程等，\n然后等异步任务完成了或者被回调了就在执行他们，这种`调度同步、异步任务的策略，就是JS事件循环`：\n  - 1. 执行整体代码，如果是同步任务，就直接在主线程上执行，形成一个执行栈；\n  - 2. 当遇到异步任务是，`就交给其他线程执行`，当异步任务执行完了，就往事件队列里面`塞一个回调函数`；\n  - 3. 一旦执行栈中所有的同步任务都执行完毕了，就会读取事件队列，从队列头部去一个任务塞到执行栈中，开始执行；\n  - 4. 一直重复步骤3的操作\n![JS Event Loop](https://img.91temaichang.com/blog/JS-event-loop.png)\n\n以上就是JS事件循环了，确保了同步任务与异步任务有条不紊的执行，只有当前执行栈中任务被执行完了，主线程才会去读取事件队列，看看有没有任务要执行，每次取一个来执行\n\n简单的分析一波老生长谈的setTimeout\n```javascript\n  setTimeout(() => {\n  \tconsole.info('异步操作');\n}, 0);\n  console.info('同步操作');\n```\n- 发现有一setTimeout，就挂起交给定时器触发线程执行(定时器会在指定等待的时间到了之后，将回调函数塞到事件队列中)；\n- 执行同步任务console，直接塞入执行栈执行；\n- 从上到下执行完毕后，执行栈为空了；\n- 从事件队列中去一任务，塞到执行栈中执行\n- 事件队列清空；\n#### 2.2 JS是单线程，怎样执行异步的代码？\n单线程就意味着所有任务都必须排队，前一个任务结束，才会执行后一个任务，如果前一个任务很耗时，后一个任务就不得不一直等着。\n\nJS引擎执行异步代码而不用等待，是因为有消息队列和事件循环。\n\n    - 消息队列：消息队列是一个先进先出的队列，它里面存放着各种消息\n    - 事件循环：主线程重复地从消息队列中取消息到执行栈中进行执行的过程\n\n![JS执行异步任务的示意图](https://img.91temaichang.com/blog/js-async-task.png)\n\n从上图我们可以得出这样子的一个结论，就是：\n> 异步过程的回调函数，一定不在当前这一轮事件循环中执行。\n#### 2.3 宏任务与微任务\n##### 2.3.1 宏任务、微任务\n除了广义的同步任务和异步任务，JavaScript单线程中的任务可以细分为宏任务和微任务：\n\n    - macro-task：javascript(整体代码)，setTimeout，setInterval，setImmediate，I/O，UI Rendering，\n    -process.nextTick，Promise，Object.observe，MutationObserver\n\n##### 2.2.2 事件循环与宏任务、微任务\n每次执行栈执行的代码就是一个宏任务(包括每次从事件队列中获取一个事件回调并放到执行栈中执行)\n\n再检测本次循环中是否存在微任务，存在的话，就依次从为任务的任务队列中读取执行完所有的微任务，再读取宏任务的任务队列中的任务执行，再执行所有的微任务，如此循环。\nJS的执行顺序就是每次事件循环中的宏任务-微任务。\n\n    - 第一次事件循环，整段代码作为宏任务进入JS主线程执行\n    - 上述代码扔到执行栈中执行，遇到异步代码，就挂起交给其他线程执行(主线程代码依旧继续执行，异步代码执行完毕后)\n    - 同步代码执行完毕，读取微任务队列，若有待执行的微任务，则微任务清空；\n    - 页面渲染\n    - 反复执行上述操作\n\n具体如下示意图所示：\n![宏任务与微任务的调度](https://img.91temaichang.com/blog/task_job_schedule.png)\n用代码来翻译一下就是：\n```javascript\n  //宏任务\n  for(let macrotask of macrotask_list){\n  \t// 执行一个宏任务\n    macrotask();\n    // 执行所有的微任务\n    for(let microtask of microtask_list){\n    \tmicrotask();\n    }\n    // UI渲染\n    ui_render();\n  }\n```\n![宏任务与微任务执行流程](https://img.91temaichang.com/blog/task_job_luicheng.png)\n##### 2.2.3 事件循环与页面渲染\n在ECMAScript中，微任务称为jobs，宏任务称为task。\n浏览器为了能够使得JS内部task与DOM任务有序的执行，会在一个task执行结束后，在下一个task执行开始前，对页面进行重新渲染；\n*(task -> ui_render -> task -> ...)*\n具体可以看一下代码\n```javascript\n  document.querySelector('#xxx').style.color = 'yellow';\n  Promise.resolve().then(() => {\n  \tdocument.querySelector('#xxx').style.color = 'red';\n  });\n  setTimeout(() => {\n  \tdocument.querySelector('#xxx').style.color = 'blue';\n  \tPromise.resolve().then(() => {\n  \tfor(let i = 0; i < 99999; i ++ ){\n  \t\tconsole.log(i);\n    }\t\n    })\n  }, 17);\n```\n我们来看一个效果\n![宏任务与微任务效果](https://img.91temaichang.com/blog/task_job_demo.gif)\n刚开始div的文本内容会变红色，跟着等到console打印完成后，变为蓝色\n针对上述的运行效果，我们来分析一波：\n  - 第一轮事件循环，将代码塞到JS线程栈中执行，dom使文本变为黄色，然后遇到Promise微任务，微任务塞到事件队列中，接着遇到宏任务setTimeout，则交由定时器触发线程；\n  - 第一轮宏任务执行完了，检查微任务队列中是否有任务，执行微任务，并清空队列，dom操作使得文本变红色，此时setTimeout还没有执行到；\n  - render渲染线程进行渲染，是文本变红色；\n  - 第二轮循环，执行栈是空的，检查微任务队列；\n  - setTimeout执行了，将任务塞到事件队列中，从事件队列中拿事件出来，塞到线程栈执行；\n  - 执行第一个同步任务，dom使得文本变蓝色，第二个是微任务，塞入微任务队列中，此时同步任务执行完毕，检车微任务中是否有任务执行，并清空队列，微任务中console同步任务，此时JS引擎一直在执行，GUI线程被挂起，一直等到console同步任务执行完；\n  - GUI渲染线程进行渲染，使文本变蓝色\n  - 事件循环结束\n> HTML5标准规定了setTimeout的第二个参数最小值不得低于4毫秒，如果低于这个值，就会自动增加\n\n##### 2.2.4 Vue.$nextTick\n用vue的小伙伴可能在工作中会经常用到这个api，Vue的官方介绍：\n> 将回调延迟到下次DOM更新循环之后。在修改数据之后立即使用它，然后等待DOM更新\n其内部实现就是利用了microtask(微任务)，来延迟执行一段代码(获得dom节点的值)，即当前所有同步代码执行完后执行microtask\n","slug":"js-operating-mechanism","published":1,"updated":"2021-03-19T03:29:34.258Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvuc000b9d0940b20ml7","content":"<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>JS是<code>单线程</code>,<code>单线程</code>,<code>单线程</code>的，为毛是单线程的，这里的单线程是指的在浏览器环境下JS执行引擎是单线程的。</p>\n<p>单线程意味着同一时间内只能做一件事，为毛不能有多线程的，这样子可以提高效率啊。</p>\n<blockquote>\n<p>JS的单线程，与它的用途有关。作为浏览器脚本语言，JS的主要用户就是与用户互动，以及操作DOM。这就决定了它必须只能是单线程的，<br>否则会带来很复杂的同步问题。比如假设同时有两个线程，一个在某个DOM上添加内容，另一个在DOM上删除内容，同时操作同一个DOM，<br>那么浏览器应该以哪个为准来对应渲染页面呢？</p>\n</blockquote>\n<p>因此，为了避免复杂性，从JS一诞生，就只能是单线程的，这个是JS语言的核心特征，将来也不会改变到。</p>\n<p>为了利用多核CPU的计算能力，Html5提出WebWorker标准，允许JS脚本创建多个线程，但是子线程完全收主线程的控制，切worker子线程<br>不得操作DOM，仅能通过发送消息的方式告知主线程来操作DOM。</p>\n<h4 id=\"1-1、进程与线程\"><a href=\"#1-1、进程与线程\" class=\"headerlink\" title=\"1.1、进程与线程\"></a>1.1、进程与线程</h4><blockquote>\n<p>进程和线程的主要区别在于他们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程奔溃后，在保护模式下不会对其他进程<br>产生影响，而线程只是一个进程中的不同执行路径而已，一个进程可以同时有多个不同的线程</p>\n</blockquote>\n<p>一个程序运行，就分配了一个独立的运行的地址空间，进程分配一个或者多个不同的线程，进程是操作系统分配资源的最小单位，线程是CPU调度的最小单位。</p>\n<h4 id=\"1-2、浏览器是多进程的\"><a href=\"#1-2、浏览器是多进程的\" class=\"headerlink\" title=\"1.2、浏览器是多进程的\"></a>1.2、浏览器是多进程的</h4><p>打开资源管理器，可以看到浏览器开了很多个进程，每一个tab页都是单独的一个进程，所以一个页面奔溃之后一般不会影响到其他页面</p>\n<p><img src=\"https://img.91temaichang.com/blog/system-task.png\" alt=\"浏览器是多进程\"></p>\n<p>浏览器包含以下几个进程：</p>\n<ul>\n<li>Browser进程：浏览器的主进程（负责协调、主控），只有一个</li>\n<li>第三方插件进程：每个类型的插件对应于一个进程，仅当使用该插件时才创建</li>\n<li>GPU进程：最多一个，用于绘制3D等</li>\n<li>浏览器渲染进程（浏览器内核）（renderer进程，内部是多线程的）：默认每个Tab标签对应一个进程，互不影响</li>\n</ul>\n<h4 id=\"1-3、浏览器渲染进程\"><a href=\"#1-3、浏览器渲染进程\" class=\"headerlink\" title=\"1.3、浏览器渲染进程\"></a>1.3、浏览器渲染进程</h4><p><strong>浏览器渲染进程是多进程的</strong>，也是一个前端人最关注的，它主要包括有以下几个线程：<br><img src=\"https://img.91temaichang.com/blog/browse_task.png\" alt=\"浏览器进程以及线程\"></p>\n<ul>\n<li>GUI渲染线程<ul>\n<li>负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等；</li>\n<li>当界面需要重绘(Repaint)或由于某种操作引发回流(reflow)时，该线程就会执行；</li>\n<li><code>GUI渲染线程与JS引擎线程是互斥的</code>，当JS引擎执行时GUI线程会被挂起，GUI更新会被保存在一个队列中等到JS引擎空闲时立即被执行；</li>\n</ul>\n</li>\n<li>JS引擎线程<ul>\n<li>也称为JS内核，负责处理javascript脚本程序；</li>\n<li>JS引擎线程负责解析javascript，运行代码；</li>\n<li>JS引擎一直等待着任务队列中任务引擎的到来，然后加以处理，一个Tab页(renderer进程)中无论什么时候都<code>只有一个JS线程</code>在运行JS程序；</li>\n<li><code>GUI渲染线程与JS引擎线程是互斥的</code>，因此如果JS执行时间过长，就会造成页面渲染不连贯，导致页面渲染加载阻塞；</li>\n</ul>\n</li>\n<li>事件触发线程<ul>\n<li>归属于浏览器而不是JS引擎，用来控制事件循环(可以理解为，JS引擎自己都忙不过来，需要浏览器另开线程协助)；</li>\n<li>当JS引擎执行代码块如setTimeout时(也可以是来自浏览器内核的其他线程，比如鼠标点击、AJAX异步请求等)，会将对应任务添加到事件线程中；</li>\n<li>当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的尾部，等待JS引擎的处理；</li>\n<li>注意，由于JS的单线程关系，所有这些待处理队列中的事件必须排队等待JS引擎来处理(当JS引擎空闲的时候才会执行)</li>\n</ul>\n</li>\n<li>定时触发器线程<ul>\n<li>传说中setTimeout与setInterval所在线程；</li>\n<li>浏览器定时计数器并不是属于JS引擎计数的，(因为JS引擎是单线程的，如果处于阻塞线程状态就会影响计时的准确度)；</li>\n<li>因此通过单线程来计时并触发定时(计时完毕后，添加到事件队列中，等待JS空闲后执行)；</li>\n<li>W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔为4ms；</li>\n</ul>\n</li>\n<li>异步http请求线程<ul>\n<li>在XMLHttpRequest建立连接后，是通过浏览器新开一个线程来发起请求动作；</li>\n<li>检测到状态发生变更后，如果有设置回调方法的话，异步线程就陈升状态变更事件，将这个回调再放入到事件队列中，由JS引擎执行；</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"1-4、JS引擎是单线程的\"><a href=\"#1-4、JS引擎是单线程的\" class=\"headerlink\" title=\"1.4、JS引擎是单线程的\"></a>1.4、JS引擎是单线程的</h4><p><code>GUI渲染与JS引擎是互斥的</code>，为了防止渲染出现不可预测的结果，因为JS是可以直接操作dom的，如果JS引擎与其他线程和GUI线程同时操作DOM的话，那么渲染前后就可能不一样了，<br>因此执行JS引擎的时候，GUI线程会被挂起，执行GUI的时候，JS引擎会被挂起。因此JS引擎会阻塞页面的家在，<code>*这也就是为毛要将JS代码放在body标签之后，在所有的html内容之前，为了防止阻塞GUI线程，造成页面白屏*</code></p>\n<h4 id=\"1-5、WebWorker\"><a href=\"#1-5、WebWorker\" class=\"headerlink\" title=\"1.5、WebWorker\"></a>1.5、WebWorker</h4><p>由于JS是单线程的，所有任务只能在一个线程上完成，一次只能做一件事，前面的任务未完成的情况下，后面的任务只能等着</p>\n<blockquote>\n<p>Web Worker是为JavaScript创造多线程环境，允许主线程创建Worker线程，将一些任务分配给后者运行，在主线程运行的同时，Worker线程在后台运行，两者互不干扰，等到Worker线程完成计算任务，再将结果返回给主线程，这样子的好处是，一些密集型或者高延迟的任务，被Worker线程承担来，主线程就会很流畅，不会被阻塞或拖慢</p>\n</blockquote>\n<p>WebWorker有几个特点：</p>\n<ul>\n<li>同源限制，分配给Worker线程运行的脚本文件，必须与主线程的脚本同源；</li>\n<li>DOM限制：不能操作DOM；</li>\n<li>通信联系：Worker与主线程不在同一个上下文环境中，不能直接通信，只能通过消息的方式进行通信；</li>\n<li>脚本限制：不能执行alert()和confirm()方法；</li>\n<li>文件限制：无法读取本地文件</li>\n</ul>\n<h4 id=\"1-6、浏览器渲染流程\"><a href=\"#1-6、浏览器渲染流程\" class=\"headerlink\" title=\"1.6、浏览器渲染流程\"></a>1.6、浏览器渲染流程</h4><ul>\n<li>用户输入URL，DNS解析程请求IP地址；</li>\n<li>浏览器与服务器建立连接(tcp协议、三次握手)，服务器处理返回html代码块；</li>\n<li>浏览器接收html代码块，将代码块解析程dom树、解析css为cssObject；</li>\n<li>dom树和cssObject结合成render树；</li>\n<li>GPU合成，输出到屏幕上；</li>\n</ul>\n<h3 id=\"二、JS事件循环\"><a href=\"#二、JS事件循环\" class=\"headerlink\" title=\"二、JS事件循环\"></a>二、JS事件循环</h3><p>上面扯了那么多，下面开始进入正题</p>\n<h4 id=\"2-1、同步任务与异步任务\"><a href=\"#2-1、同步任务与异步任务\" class=\"headerlink\" title=\"2.1、同步任务与异步任务\"></a>2.1、同步任务与异步任务</h4><ul>\n<li>同步任务：代码同步执行</li>\n<li>异步任务：代码异步执行<br>设计理念：因为同步执行异步任务比较耗时，而且代码中绝大部分都是同步代码，因此我们先执行同步代码，把异步任务交给其他线程去执行，如定时触发线程、异步http请求线程等，<br>然后等异步任务完成了或者被回调了就在执行他们，这种<code>调度同步、异步任务的策略，就是JS事件循环</code>：</li>\n<li><ol>\n<li>执行整体代码，如果是同步任务，就直接在主线程上执行，形成一个执行栈；</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>当遇到异步任务是，<code>就交给其他线程执行</code>，当异步任务执行完了，就往事件队列里面<code>塞一个回调函数</code>；</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>一旦执行栈中所有的同步任务都执行完毕了，就会读取事件队列，从队列头部去一个任务塞到执行栈中，开始执行；</li>\n</ol>\n</li>\n<li><ol start=\"4\">\n<li>一直重复步骤3的操作<br><img src=\"https://img.91temaichang.com/blog/JS-event-loop.png\" alt=\"JS Event Loop\"></li>\n</ol>\n</li>\n</ul>\n<p>以上就是JS事件循环了，确保了同步任务与异步任务有条不紊的执行，只有当前执行栈中任务被执行完了，主线程才会去读取事件队列，看看有没有任务要执行，每次取一个来执行</p>\n<p>简单的分析一波老生长谈的setTimeout</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  \t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;异步操作&#x27;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;同步操作&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>发现有一setTimeout，就挂起交给定时器触发线程执行(定时器会在指定等待的时间到了之后，将回调函数塞到事件队列中)；</li>\n<li>执行同步任务console，直接塞入执行栈执行；</li>\n<li>从上到下执行完毕后，执行栈为空了；</li>\n<li>从事件队列中去一任务，塞到执行栈中执行</li>\n<li>事件队列清空；<h4 id=\"2-2-JS是单线程，怎样执行异步的代码？\"><a href=\"#2-2-JS是单线程，怎样执行异步的代码？\" class=\"headerlink\" title=\"2.2 JS是单线程，怎样执行异步的代码？\"></a>2.2 JS是单线程，怎样执行异步的代码？</h4>单线程就意味着所有任务都必须排队，前一个任务结束，才会执行后一个任务，如果前一个任务很耗时，后一个任务就不得不一直等着。</li>\n</ul>\n<p>JS引擎执行异步代码而不用等待，是因为有消息队列和事件循环。</p>\n<pre><code>- 消息队列：消息队列是一个先进先出的队列，它里面存放着各种消息\n- 事件循环：主线程重复地从消息队列中取消息到执行栈中进行执行的过程\n</code></pre>\n<p><img src=\"https://img.91temaichang.com/blog/js-async-task.png\" alt=\"JS执行异步任务的示意图\"></p>\n<p>从上图我们可以得出这样子的一个结论，就是：</p>\n<blockquote>\n<p>异步过程的回调函数，一定不在当前这一轮事件循环中执行。</p>\n</blockquote>\n<h4 id=\"2-3-宏任务与微任务\"><a href=\"#2-3-宏任务与微任务\" class=\"headerlink\" title=\"2.3 宏任务与微任务\"></a>2.3 宏任务与微任务</h4><h5 id=\"2-3-1-宏任务、微任务\"><a href=\"#2-3-1-宏任务、微任务\" class=\"headerlink\" title=\"2.3.1 宏任务、微任务\"></a>2.3.1 宏任务、微任务</h5><p>除了广义的同步任务和异步任务，JavaScript单线程中的任务可以细分为宏任务和微任务：</p>\n<pre><code>- macro-task：javascript(整体代码)，setTimeout，setInterval，setImmediate，I/O，UI Rendering，\n-process.nextTick，Promise，Object.observe，MutationObserver\n</code></pre>\n<h5 id=\"2-2-2-事件循环与宏任务、微任务\"><a href=\"#2-2-2-事件循环与宏任务、微任务\" class=\"headerlink\" title=\"2.2.2 事件循环与宏任务、微任务\"></a>2.2.2 事件循环与宏任务、微任务</h5><p>每次执行栈执行的代码就是一个宏任务(包括每次从事件队列中获取一个事件回调并放到执行栈中执行)</p>\n<p>再检测本次循环中是否存在微任务，存在的话，就依次从为任务的任务队列中读取执行完所有的微任务，再读取宏任务的任务队列中的任务执行，再执行所有的微任务，如此循环。<br>JS的执行顺序就是每次事件循环中的宏任务-微任务。</p>\n<pre><code>- 第一次事件循环，整段代码作为宏任务进入JS主线程执行\n- 上述代码扔到执行栈中执行，遇到异步代码，就挂起交给其他线程执行(主线程代码依旧继续执行，异步代码执行完毕后)\n- 同步代码执行完毕，读取微任务队列，若有待执行的微任务，则微任务清空；\n- 页面渲染\n- 反复执行上述操作\n</code></pre>\n<p>具体如下示意图所示：<br><img src=\"https://img.91temaichang.com/blog/task_job_schedule.png\" alt=\"宏任务与微任务的调度\"><br>用代码来翻译一下就是：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//宏任务</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> macrotask <span class=\"keyword\">of</span> macrotask_list)&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 执行一个宏任务</span></span><br><span class=\"line\">  macrotask();</span><br><span class=\"line\">  <span class=\"comment\">// 执行所有的微任务</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> microtask <span class=\"keyword\">of</span> microtask_list)&#123;</span><br><span class=\"line\">  \tmicrotask();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// UI渲染</span></span><br><span class=\"line\">  ui_render();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://img.91temaichang.com/blog/task_job_luicheng.png\" alt=\"宏任务与微任务执行流程\"></p>\n<h5 id=\"2-2-3-事件循环与页面渲染\"><a href=\"#2-2-3-事件循环与页面渲染\" class=\"headerlink\" title=\"2.2.3 事件循环与页面渲染\"></a>2.2.3 事件循环与页面渲染</h5><p>在ECMAScript中，微任务称为jobs，宏任务称为task。<br>浏览器为了能够使得JS内部task与DOM任务有序的执行，会在一个task执行结束后，在下一个task执行开始前，对页面进行重新渲染；<br><em>(task -&gt; ui_render -&gt; task -&gt; …)</em><br>具体可以看一下代码</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;#xxx&#x27;</span>).style.color = <span class=\"string\">&#x27;yellow&#x27;</span>;</span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;#xxx&#x27;</span>).style.color = <span class=\"string\">&#x27;red&#x27;</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;#xxx&#x27;</span>).style.color = <span class=\"string\">&#x27;blue&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">99999</span>; i ++ )&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">  &#125;\t</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;, <span class=\"number\">17</span>);</span><br></pre></td></tr></table></figure>\n<p>我们来看一个效果<br><img src=\"https://img.91temaichang.com/blog/task_job_demo.gif\" alt=\"宏任务与微任务效果\"><br>刚开始div的文本内容会变红色，跟着等到console打印完成后，变为蓝色<br>针对上述的运行效果，我们来分析一波：</p>\n<ul>\n<li>第一轮事件循环，将代码塞到JS线程栈中执行，dom使文本变为黄色，然后遇到Promise微任务，微任务塞到事件队列中，接着遇到宏任务setTimeout，则交由定时器触发线程；</li>\n<li>第一轮宏任务执行完了，检查微任务队列中是否有任务，执行微任务，并清空队列，dom操作使得文本变红色，此时setTimeout还没有执行到；</li>\n<li>render渲染线程进行渲染，是文本变红色；</li>\n<li>第二轮循环，执行栈是空的，检查微任务队列；</li>\n<li>setTimeout执行了，将任务塞到事件队列中，从事件队列中拿事件出来，塞到线程栈执行；</li>\n<li>执行第一个同步任务，dom使得文本变蓝色，第二个是微任务，塞入微任务队列中，此时同步任务执行完毕，检车微任务中是否有任务执行，并清空队列，微任务中console同步任务，此时JS引擎一直在执行，GUI线程被挂起，一直等到console同步任务执行完；</li>\n<li>GUI渲染线程进行渲染，使文本变蓝色</li>\n<li>事件循环结束<blockquote>\n<p>HTML5标准规定了setTimeout的第二个参数最小值不得低于4毫秒，如果低于这个值，就会自动增加</p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"2-2-4-Vue-nextTick\"><a href=\"#2-2-4-Vue-nextTick\" class=\"headerlink\" title=\"2.2.4 Vue.$nextTick\"></a>2.2.4 Vue.$nextTick</h5><p>用vue的小伙伴可能在工作中会经常用到这个api，Vue的官方介绍：</p>\n<blockquote>\n<p>将回调延迟到下次DOM更新循环之后。在修改数据之后立即使用它，然后等待DOM更新<br>其内部实现就是利用了microtask(微任务)，来延迟执行一段代码(获得dom节点的值)，即当前所有同步代码执行完后执行microtask</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>JS是<code>单线程</code>,<code>单线程</code>,<code>单线程</code>的，为毛是单线程的，这里的单线程是指的在浏览器环境下JS执行引擎是单线程的。</p>\n<p>单线程意味着同一时间内只能做一件事，为毛不能有多线程的，这样子可以提高效率啊。</p>\n<blockquote>\n<p>JS的单线程，与它的用途有关。作为浏览器脚本语言，JS的主要用户就是与用户互动，以及操作DOM。这就决定了它必须只能是单线程的，<br>否则会带来很复杂的同步问题。比如假设同时有两个线程，一个在某个DOM上添加内容，另一个在DOM上删除内容，同时操作同一个DOM，<br>那么浏览器应该以哪个为准来对应渲染页面呢？</p>\n</blockquote>\n<p>因此，为了避免复杂性，从JS一诞生，就只能是单线程的，这个是JS语言的核心特征，将来也不会改变到。</p>\n<p>为了利用多核CPU的计算能力，Html5提出WebWorker标准，允许JS脚本创建多个线程，但是子线程完全收主线程的控制，切worker子线程<br>不得操作DOM，仅能通过发送消息的方式告知主线程来操作DOM。</p>\n<h4 id=\"1-1、进程与线程\"><a href=\"#1-1、进程与线程\" class=\"headerlink\" title=\"1.1、进程与线程\"></a>1.1、进程与线程</h4><blockquote>\n<p>进程和线程的主要区别在于他们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程奔溃后，在保护模式下不会对其他进程<br>产生影响，而线程只是一个进程中的不同执行路径而已，一个进程可以同时有多个不同的线程</p>\n</blockquote>\n<p>一个程序运行，就分配了一个独立的运行的地址空间，进程分配一个或者多个不同的线程，进程是操作系统分配资源的最小单位，线程是CPU调度的最小单位。</p>\n<h4 id=\"1-2、浏览器是多进程的\"><a href=\"#1-2、浏览器是多进程的\" class=\"headerlink\" title=\"1.2、浏览器是多进程的\"></a>1.2、浏览器是多进程的</h4><p>打开资源管理器，可以看到浏览器开了很多个进程，每一个tab页都是单独的一个进程，所以一个页面奔溃之后一般不会影响到其他页面</p>\n<p><img src=\"https://img.91temaichang.com/blog/system-task.png\" alt=\"浏览器是多进程\"></p>\n<p>浏览器包含以下几个进程：</p>\n<ul>\n<li>Browser进程：浏览器的主进程（负责协调、主控），只有一个</li>\n<li>第三方插件进程：每个类型的插件对应于一个进程，仅当使用该插件时才创建</li>\n<li>GPU进程：最多一个，用于绘制3D等</li>\n<li>浏览器渲染进程（浏览器内核）（renderer进程，内部是多线程的）：默认每个Tab标签对应一个进程，互不影响</li>\n</ul>\n<h4 id=\"1-3、浏览器渲染进程\"><a href=\"#1-3、浏览器渲染进程\" class=\"headerlink\" title=\"1.3、浏览器渲染进程\"></a>1.3、浏览器渲染进程</h4><p><strong>浏览器渲染进程是多进程的</strong>，也是一个前端人最关注的，它主要包括有以下几个线程：<br><img src=\"https://img.91temaichang.com/blog/browse_task.png\" alt=\"浏览器进程以及线程\"></p>\n<ul>\n<li>GUI渲染线程<ul>\n<li>负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等；</li>\n<li>当界面需要重绘(Repaint)或由于某种操作引发回流(reflow)时，该线程就会执行；</li>\n<li><code>GUI渲染线程与JS引擎线程是互斥的</code>，当JS引擎执行时GUI线程会被挂起，GUI更新会被保存在一个队列中等到JS引擎空闲时立即被执行；</li>\n</ul>\n</li>\n<li>JS引擎线程<ul>\n<li>也称为JS内核，负责处理javascript脚本程序；</li>\n<li>JS引擎线程负责解析javascript，运行代码；</li>\n<li>JS引擎一直等待着任务队列中任务引擎的到来，然后加以处理，一个Tab页(renderer进程)中无论什么时候都<code>只有一个JS线程</code>在运行JS程序；</li>\n<li><code>GUI渲染线程与JS引擎线程是互斥的</code>，因此如果JS执行时间过长，就会造成页面渲染不连贯，导致页面渲染加载阻塞；</li>\n</ul>\n</li>\n<li>事件触发线程<ul>\n<li>归属于浏览器而不是JS引擎，用来控制事件循环(可以理解为，JS引擎自己都忙不过来，需要浏览器另开线程协助)；</li>\n<li>当JS引擎执行代码块如setTimeout时(也可以是来自浏览器内核的其他线程，比如鼠标点击、AJAX异步请求等)，会将对应任务添加到事件线程中；</li>\n<li>当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的尾部，等待JS引擎的处理；</li>\n<li>注意，由于JS的单线程关系，所有这些待处理队列中的事件必须排队等待JS引擎来处理(当JS引擎空闲的时候才会执行)</li>\n</ul>\n</li>\n<li>定时触发器线程<ul>\n<li>传说中setTimeout与setInterval所在线程；</li>\n<li>浏览器定时计数器并不是属于JS引擎计数的，(因为JS引擎是单线程的，如果处于阻塞线程状态就会影响计时的准确度)；</li>\n<li>因此通过单线程来计时并触发定时(计时完毕后，添加到事件队列中，等待JS空闲后执行)；</li>\n<li>W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔为4ms；</li>\n</ul>\n</li>\n<li>异步http请求线程<ul>\n<li>在XMLHttpRequest建立连接后，是通过浏览器新开一个线程来发起请求动作；</li>\n<li>检测到状态发生变更后，如果有设置回调方法的话，异步线程就陈升状态变更事件，将这个回调再放入到事件队列中，由JS引擎执行；</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"1-4、JS引擎是单线程的\"><a href=\"#1-4、JS引擎是单线程的\" class=\"headerlink\" title=\"1.4、JS引擎是单线程的\"></a>1.4、JS引擎是单线程的</h4><p><code>GUI渲染与JS引擎是互斥的</code>，为了防止渲染出现不可预测的结果，因为JS是可以直接操作dom的，如果JS引擎与其他线程和GUI线程同时操作DOM的话，那么渲染前后就可能不一样了，<br>因此执行JS引擎的时候，GUI线程会被挂起，执行GUI的时候，JS引擎会被挂起。因此JS引擎会阻塞页面的家在，<code>*这也就是为毛要将JS代码放在body标签之后，在所有的html内容之前，为了防止阻塞GUI线程，造成页面白屏*</code></p>\n<h4 id=\"1-5、WebWorker\"><a href=\"#1-5、WebWorker\" class=\"headerlink\" title=\"1.5、WebWorker\"></a>1.5、WebWorker</h4><p>由于JS是单线程的，所有任务只能在一个线程上完成，一次只能做一件事，前面的任务未完成的情况下，后面的任务只能等着</p>\n<blockquote>\n<p>Web Worker是为JavaScript创造多线程环境，允许主线程创建Worker线程，将一些任务分配给后者运行，在主线程运行的同时，Worker线程在后台运行，两者互不干扰，等到Worker线程完成计算任务，再将结果返回给主线程，这样子的好处是，一些密集型或者高延迟的任务，被Worker线程承担来，主线程就会很流畅，不会被阻塞或拖慢</p>\n</blockquote>\n<p>WebWorker有几个特点：</p>\n<ul>\n<li>同源限制，分配给Worker线程运行的脚本文件，必须与主线程的脚本同源；</li>\n<li>DOM限制：不能操作DOM；</li>\n<li>通信联系：Worker与主线程不在同一个上下文环境中，不能直接通信，只能通过消息的方式进行通信；</li>\n<li>脚本限制：不能执行alert()和confirm()方法；</li>\n<li>文件限制：无法读取本地文件</li>\n</ul>\n<h4 id=\"1-6、浏览器渲染流程\"><a href=\"#1-6、浏览器渲染流程\" class=\"headerlink\" title=\"1.6、浏览器渲染流程\"></a>1.6、浏览器渲染流程</h4><ul>\n<li>用户输入URL，DNS解析程请求IP地址；</li>\n<li>浏览器与服务器建立连接(tcp协议、三次握手)，服务器处理返回html代码块；</li>\n<li>浏览器接收html代码块，将代码块解析程dom树、解析css为cssObject；</li>\n<li>dom树和cssObject结合成render树；</li>\n<li>GPU合成，输出到屏幕上；</li>\n</ul>\n<h3 id=\"二、JS事件循环\"><a href=\"#二、JS事件循环\" class=\"headerlink\" title=\"二、JS事件循环\"></a>二、JS事件循环</h3><p>上面扯了那么多，下面开始进入正题</p>\n<h4 id=\"2-1、同步任务与异步任务\"><a href=\"#2-1、同步任务与异步任务\" class=\"headerlink\" title=\"2.1、同步任务与异步任务\"></a>2.1、同步任务与异步任务</h4><ul>\n<li>同步任务：代码同步执行</li>\n<li>异步任务：代码异步执行<br>设计理念：因为同步执行异步任务比较耗时，而且代码中绝大部分都是同步代码，因此我们先执行同步代码，把异步任务交给其他线程去执行，如定时触发线程、异步http请求线程等，<br>然后等异步任务完成了或者被回调了就在执行他们，这种<code>调度同步、异步任务的策略，就是JS事件循环</code>：</li>\n<li><ol>\n<li>执行整体代码，如果是同步任务，就直接在主线程上执行，形成一个执行栈；</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>当遇到异步任务是，<code>就交给其他线程执行</code>，当异步任务执行完了，就往事件队列里面<code>塞一个回调函数</code>；</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>一旦执行栈中所有的同步任务都执行完毕了，就会读取事件队列，从队列头部去一个任务塞到执行栈中，开始执行；</li>\n</ol>\n</li>\n<li><ol start=\"4\">\n<li>一直重复步骤3的操作<br><img src=\"https://img.91temaichang.com/blog/JS-event-loop.png\" alt=\"JS Event Loop\"></li>\n</ol>\n</li>\n</ul>\n<p>以上就是JS事件循环了，确保了同步任务与异步任务有条不紊的执行，只有当前执行栈中任务被执行完了，主线程才会去读取事件队列，看看有没有任务要执行，每次取一个来执行</p>\n<p>简单的分析一波老生长谈的setTimeout</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  \t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;异步操作&#x27;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;同步操作&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>发现有一setTimeout，就挂起交给定时器触发线程执行(定时器会在指定等待的时间到了之后，将回调函数塞到事件队列中)；</li>\n<li>执行同步任务console，直接塞入执行栈执行；</li>\n<li>从上到下执行完毕后，执行栈为空了；</li>\n<li>从事件队列中去一任务，塞到执行栈中执行</li>\n<li>事件队列清空；<h4 id=\"2-2-JS是单线程，怎样执行异步的代码？\"><a href=\"#2-2-JS是单线程，怎样执行异步的代码？\" class=\"headerlink\" title=\"2.2 JS是单线程，怎样执行异步的代码？\"></a>2.2 JS是单线程，怎样执行异步的代码？</h4>单线程就意味着所有任务都必须排队，前一个任务结束，才会执行后一个任务，如果前一个任务很耗时，后一个任务就不得不一直等着。</li>\n</ul>\n<p>JS引擎执行异步代码而不用等待，是因为有消息队列和事件循环。</p>\n<pre><code>- 消息队列：消息队列是一个先进先出的队列，它里面存放着各种消息\n- 事件循环：主线程重复地从消息队列中取消息到执行栈中进行执行的过程\n</code></pre>\n<p><img src=\"https://img.91temaichang.com/blog/js-async-task.png\" alt=\"JS执行异步任务的示意图\"></p>\n<p>从上图我们可以得出这样子的一个结论，就是：</p>\n<blockquote>\n<p>异步过程的回调函数，一定不在当前这一轮事件循环中执行。</p>\n</blockquote>\n<h4 id=\"2-3-宏任务与微任务\"><a href=\"#2-3-宏任务与微任务\" class=\"headerlink\" title=\"2.3 宏任务与微任务\"></a>2.3 宏任务与微任务</h4><h5 id=\"2-3-1-宏任务、微任务\"><a href=\"#2-3-1-宏任务、微任务\" class=\"headerlink\" title=\"2.3.1 宏任务、微任务\"></a>2.3.1 宏任务、微任务</h5><p>除了广义的同步任务和异步任务，JavaScript单线程中的任务可以细分为宏任务和微任务：</p>\n<pre><code>- macro-task：javascript(整体代码)，setTimeout，setInterval，setImmediate，I/O，UI Rendering，\n-process.nextTick，Promise，Object.observe，MutationObserver\n</code></pre>\n<h5 id=\"2-2-2-事件循环与宏任务、微任务\"><a href=\"#2-2-2-事件循环与宏任务、微任务\" class=\"headerlink\" title=\"2.2.2 事件循环与宏任务、微任务\"></a>2.2.2 事件循环与宏任务、微任务</h5><p>每次执行栈执行的代码就是一个宏任务(包括每次从事件队列中获取一个事件回调并放到执行栈中执行)</p>\n<p>再检测本次循环中是否存在微任务，存在的话，就依次从为任务的任务队列中读取执行完所有的微任务，再读取宏任务的任务队列中的任务执行，再执行所有的微任务，如此循环。<br>JS的执行顺序就是每次事件循环中的宏任务-微任务。</p>\n<pre><code>- 第一次事件循环，整段代码作为宏任务进入JS主线程执行\n- 上述代码扔到执行栈中执行，遇到异步代码，就挂起交给其他线程执行(主线程代码依旧继续执行，异步代码执行完毕后)\n- 同步代码执行完毕，读取微任务队列，若有待执行的微任务，则微任务清空；\n- 页面渲染\n- 反复执行上述操作\n</code></pre>\n<p>具体如下示意图所示：<br><img src=\"https://img.91temaichang.com/blog/task_job_schedule.png\" alt=\"宏任务与微任务的调度\"><br>用代码来翻译一下就是：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//宏任务</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> macrotask <span class=\"keyword\">of</span> macrotask_list)&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 执行一个宏任务</span></span><br><span class=\"line\">  macrotask();</span><br><span class=\"line\">  <span class=\"comment\">// 执行所有的微任务</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> microtask <span class=\"keyword\">of</span> microtask_list)&#123;</span><br><span class=\"line\">  \tmicrotask();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// UI渲染</span></span><br><span class=\"line\">  ui_render();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://img.91temaichang.com/blog/task_job_luicheng.png\" alt=\"宏任务与微任务执行流程\"></p>\n<h5 id=\"2-2-3-事件循环与页面渲染\"><a href=\"#2-2-3-事件循环与页面渲染\" class=\"headerlink\" title=\"2.2.3 事件循环与页面渲染\"></a>2.2.3 事件循环与页面渲染</h5><p>在ECMAScript中，微任务称为jobs，宏任务称为task。<br>浏览器为了能够使得JS内部task与DOM任务有序的执行，会在一个task执行结束后，在下一个task执行开始前，对页面进行重新渲染；<br><em>(task -&gt; ui_render -&gt; task -&gt; …)</em><br>具体可以看一下代码</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;#xxx&#x27;</span>).style.color = <span class=\"string\">&#x27;yellow&#x27;</span>;</span><br><span class=\"line\"><span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;#xxx&#x27;</span>).style.color = <span class=\"string\">&#x27;red&#x27;</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;#xxx&#x27;</span>).style.color = <span class=\"string\">&#x27;blue&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">99999</span>; i ++ )&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(i);</span><br><span class=\"line\">  &#125;\t</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;, <span class=\"number\">17</span>);</span><br></pre></td></tr></table></figure>\n<p>我们来看一个效果<br><img src=\"https://img.91temaichang.com/blog/task_job_demo.gif\" alt=\"宏任务与微任务效果\"><br>刚开始div的文本内容会变红色，跟着等到console打印完成后，变为蓝色<br>针对上述的运行效果，我们来分析一波：</p>\n<ul>\n<li>第一轮事件循环，将代码塞到JS线程栈中执行，dom使文本变为黄色，然后遇到Promise微任务，微任务塞到事件队列中，接着遇到宏任务setTimeout，则交由定时器触发线程；</li>\n<li>第一轮宏任务执行完了，检查微任务队列中是否有任务，执行微任务，并清空队列，dom操作使得文本变红色，此时setTimeout还没有执行到；</li>\n<li>render渲染线程进行渲染，是文本变红色；</li>\n<li>第二轮循环，执行栈是空的，检查微任务队列；</li>\n<li>setTimeout执行了，将任务塞到事件队列中，从事件队列中拿事件出来，塞到线程栈执行；</li>\n<li>执行第一个同步任务，dom使得文本变蓝色，第二个是微任务，塞入微任务队列中，此时同步任务执行完毕，检车微任务中是否有任务执行，并清空队列，微任务中console同步任务，此时JS引擎一直在执行，GUI线程被挂起，一直等到console同步任务执行完；</li>\n<li>GUI渲染线程进行渲染，使文本变蓝色</li>\n<li>事件循环结束<blockquote>\n<p>HTML5标准规定了setTimeout的第二个参数最小值不得低于4毫秒，如果低于这个值，就会自动增加</p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"2-2-4-Vue-nextTick\"><a href=\"#2-2-4-Vue-nextTick\" class=\"headerlink\" title=\"2.2.4 Vue.$nextTick\"></a>2.2.4 Vue.$nextTick</h5><p>用vue的小伙伴可能在工作中会经常用到这个api，Vue的官方介绍：</p>\n<blockquote>\n<p>将回调延迟到下次DOM更新循环之后。在修改数据之后立即使用它，然后等待DOM更新<br>其内部实现就是利用了microtask(微任务)，来延迟执行一段代码(获得dom节点的值)，即当前所有同步代码执行完后执行microtask</p>\n</blockquote>\n"},{"title":"setTimeout与setInterval","author":"Zhenggl","date":"2021-03-10T08:20:55.000Z","_content":"###  一、setTimeout和setInterval的基本用法\n1. setTimeout指定延迟XX秒后执行函数；\n2. setInterval指定周期来执行函数；\n3. 当我们设置定时器(setTimeout/setInterval)，都会有一个返回值，这个返回值是一个数字，代表当前是在浏览器中设置的第几个定时器(返回的是定时器序号)\n\n ```javascript\n  let timer1 = setTimeout(() => {}, 1000);\n  console.info(timer1);   // 1\n  \n  let timer2 = setInterval(() => {}, 1000);\n  console.info(timer2);\n ```\n4. 根据👆两段代码可以知道\n    * setTimeout和setInterval虽然是处理不同功能的定时器，但都是浏览器的定时器，所以返回的序号是依次排列的；\n    * setInterval设置完成定时器会有一个返回值，不管执行多少次，这个代表序号的返回值不变。\n5. 定时器的清除\n   * clearTimeout(timer)\n   *  clearInterval(timer)\n\n`这里定时器即使清除了，其返回值也不会清除，之后设定的定时器返回值也会在之前的返回的基础上继续向后排`\n\n6. 定时器this指向\n\n`**由于定时器的执行，均是有定时器线程发起的，且到了真正该执行回调的时候，是将回调函数塞到事件队列中，待JS主线程空闲的时候，从事件队列中依次获取事件回调，塞到主线程中执行的，因此它的this指向都是window**`\n具体可以看以下代码：\n```javascript\n  let obj = {\n\tfn(){\n\t\tconsole.info(this)  // obj\n\t\t// 示例1\n\t\tlet timer = setTimeout(function(){\n\t\t\tconsole.info('我是timer1的this指向：', this); // Window\n\t\t}, 1000);\n\t\t// 示例2(让定时器函数中的this是obj：使用变量保存的方式)\n\t\tlet _this = this;\n\t\tlet timer2 = setTimeout(function(){\n\t\t\tconsole.info('我是timer2的this指向：', _this);  // obj\n\t\t}, 1000);\n\t\t// 示例3(让定时器函数中的this是obj：使用bind方法改变this指针)\n\t\tlet timer3 = setTimeout(\n\t\t\tfunction(){\n\t\t\t\tconsole.info('我是timer3的this指向：', this); // obj\n\t\t\t}.bind(this)\n\t\t, 1000);\n\t\t// 示例4(让定时器函数中的this是obj：使用箭头函数，箭头函数中的this继承宿主环境(上级作用域中的this))\n\t\tlet timer4 = setTimeout(() => {\n\t\t\tconsole.info('我是timer4的this指向：', this); //obj\n\t\t});\n\t\t\n\t\tlet timer5 = setTimeout(\n\t\t\t(function($this){\n\t\t\t\tconsole.info('我是timer5的this指向：', $this);\n\t\t\t})(this)  // obj\n\t\t, 1000);\n\t}\n  };\n  obj.fn();\n```\n对应的执行结果如下：\n\n![setTimeout中this的指向](https://img.91temaichang.com/blog/setTimeout-this.png)\n\n从上述代码执行结果我们可以看出，由于timer5是立即执行代码，并且在执行的时候将this作为参数传递给setTimeout的回调，因此它是最先被执行的；\n而且，就算setTimeout设置为0秒执行，它也是按照EventLoop的机制，塞到事件队列中，再从事件队列中获取，比如上图中的timer4；\n\n### 二、定时器疑难杂症\n\n 有以下一个场景情况：\n ```javascript\n function func(i){\n\tfor(let i = 0; i < 5; i ++){\n\t\tconsole.info(`xxx=${i}`);\n\t}\n}\n setInterval(function (){\n\tfunc(10);\n}, 100);\n ```\n上面这个代码块，每隔100毫秒执行func函数，如果func函数的执行时间少于100毫秒的话，则下一个100毫秒都能够执行到func，执行的示意图如下：\n\n![正常的setInterval](https://img.91temaichang.com/blog/interval1.png)\n\n但是，如果func函数的执行时间大雨100毫秒的话，本来应该春发下一个func函数之前的还没有执行完毕，这时应该怎么办？\n答案如下图所示，那么第二个func会在队列(EventLoop)中等待，直到第一个函数执行完\n\n![被挂起的setInterval](https://img.91temaichang.com/blog/interval3.png)\n\n如果第一个函数的执行时间超级长，在执行的过程中本来应该触发了许多的func函数的话，这些应该触发的函数都会进入到队列中吗？\n`*不，只要发现队列中有一个被执行的函数存在，那么其他的统统忽略*`，如下图所示，在第300毫秒和第400毫秒处的func都被抛弃掉，\n一旦第一个函数执行完后，接着执行队列中的第二个，即使这个函数已经\"过时\"很久了。\n\n![执行过时很久的setInterval回调](https://img.91temaichang.com/blog/interval3.png)\n\n还有一点，虽然在setInterval里面制定的周期是100毫秒，但它不能保证两个函数之间调用的间隔一定是100毫秒。在上面的情况中，\n如果队列中的第二个函数是在第450毫秒处结束的话，在第500毫秒时，它会执行第二个func，也就是说这之间的间隔只有50毫秒，并非100毫秒\n\n那如果我想保证每秒执行的间隔应该怎么办？用setTimeout，比如下面的代码：\n\n```javascript\n  var i = 1;\n  var timer = setTimeout(function(){\n  \talert(i ++ );\n  \ttimer = setTimeout(arguments.callee, 2000);\n  }, 2000);\n```\n👆的函数每2秒就递归调用自己一次，你可以在某一次alert的时候等待任意长的时间(不点击alert的确定按钮)，接下来无论什么时候点击\"确定\"，下一次执行\n一定离这次确定相差2秒的，意味着会每隔2秒弹出一个alert。\n\n### 三、setTimeout除了做定时器还能做什么？\n\n假如有一个非常耗时的操作(比如下面的操作，在table中插入2000行)，我想计算这个操作所消耗的事件应该怎么办？\n```javascript\nvar t1 = new Date();\n  var tbody = document.getElementsByTagName('tbody')[0];\n  for(var i = 0; i < 20000; i ++){\n  \tvar tr = document.createElement('tr');\n  \tfor(var t = 0 ; t < 6; t ++ ){\n  \t\tvar td = document.createElement('td');\n  \t\ttd.appendChild(document.createTextNode(i + ',' + t));\n  \t\ttr.appendChild(td);\n  \t}\n  \ttbody.appendChild(tr);\n  }\nvar t2 = new Date();\nconsole.info(t2 - t1);\n```\n上述代码发现，一运行就直接打印出来了，在20000行还没有被渲染出来的情况下，可能就1秒左右，这是为毛呢？\n因为JS是单线程的，GUI渲染与JS主线程是互斥的，上述代码直接算出了js主线程的执行时间，还没有等tbody渲染20000行的时间，\n执行完console.info(t2 - t1)之后，才开始GUI渲染，因此要真正计算出这个操作所消耗的时间，应该如下：\n```javascript\nvar t1 = new Date();\n  var tbody = document.getElementsByTagName('tbody')[0];\n  for(var i = 0; i < 20000; i ++){\n  \tvar tr = document.createElement('tr');\n  \tfor(var t = 0 ; t < 6; t ++ ){\n  \t\tvar td = document.createElement('td');\n  \t\ttd.appendChild(document.createTextNode(i + ',' + t));\n  \t\ttr.appendChild(td);\n  \t}\n  \ttbody.appendChild(tr);\n  }\nsetTimeout(function(){\n\tvar t2 = new Date();\n  console.info(t2 - t1);\n}, 0);\n```\n通过setTimeout将计算耗时的动作塞到事件队列中，根据JS EventLoop的机制，轮一次宏任务的同时刷一轮微任务，然后是GUI渲染，\nsetTimeout的回调将会到第二次宏任务执行的时候，从事件队列中拿出来放到JS主线程中执行了，这个时候GUI已经刚刚渲染完毕，因此\n才能够正确计算出tbody渲染出来所消耗的时间。\n\n👇这个例子也是同样的道理，怎样改进才能看到颜色的变化呢？\n```javascript\nfunction run() {\n  var div = document.getElementById('xxx');\n  for(var i=0xBBBB00;i <= 0xBBBBBB;i++) {\n    div.style.backgroundColor = '#'+i.toString(16)\n  }\n}\n```\n直接运行上述代码，会发现，浏览器一下子变成#BBBBBB颜色，并没有渐变的效果，这是因为GUI线程与JS主线程互斥，👆代码执行的时候，\n直接先轮了一遍从0xBBB000到0xBBBBBB的循环，i的值变成了0xBBBBBB，然后再执行GUI渲染线程，所以效果就是直接变0xBBBBBB，\n那么我们如果想要看它的一个颜色变化的过程，应该如何调整呢？\n```javascript\nfunction run() {\n  var div = document.getElementById('xxx');\n  for(var i=0xBBB000;i <= 0xBBBBBB;i++) {\n  \t(function (color){\n  \t\tsetTimeout(function(){\n  \t\t\tdiv.style.backgroundColor = '#'+color.toString(16);\n  \t\t}, 0);\n  \t})(i);\n  }\n}\n```\n首先用立即执行的函数来包裹，防止在JS主线程直接将i直接过渡到0xBBBBBB后再执行里面的函数，并且缓存i临时变量传递给color，\n然后用setTimeout将变色任务甩出去，进入到事件队列中，每次轮一次宏任务的同时，刷一遍微任务，并执行GUI渲染。\n","source":"_posts/setTimeout-setInterval.md","raw":"---\ntitle: setTimeout与setInterval\nauthor: Zhenggl\ndate: 2021-03-10 16:20:55\ncategories:\n  - [前端, javascript]\ntags:\n  - javascript\n  - 基础概念\n---\n###  一、setTimeout和setInterval的基本用法\n1. setTimeout指定延迟XX秒后执行函数；\n2. setInterval指定周期来执行函数；\n3. 当我们设置定时器(setTimeout/setInterval)，都会有一个返回值，这个返回值是一个数字，代表当前是在浏览器中设置的第几个定时器(返回的是定时器序号)\n\n ```javascript\n  let timer1 = setTimeout(() => {}, 1000);\n  console.info(timer1);   // 1\n  \n  let timer2 = setInterval(() => {}, 1000);\n  console.info(timer2);\n ```\n4. 根据👆两段代码可以知道\n    * setTimeout和setInterval虽然是处理不同功能的定时器，但都是浏览器的定时器，所以返回的序号是依次排列的；\n    * setInterval设置完成定时器会有一个返回值，不管执行多少次，这个代表序号的返回值不变。\n5. 定时器的清除\n   * clearTimeout(timer)\n   *  clearInterval(timer)\n\n`这里定时器即使清除了，其返回值也不会清除，之后设定的定时器返回值也会在之前的返回的基础上继续向后排`\n\n6. 定时器this指向\n\n`**由于定时器的执行，均是有定时器线程发起的，且到了真正该执行回调的时候，是将回调函数塞到事件队列中，待JS主线程空闲的时候，从事件队列中依次获取事件回调，塞到主线程中执行的，因此它的this指向都是window**`\n具体可以看以下代码：\n```javascript\n  let obj = {\n\tfn(){\n\t\tconsole.info(this)  // obj\n\t\t// 示例1\n\t\tlet timer = setTimeout(function(){\n\t\t\tconsole.info('我是timer1的this指向：', this); // Window\n\t\t}, 1000);\n\t\t// 示例2(让定时器函数中的this是obj：使用变量保存的方式)\n\t\tlet _this = this;\n\t\tlet timer2 = setTimeout(function(){\n\t\t\tconsole.info('我是timer2的this指向：', _this);  // obj\n\t\t}, 1000);\n\t\t// 示例3(让定时器函数中的this是obj：使用bind方法改变this指针)\n\t\tlet timer3 = setTimeout(\n\t\t\tfunction(){\n\t\t\t\tconsole.info('我是timer3的this指向：', this); // obj\n\t\t\t}.bind(this)\n\t\t, 1000);\n\t\t// 示例4(让定时器函数中的this是obj：使用箭头函数，箭头函数中的this继承宿主环境(上级作用域中的this))\n\t\tlet timer4 = setTimeout(() => {\n\t\t\tconsole.info('我是timer4的this指向：', this); //obj\n\t\t});\n\t\t\n\t\tlet timer5 = setTimeout(\n\t\t\t(function($this){\n\t\t\t\tconsole.info('我是timer5的this指向：', $this);\n\t\t\t})(this)  // obj\n\t\t, 1000);\n\t}\n  };\n  obj.fn();\n```\n对应的执行结果如下：\n\n![setTimeout中this的指向](https://img.91temaichang.com/blog/setTimeout-this.png)\n\n从上述代码执行结果我们可以看出，由于timer5是立即执行代码，并且在执行的时候将this作为参数传递给setTimeout的回调，因此它是最先被执行的；\n而且，就算setTimeout设置为0秒执行，它也是按照EventLoop的机制，塞到事件队列中，再从事件队列中获取，比如上图中的timer4；\n\n### 二、定时器疑难杂症\n\n 有以下一个场景情况：\n ```javascript\n function func(i){\n\tfor(let i = 0; i < 5; i ++){\n\t\tconsole.info(`xxx=${i}`);\n\t}\n}\n setInterval(function (){\n\tfunc(10);\n}, 100);\n ```\n上面这个代码块，每隔100毫秒执行func函数，如果func函数的执行时间少于100毫秒的话，则下一个100毫秒都能够执行到func，执行的示意图如下：\n\n![正常的setInterval](https://img.91temaichang.com/blog/interval1.png)\n\n但是，如果func函数的执行时间大雨100毫秒的话，本来应该春发下一个func函数之前的还没有执行完毕，这时应该怎么办？\n答案如下图所示，那么第二个func会在队列(EventLoop)中等待，直到第一个函数执行完\n\n![被挂起的setInterval](https://img.91temaichang.com/blog/interval3.png)\n\n如果第一个函数的执行时间超级长，在执行的过程中本来应该触发了许多的func函数的话，这些应该触发的函数都会进入到队列中吗？\n`*不，只要发现队列中有一个被执行的函数存在，那么其他的统统忽略*`，如下图所示，在第300毫秒和第400毫秒处的func都被抛弃掉，\n一旦第一个函数执行完后，接着执行队列中的第二个，即使这个函数已经\"过时\"很久了。\n\n![执行过时很久的setInterval回调](https://img.91temaichang.com/blog/interval3.png)\n\n还有一点，虽然在setInterval里面制定的周期是100毫秒，但它不能保证两个函数之间调用的间隔一定是100毫秒。在上面的情况中，\n如果队列中的第二个函数是在第450毫秒处结束的话，在第500毫秒时，它会执行第二个func，也就是说这之间的间隔只有50毫秒，并非100毫秒\n\n那如果我想保证每秒执行的间隔应该怎么办？用setTimeout，比如下面的代码：\n\n```javascript\n  var i = 1;\n  var timer = setTimeout(function(){\n  \talert(i ++ );\n  \ttimer = setTimeout(arguments.callee, 2000);\n  }, 2000);\n```\n👆的函数每2秒就递归调用自己一次，你可以在某一次alert的时候等待任意长的时间(不点击alert的确定按钮)，接下来无论什么时候点击\"确定\"，下一次执行\n一定离这次确定相差2秒的，意味着会每隔2秒弹出一个alert。\n\n### 三、setTimeout除了做定时器还能做什么？\n\n假如有一个非常耗时的操作(比如下面的操作，在table中插入2000行)，我想计算这个操作所消耗的事件应该怎么办？\n```javascript\nvar t1 = new Date();\n  var tbody = document.getElementsByTagName('tbody')[0];\n  for(var i = 0; i < 20000; i ++){\n  \tvar tr = document.createElement('tr');\n  \tfor(var t = 0 ; t < 6; t ++ ){\n  \t\tvar td = document.createElement('td');\n  \t\ttd.appendChild(document.createTextNode(i + ',' + t));\n  \t\ttr.appendChild(td);\n  \t}\n  \ttbody.appendChild(tr);\n  }\nvar t2 = new Date();\nconsole.info(t2 - t1);\n```\n上述代码发现，一运行就直接打印出来了，在20000行还没有被渲染出来的情况下，可能就1秒左右，这是为毛呢？\n因为JS是单线程的，GUI渲染与JS主线程是互斥的，上述代码直接算出了js主线程的执行时间，还没有等tbody渲染20000行的时间，\n执行完console.info(t2 - t1)之后，才开始GUI渲染，因此要真正计算出这个操作所消耗的时间，应该如下：\n```javascript\nvar t1 = new Date();\n  var tbody = document.getElementsByTagName('tbody')[0];\n  for(var i = 0; i < 20000; i ++){\n  \tvar tr = document.createElement('tr');\n  \tfor(var t = 0 ; t < 6; t ++ ){\n  \t\tvar td = document.createElement('td');\n  \t\ttd.appendChild(document.createTextNode(i + ',' + t));\n  \t\ttr.appendChild(td);\n  \t}\n  \ttbody.appendChild(tr);\n  }\nsetTimeout(function(){\n\tvar t2 = new Date();\n  console.info(t2 - t1);\n}, 0);\n```\n通过setTimeout将计算耗时的动作塞到事件队列中，根据JS EventLoop的机制，轮一次宏任务的同时刷一轮微任务，然后是GUI渲染，\nsetTimeout的回调将会到第二次宏任务执行的时候，从事件队列中拿出来放到JS主线程中执行了，这个时候GUI已经刚刚渲染完毕，因此\n才能够正确计算出tbody渲染出来所消耗的时间。\n\n👇这个例子也是同样的道理，怎样改进才能看到颜色的变化呢？\n```javascript\nfunction run() {\n  var div = document.getElementById('xxx');\n  for(var i=0xBBBB00;i <= 0xBBBBBB;i++) {\n    div.style.backgroundColor = '#'+i.toString(16)\n  }\n}\n```\n直接运行上述代码，会发现，浏览器一下子变成#BBBBBB颜色，并没有渐变的效果，这是因为GUI线程与JS主线程互斥，👆代码执行的时候，\n直接先轮了一遍从0xBBB000到0xBBBBBB的循环，i的值变成了0xBBBBBB，然后再执行GUI渲染线程，所以效果就是直接变0xBBBBBB，\n那么我们如果想要看它的一个颜色变化的过程，应该如何调整呢？\n```javascript\nfunction run() {\n  var div = document.getElementById('xxx');\n  for(var i=0xBBB000;i <= 0xBBBBBB;i++) {\n  \t(function (color){\n  \t\tsetTimeout(function(){\n  \t\t\tdiv.style.backgroundColor = '#'+color.toString(16);\n  \t\t}, 0);\n  \t})(i);\n  }\n}\n```\n首先用立即执行的函数来包裹，防止在JS主线程直接将i直接过渡到0xBBBBBB后再执行里面的函数，并且缓存i临时变量传递给color，\n然后用setTimeout将变色任务甩出去，进入到事件队列中，每次轮一次宏任务的同时，刷一遍微任务，并执行GUI渲染。\n","slug":"setTimeout-setInterval","published":1,"updated":"2021-03-19T09:41:46.890Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvue000e9d0997ab1j1r","content":"<h3 id=\"一、setTimeout和setInterval的基本用法\"><a href=\"#一、setTimeout和setInterval的基本用法\" class=\"headerlink\" title=\"一、setTimeout和setInterval的基本用法\"></a>一、setTimeout和setInterval的基本用法</h3><ol>\n<li>setTimeout指定延迟XX秒后执行函数；</li>\n<li>setInterval指定周期来执行函数；</li>\n<li>当我们设置定时器(setTimeout/setInterval)，都会有一个返回值，这个返回值是一个数字，代表当前是在浏览器中设置的第几个定时器(返回的是定时器序号)</li>\n</ol>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> timer1 = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.info(timer1);   <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> timer2 = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.info(timer2);</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>根据👆两段代码可以知道<ul>\n<li>setTimeout和setInterval虽然是处理不同功能的定时器，但都是浏览器的定时器，所以返回的序号是依次排列的；</li>\n<li>setInterval设置完成定时器会有一个返回值，不管执行多少次，这个代表序号的返回值不变。</li>\n</ul>\n</li>\n<li>定时器的清除<ul>\n<li>clearTimeout(timer)</li>\n<li> clearInterval(timer)</li>\n</ul>\n</li>\n</ol>\n<p><code>这里定时器即使清除了，其返回值也不会清除，之后设定的定时器返回值也会在之前的返回的基础上继续向后排</code></p>\n<ol start=\"6\">\n<li>定时器this指向</li>\n</ol>\n<p><code>**由于定时器的执行，均是有定时器线程发起的，且到了真正该执行回调的时候，是将回调函数塞到事件队列中，待JS主线程空闲的时候，从事件队列中依次获取事件回调，塞到主线程中执行的，因此它的this指向都是window**</code><br>具体可以看以下代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">fn</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.info(<span class=\"built_in\">this</span>)  <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t<span class=\"comment\">// 示例1</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer1的this指向：&#x27;</span>, <span class=\"built_in\">this</span>); <span class=\"comment\">// Window</span></span><br><span class=\"line\">\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 示例2(让定时器函数中的this是obj：使用变量保存的方式)</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> _this = <span class=\"built_in\">this</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer2 = <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer2的this指向：&#x27;</span>, _this);  <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 示例3(让定时器函数中的this是obj：使用bind方法改变this指针)</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer3 = <span class=\"built_in\">setTimeout</span>(</span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer3的this指向：&#x27;</span>, <span class=\"built_in\">this</span>); <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t\t&#125;.bind(<span class=\"built_in\">this</span>)</span><br><span class=\"line\">\t, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 示例4(让定时器函数中的this是obj：使用箭头函数，箭头函数中的this继承宿主环境(上级作用域中的this))</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer4 = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer4的this指向：&#x27;</span>, <span class=\"built_in\">this</span>); <span class=\"comment\">//obj</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer5 = <span class=\"built_in\">setTimeout</span>(</span><br><span class=\"line\">\t\t(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$<span class=\"built_in\">this</span></span>)</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer5的this指向：&#x27;</span>, $this);</span><br><span class=\"line\">\t\t&#125;)(<span class=\"built_in\">this</span>)  <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> &#125;;</span><br><span class=\"line\"> obj.fn();</span><br></pre></td></tr></table></figure>\n<p>对应的执行结果如下：</p>\n<p><img src=\"https://img.91temaichang.com/blog/setTimeout-this.png\" alt=\"setTimeout中this的指向\"></p>\n<p>从上述代码执行结果我们可以看出，由于timer5是立即执行代码，并且在执行的时候将this作为参数传递给setTimeout的回调，因此它是最先被执行的；<br>而且，就算setTimeout设置为0秒执行，它也是按照EventLoop的机制，塞到事件队列中，再从事件队列中获取，比如上图中的timer4；</p>\n<h3 id=\"二、定时器疑难杂症\"><a href=\"#二、定时器疑难杂症\" class=\"headerlink\" title=\"二、定时器疑难杂症\"></a>二、定时器疑难杂症</h3><p> 有以下一个场景情况：<br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">func</span>(<span class=\"params\">i</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i ++)&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">`xxx=<span class=\"subst\">$&#123;i&#125;</span>`</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"built_in\">setInterval</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\tfunc(<span class=\"number\">10</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">100</span>);</span><br></pre></td></tr></table></figure><br>上面这个代码块，每隔100毫秒执行func函数，如果func函数的执行时间少于100毫秒的话，则下一个100毫秒都能够执行到func，执行的示意图如下：</p>\n<p><img src=\"https://img.91temaichang.com/blog/interval1.png\" alt=\"正常的setInterval\"></p>\n<p>但是，如果func函数的执行时间大雨100毫秒的话，本来应该春发下一个func函数之前的还没有执行完毕，这时应该怎么办？<br>答案如下图所示，那么第二个func会在队列(EventLoop)中等待，直到第一个函数执行完</p>\n<p><img src=\"https://img.91temaichang.com/blog/interval3.png\" alt=\"被挂起的setInterval\"></p>\n<p>如果第一个函数的执行时间超级长，在执行的过程中本来应该触发了许多的func函数的话，这些应该触发的函数都会进入到队列中吗？<br><code>*不，只要发现队列中有一个被执行的函数存在，那么其他的统统忽略*</code>，如下图所示，在第300毫秒和第400毫秒处的func都被抛弃掉，<br>一旦第一个函数执行完后，接着执行队列中的第二个，即使这个函数已经”过时”很久了。</p>\n<p><img src=\"https://img.91temaichang.com/blog/interval3.png\" alt=\"执行过时很久的setInterval回调\"></p>\n<p>还有一点，虽然在setInterval里面制定的周期是100毫秒，但它不能保证两个函数之间调用的间隔一定是100毫秒。在上面的情况中，<br>如果队列中的第二个函数是在第450毫秒处结束的话，在第500毫秒时，它会执行第二个func，也就是说这之间的间隔只有50毫秒，并非100毫秒</p>\n<p>那如果我想保证每秒执行的间隔应该怎么办？用setTimeout，比如下面的代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\talert(i ++ );</span><br><span class=\"line\">\ttimer = <span class=\"built_in\">setTimeout</span>(<span class=\"built_in\">arguments</span>.callee, <span class=\"number\">2000</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">2000</span>);</span><br></pre></td></tr></table></figure>\n<p>👆的函数每2秒就递归调用自己一次，你可以在某一次alert的时候等待任意长的时间(不点击alert的确定按钮)，接下来无论什么时候点击”确定”，下一次执行<br>一定离这次确定相差2秒的，意味着会每隔2秒弹出一个alert。</p>\n<h3 id=\"三、setTimeout除了做定时器还能做什么？\"><a href=\"#三、setTimeout除了做定时器还能做什么？\" class=\"headerlink\" title=\"三、setTimeout除了做定时器还能做什么？\"></a>三、setTimeout除了做定时器还能做什么？</h3><p>假如有一个非常耗时的操作(比如下面的操作，在table中插入2000行)，我想计算这个操作所消耗的事件应该怎么办？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> t1 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> tbody = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">&#x27;tbody&#x27;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">20000</span>; i ++)&#123;</span><br><span class=\"line\">  \t<span class=\"keyword\">var</span> tr = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;tr&#x27;</span>);</span><br><span class=\"line\">  \t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t = <span class=\"number\">0</span> ; t &lt; <span class=\"number\">6</span>; t ++ )&#123;</span><br><span class=\"line\">  \t\t<span class=\"keyword\">var</span> td = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;td&#x27;</span>);</span><br><span class=\"line\">  \t\ttd.appendChild(<span class=\"built_in\">document</span>.createTextNode(i + <span class=\"string\">&#x27;,&#x27;</span> + t));</span><br><span class=\"line\">  \t\ttr.appendChild(td);</span><br><span class=\"line\">  \t&#125;</span><br><span class=\"line\">  \ttbody.appendChild(tr);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> t2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.info(t2 - t1);</span><br></pre></td></tr></table></figure>\n<p>上述代码发现，一运行就直接打印出来了，在20000行还没有被渲染出来的情况下，可能就1秒左右，这是为毛呢？<br>因为JS是单线程的，GUI渲染与JS主线程是互斥的，上述代码直接算出了js主线程的执行时间，还没有等tbody渲染20000行的时间，<br>执行完console.info(t2 - t1)之后，才开始GUI渲染，因此要真正计算出这个操作所消耗的时间，应该如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> t1 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> tbody = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">&#x27;tbody&#x27;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">20000</span>; i ++)&#123;</span><br><span class=\"line\">  \t<span class=\"keyword\">var</span> tr = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;tr&#x27;</span>);</span><br><span class=\"line\">  \t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t = <span class=\"number\">0</span> ; t &lt; <span class=\"number\">6</span>; t ++ )&#123;</span><br><span class=\"line\">  \t\t<span class=\"keyword\">var</span> td = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;td&#x27;</span>);</span><br><span class=\"line\">  \t\ttd.appendChild(<span class=\"built_in\">document</span>.createTextNode(i + <span class=\"string\">&#x27;,&#x27;</span> + t));</span><br><span class=\"line\">  \t\ttr.appendChild(td);</span><br><span class=\"line\">  \t&#125;</span><br><span class=\"line\">  \ttbody.appendChild(tr);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> t2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.info(t2 - t1);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>\n<p>通过setTimeout将计算耗时的动作塞到事件队列中，根据JS EventLoop的机制，轮一次宏任务的同时刷一轮微任务，然后是GUI渲染，<br>setTimeout的回调将会到第二次宏任务执行的时候，从事件队列中拿出来放到JS主线程中执行了，这个时候GUI已经刚刚渲染完毕，因此<br>才能够正确计算出tbody渲染出来所消耗的时间。</p>\n<p>👇这个例子也是同样的道理，怎样改进才能看到颜色的变化呢？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> div = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;xxx&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0xBBBB00</span>;i &lt;= <span class=\"number\">0xBBBBBB</span>;i++) &#123;</span><br><span class=\"line\">    div.style.backgroundColor = <span class=\"string\">&#x27;#&#x27;</span>+i.toString(<span class=\"number\">16</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>直接运行上述代码，会发现，浏览器一下子变成#BBBBBB颜色，并没有渐变的效果，这是因为GUI线程与JS主线程互斥，👆代码执行的时候，<br>直接先轮了一遍从0xBBB000到0xBBBBBB的循环，i的值变成了0xBBBBBB，然后再执行GUI渲染线程，所以效果就是直接变0xBBBBBB，<br>那么我们如果想要看它的一个颜色变化的过程，应该如何调整呢？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> div = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;xxx&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0xBBB000</span>;i &lt;= <span class=\"number\">0xBBBBBB</span>;i++) &#123;</span><br><span class=\"line\">  \t(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">color</span>)</span>&#123;</span><br><span class=\"line\">  \t\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  \t\t\tdiv.style.backgroundColor = <span class=\"string\">&#x27;#&#x27;</span>+color.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">  \t\t&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">  \t&#125;)(i);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>首先用立即执行的函数来包裹，防止在JS主线程直接将i直接过渡到0xBBBBBB后再执行里面的函数，并且缓存i临时变量传递给color，<br>然后用setTimeout将变色任务甩出去，进入到事件队列中，每次轮一次宏任务的同时，刷一遍微任务，并执行GUI渲染。</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一、setTimeout和setInterval的基本用法\"><a href=\"#一、setTimeout和setInterval的基本用法\" class=\"headerlink\" title=\"一、setTimeout和setInterval的基本用法\"></a>一、setTimeout和setInterval的基本用法</h3><ol>\n<li>setTimeout指定延迟XX秒后执行函数；</li>\n<li>setInterval指定周期来执行函数；</li>\n<li>当我们设置定时器(setTimeout/setInterval)，都会有一个返回值，这个返回值是一个数字，代表当前是在浏览器中设置的第几个定时器(返回的是定时器序号)</li>\n</ol>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> timer1 = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.info(timer1);   <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> timer2 = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.info(timer2);</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>根据👆两段代码可以知道<ul>\n<li>setTimeout和setInterval虽然是处理不同功能的定时器，但都是浏览器的定时器，所以返回的序号是依次排列的；</li>\n<li>setInterval设置完成定时器会有一个返回值，不管执行多少次，这个代表序号的返回值不变。</li>\n</ul>\n</li>\n<li>定时器的清除<ul>\n<li>clearTimeout(timer)</li>\n<li> clearInterval(timer)</li>\n</ul>\n</li>\n</ol>\n<p><code>这里定时器即使清除了，其返回值也不会清除，之后设定的定时器返回值也会在之前的返回的基础上继续向后排</code></p>\n<ol start=\"6\">\n<li>定时器this指向</li>\n</ol>\n<p><code>**由于定时器的执行，均是有定时器线程发起的，且到了真正该执行回调的时候，是将回调函数塞到事件队列中，待JS主线程空闲的时候，从事件队列中依次获取事件回调，塞到主线程中执行的，因此它的this指向都是window**</code><br>具体可以看以下代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">fn</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.info(<span class=\"built_in\">this</span>)  <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t<span class=\"comment\">// 示例1</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer1的this指向：&#x27;</span>, <span class=\"built_in\">this</span>); <span class=\"comment\">// Window</span></span><br><span class=\"line\">\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 示例2(让定时器函数中的this是obj：使用变量保存的方式)</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> _this = <span class=\"built_in\">this</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer2 = <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer2的this指向：&#x27;</span>, _this);  <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 示例3(让定时器函数中的this是obj：使用bind方法改变this指针)</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer3 = <span class=\"built_in\">setTimeout</span>(</span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer3的this指向：&#x27;</span>, <span class=\"built_in\">this</span>); <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t\t&#125;.bind(<span class=\"built_in\">this</span>)</span><br><span class=\"line\">\t, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 示例4(让定时器函数中的this是obj：使用箭头函数，箭头函数中的this继承宿主环境(上级作用域中的this))</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer4 = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer4的this指向：&#x27;</span>, <span class=\"built_in\">this</span>); <span class=\"comment\">//obj</span></span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> timer5 = <span class=\"built_in\">setTimeout</span>(</span><br><span class=\"line\">\t\t(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$<span class=\"built_in\">this</span></span>)</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">&#x27;我是timer5的this指向：&#x27;</span>, $this);</span><br><span class=\"line\">\t\t&#125;)(<span class=\"built_in\">this</span>)  <span class=\"comment\">// obj</span></span><br><span class=\"line\">\t, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> &#125;;</span><br><span class=\"line\"> obj.fn();</span><br></pre></td></tr></table></figure>\n<p>对应的执行结果如下：</p>\n<p><img src=\"https://img.91temaichang.com/blog/setTimeout-this.png\" alt=\"setTimeout中this的指向\"></p>\n<p>从上述代码执行结果我们可以看出，由于timer5是立即执行代码，并且在执行的时候将this作为参数传递给setTimeout的回调，因此它是最先被执行的；<br>而且，就算setTimeout设置为0秒执行，它也是按照EventLoop的机制，塞到事件队列中，再从事件队列中获取，比如上图中的timer4；</p>\n<h3 id=\"二、定时器疑难杂症\"><a href=\"#二、定时器疑难杂症\" class=\"headerlink\" title=\"二、定时器疑难杂症\"></a>二、定时器疑难杂症</h3><p> 有以下一个场景情况：<br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">func</span>(<span class=\"params\">i</span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i ++)&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.info(<span class=\"string\">`xxx=<span class=\"subst\">$&#123;i&#125;</span>`</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"built_in\">setInterval</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\tfunc(<span class=\"number\">10</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">100</span>);</span><br></pre></td></tr></table></figure><br>上面这个代码块，每隔100毫秒执行func函数，如果func函数的执行时间少于100毫秒的话，则下一个100毫秒都能够执行到func，执行的示意图如下：</p>\n<p><img src=\"https://img.91temaichang.com/blog/interval1.png\" alt=\"正常的setInterval\"></p>\n<p>但是，如果func函数的执行时间大雨100毫秒的话，本来应该春发下一个func函数之前的还没有执行完毕，这时应该怎么办？<br>答案如下图所示，那么第二个func会在队列(EventLoop)中等待，直到第一个函数执行完</p>\n<p><img src=\"https://img.91temaichang.com/blog/interval3.png\" alt=\"被挂起的setInterval\"></p>\n<p>如果第一个函数的执行时间超级长，在执行的过程中本来应该触发了许多的func函数的话，这些应该触发的函数都会进入到队列中吗？<br><code>*不，只要发现队列中有一个被执行的函数存在，那么其他的统统忽略*</code>，如下图所示，在第300毫秒和第400毫秒处的func都被抛弃掉，<br>一旦第一个函数执行完后，接着执行队列中的第二个，即使这个函数已经”过时”很久了。</p>\n<p><img src=\"https://img.91temaichang.com/blog/interval3.png\" alt=\"执行过时很久的setInterval回调\"></p>\n<p>还有一点，虽然在setInterval里面制定的周期是100毫秒，但它不能保证两个函数之间调用的间隔一定是100毫秒。在上面的情况中，<br>如果队列中的第二个函数是在第450毫秒处结束的话，在第500毫秒时，它会执行第二个func，也就是说这之间的间隔只有50毫秒，并非100毫秒</p>\n<p>那如果我想保证每秒执行的间隔应该怎么办？用setTimeout，比如下面的代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\talert(i ++ );</span><br><span class=\"line\">\ttimer = <span class=\"built_in\">setTimeout</span>(<span class=\"built_in\">arguments</span>.callee, <span class=\"number\">2000</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">2000</span>);</span><br></pre></td></tr></table></figure>\n<p>👆的函数每2秒就递归调用自己一次，你可以在某一次alert的时候等待任意长的时间(不点击alert的确定按钮)，接下来无论什么时候点击”确定”，下一次执行<br>一定离这次确定相差2秒的，意味着会每隔2秒弹出一个alert。</p>\n<h3 id=\"三、setTimeout除了做定时器还能做什么？\"><a href=\"#三、setTimeout除了做定时器还能做什么？\" class=\"headerlink\" title=\"三、setTimeout除了做定时器还能做什么？\"></a>三、setTimeout除了做定时器还能做什么？</h3><p>假如有一个非常耗时的操作(比如下面的操作，在table中插入2000行)，我想计算这个操作所消耗的事件应该怎么办？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> t1 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> tbody = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">&#x27;tbody&#x27;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">20000</span>; i ++)&#123;</span><br><span class=\"line\">  \t<span class=\"keyword\">var</span> tr = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;tr&#x27;</span>);</span><br><span class=\"line\">  \t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t = <span class=\"number\">0</span> ; t &lt; <span class=\"number\">6</span>; t ++ )&#123;</span><br><span class=\"line\">  \t\t<span class=\"keyword\">var</span> td = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;td&#x27;</span>);</span><br><span class=\"line\">  \t\ttd.appendChild(<span class=\"built_in\">document</span>.createTextNode(i + <span class=\"string\">&#x27;,&#x27;</span> + t));</span><br><span class=\"line\">  \t\ttr.appendChild(td);</span><br><span class=\"line\">  \t&#125;</span><br><span class=\"line\">  \ttbody.appendChild(tr);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> t2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\"><span class=\"built_in\">console</span>.info(t2 - t1);</span><br></pre></td></tr></table></figure>\n<p>上述代码发现，一运行就直接打印出来了，在20000行还没有被渲染出来的情况下，可能就1秒左右，这是为毛呢？<br>因为JS是单线程的，GUI渲染与JS主线程是互斥的，上述代码直接算出了js主线程的执行时间，还没有等tbody渲染20000行的时间，<br>执行完console.info(t2 - t1)之后，才开始GUI渲染，因此要真正计算出这个操作所消耗的时间，应该如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> t1 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> tbody = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">&#x27;tbody&#x27;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">20000</span>; i ++)&#123;</span><br><span class=\"line\">  \t<span class=\"keyword\">var</span> tr = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;tr&#x27;</span>);</span><br><span class=\"line\">  \t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> t = <span class=\"number\">0</span> ; t &lt; <span class=\"number\">6</span>; t ++ )&#123;</span><br><span class=\"line\">  \t\t<span class=\"keyword\">var</span> td = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">&#x27;td&#x27;</span>);</span><br><span class=\"line\">  \t\ttd.appendChild(<span class=\"built_in\">document</span>.createTextNode(i + <span class=\"string\">&#x27;,&#x27;</span> + t));</span><br><span class=\"line\">  \t\ttr.appendChild(td);</span><br><span class=\"line\">  \t&#125;</span><br><span class=\"line\">  \ttbody.appendChild(tr);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> t2 = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.info(t2 - t1);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>\n<p>通过setTimeout将计算耗时的动作塞到事件队列中，根据JS EventLoop的机制，轮一次宏任务的同时刷一轮微任务，然后是GUI渲染，<br>setTimeout的回调将会到第二次宏任务执行的时候，从事件队列中拿出来放到JS主线程中执行了，这个时候GUI已经刚刚渲染完毕，因此<br>才能够正确计算出tbody渲染出来所消耗的时间。</p>\n<p>👇这个例子也是同样的道理，怎样改进才能看到颜色的变化呢？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> div = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;xxx&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0xBBBB00</span>;i &lt;= <span class=\"number\">0xBBBBBB</span>;i++) &#123;</span><br><span class=\"line\">    div.style.backgroundColor = <span class=\"string\">&#x27;#&#x27;</span>+i.toString(<span class=\"number\">16</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>直接运行上述代码，会发现，浏览器一下子变成#BBBBBB颜色，并没有渐变的效果，这是因为GUI线程与JS主线程互斥，👆代码执行的时候，<br>直接先轮了一遍从0xBBB000到0xBBBBBB的循环，i的值变成了0xBBBBBB，然后再执行GUI渲染线程，所以效果就是直接变0xBBBBBB，<br>那么我们如果想要看它的一个颜色变化的过程，应该如何调整呢？</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> div = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;xxx&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0xBBB000</span>;i &lt;= <span class=\"number\">0xBBBBBB</span>;i++) &#123;</span><br><span class=\"line\">  \t(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">color</span>)</span>&#123;</span><br><span class=\"line\">  \t\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  \t\t\tdiv.style.backgroundColor = <span class=\"string\">&#x27;#&#x27;</span>+color.toString(<span class=\"number\">16</span>);</span><br><span class=\"line\">  \t\t&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">  \t&#125;)(i);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>首先用立即执行的函数来包裹，防止在JS主线程直接将i直接过渡到0xBBBBBB后再执行里面的函数，并且缓存i临时变量传递给color，<br>然后用setTimeout将变色任务甩出去，进入到事件队列中，每次轮一次宏任务的同时，刷一遍微任务，并执行GUI渲染。</p>\n"},{"title":"从输入URL到页面渲染完成发生了什么?","author":"Zhenggl","date":"2021-03-15T10:09:36.000Z","cover_picture":null,"_content":"","source":"_posts/the-life-of-url.md","raw":"---\ntitle: 从输入URL到页面渲染完成发生了什么?\nauthor: Zhenggl\ndate: 2021-03-15 18:09:36\ncategories:\n  - [前端, javascript]\ntags:\n  - javascript\n  - html\ncover_picture:\n---\n","slug":"the-life-of-url","published":1,"updated":"2021-03-19T03:24:09.789Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvug000f9d091y8o2cc4","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"通过verdaccio服务搭建内部npm管理","author":"Zhenggl","date":"2021-03-08T06:17:01.000Z","cover_picture":"https://img.91temaichang.com/blog/verdaccio.jpeg","_content":"\n*关于如何要共享组件？目前公司的前端项目比较多，涉及到中后台业务系统，有存在不少组件，在不同的业务系统中使用的，为了避免疯狂的ctrl +C > ctrl + V，一堆的维护工作，这边搭建了内部的私有源，又不能将公司的一个资源扔到公共的npm上，因此这边利用verdaccio + gitlab来搭建以及维护蜘点前端公共的组件服务，通过verdaccio来管理组件的上传以及可视化管理，gitlab来管理组件的版本以及迭代，满足组件的更新迭代；*\n### 一、为啥子要使用私有源呢\n\n1. 加快共有npm包的安装速度；\n2. 避免本地npm install指向源，避免cnpm等其他源拉取npm包不及时的问题；\n3. 私有源会将已经使用的npm包缓存下来，提升个人本地/打包环境npm包的安装速度；\n4. 把公共代码上传到私有源，可以在多个git仓库项目中通过npm的方式来使用；\n5. A仓库 封装了一个 video组件，想给B仓库使用。那就可以制作一个 video组件仓库，然后发布到 私有源上。A和B仓库使用的时候就 npm install 组件库，let api = require('组件库') 啦~ 这个步骤和 发公有npm包是一模一样的，只是发的位置不一样而已。\n\n### 二、通过verdaccio服务，搭建内部npm管理\n\n1. 访问[verdaccio官网](https://verdaccio.org/docs/zh-CN/authentification)按照这个一步一步来就行\n2. 如果是本地电脑 不需要改 verdaccio的 config.yaml配置文件，如果是服务器部署，那你需要改 config.yaml的配置\n3. 我们这里按服务器部署为例子\n4. 你需要先安装上 ```shell node npm pm2```\n5. ```shell npm install -g verdaccio```\n6. 创建一个 非root的账户\n7. 在此账户下 执行verdaccio，且找到 config.yaml文件\n8. 要在内部机器上运行，因此，需要这是局域网访问，vim修改config.yaml，新增一行，保存：\n```shell\nlisten: 0.0.0.0:4873\n```\nverdaccis 跑一下，显示一下内容就正常了；\n![verdaccio效果图](https://img.91temaichang.com/blogimage2021-1-18%2017_8_18.png)\n\n### 三、日常使用–切换npm源\n\n1. 由于内部npm也是使用的npm来管理，因此，需要一专门的工具，来管理源的切换；\n2. 打开命令行工具，安装npm切换源的快捷工具npm/nrm：```shell npm install -g nrm```\n3. 输入命令：```shell nrm ls```，可以看到以下截图，前面有个小星星的，代表当前源是指向哪里的\n4. 输入命令：```shell nrm add``` 源名称 源地址，创建一个新的源\n5. 输入命令：```shell nrm use``` 源名字，切换使用的源\n![nrm 切换源](https://img.91temaichang.com/blog/image2021-1-18%2017_11_37.png)\n\n### 四、日常使用\n\n1. 切换使用的源；\n2. 通过npm安装依赖即可；\n\n### 结束\n至此，整个内部npm的使用以及发布就已经全部说明完成了，无论团队的开发者/使用者来说，只要用nrm将源切换为私有源就可以了。\nverdaccio通过代理的形式，把私有包和官方包且分开；\n![内部npm管理示意图](https://img.91temaichang.com/blog/6622941-aa413cf524c5fa90.png)\n","source":"_posts/verdaccio-custom-npm.md","raw":"---\ntitle: 通过verdaccio服务搭建内部npm管理\nauthor: Zhenggl\ndate: 2021-03-08 14:17:01\ncategories:\n  - [积累与沉淀,自定义服务]\ntags:\n  - verdaccio\n  - npm\n  - nrm\n  - Node.js\ncover_picture: https://img.91temaichang.com/blog/verdaccio.jpeg\n---\n\n*关于如何要共享组件？目前公司的前端项目比较多，涉及到中后台业务系统，有存在不少组件，在不同的业务系统中使用的，为了避免疯狂的ctrl +C > ctrl + V，一堆的维护工作，这边搭建了内部的私有源，又不能将公司的一个资源扔到公共的npm上，因此这边利用verdaccio + gitlab来搭建以及维护蜘点前端公共的组件服务，通过verdaccio来管理组件的上传以及可视化管理，gitlab来管理组件的版本以及迭代，满足组件的更新迭代；*\n### 一、为啥子要使用私有源呢\n\n1. 加快共有npm包的安装速度；\n2. 避免本地npm install指向源，避免cnpm等其他源拉取npm包不及时的问题；\n3. 私有源会将已经使用的npm包缓存下来，提升个人本地/打包环境npm包的安装速度；\n4. 把公共代码上传到私有源，可以在多个git仓库项目中通过npm的方式来使用；\n5. A仓库 封装了一个 video组件，想给B仓库使用。那就可以制作一个 video组件仓库，然后发布到 私有源上。A和B仓库使用的时候就 npm install 组件库，let api = require('组件库') 啦~ 这个步骤和 发公有npm包是一模一样的，只是发的位置不一样而已。\n\n### 二、通过verdaccio服务，搭建内部npm管理\n\n1. 访问[verdaccio官网](https://verdaccio.org/docs/zh-CN/authentification)按照这个一步一步来就行\n2. 如果是本地电脑 不需要改 verdaccio的 config.yaml配置文件，如果是服务器部署，那你需要改 config.yaml的配置\n3. 我们这里按服务器部署为例子\n4. 你需要先安装上 ```shell node npm pm2```\n5. ```shell npm install -g verdaccio```\n6. 创建一个 非root的账户\n7. 在此账户下 执行verdaccio，且找到 config.yaml文件\n8. 要在内部机器上运行，因此，需要这是局域网访问，vim修改config.yaml，新增一行，保存：\n```shell\nlisten: 0.0.0.0:4873\n```\nverdaccis 跑一下，显示一下内容就正常了；\n![verdaccio效果图](https://img.91temaichang.com/blogimage2021-1-18%2017_8_18.png)\n\n### 三、日常使用–切换npm源\n\n1. 由于内部npm也是使用的npm来管理，因此，需要一专门的工具，来管理源的切换；\n2. 打开命令行工具，安装npm切换源的快捷工具npm/nrm：```shell npm install -g nrm```\n3. 输入命令：```shell nrm ls```，可以看到以下截图，前面有个小星星的，代表当前源是指向哪里的\n4. 输入命令：```shell nrm add``` 源名称 源地址，创建一个新的源\n5. 输入命令：```shell nrm use``` 源名字，切换使用的源\n![nrm 切换源](https://img.91temaichang.com/blog/image2021-1-18%2017_11_37.png)\n\n### 四、日常使用\n\n1. 切换使用的源；\n2. 通过npm安装依赖即可；\n\n### 结束\n至此，整个内部npm的使用以及发布就已经全部说明完成了，无论团队的开发者/使用者来说，只要用nrm将源切换为私有源就可以了。\nverdaccio通过代理的形式，把私有包和官方包且分开；\n![内部npm管理示意图](https://img.91temaichang.com/blog/6622941-aa413cf524c5fa90.png)\n","slug":"verdaccio-custom-npm","published":1,"updated":"2021-03-15T09:35:22.022Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckmg6dvuj000i9d09d75l1lst","content":"<p><em>关于如何要共享组件？目前公司的前端项目比较多，涉及到中后台业务系统，有存在不少组件，在不同的业务系统中使用的，为了避免疯狂的ctrl +C &gt; ctrl + V，一堆的维护工作，这边搭建了内部的私有源，又不能将公司的一个资源扔到公共的npm上，因此这边利用verdaccio + gitlab来搭建以及维护蜘点前端公共的组件服务，通过verdaccio来管理组件的上传以及可视化管理，gitlab来管理组件的版本以及迭代，满足组件的更新迭代；</em></p>\n<h3 id=\"一、为啥子要使用私有源呢\"><a href=\"#一、为啥子要使用私有源呢\" class=\"headerlink\" title=\"一、为啥子要使用私有源呢\"></a>一、为啥子要使用私有源呢</h3><ol>\n<li>加快共有npm包的安装速度；</li>\n<li>避免本地npm install指向源，避免cnpm等其他源拉取npm包不及时的问题；</li>\n<li>私有源会将已经使用的npm包缓存下来，提升个人本地/打包环境npm包的安装速度；</li>\n<li>把公共代码上传到私有源，可以在多个git仓库项目中通过npm的方式来使用；</li>\n<li>A仓库 封装了一个 video组件，想给B仓库使用。那就可以制作一个 video组件仓库，然后发布到 私有源上。A和B仓库使用的时候就 npm install 组件库，let api = require(‘组件库’) 啦~ 这个步骤和 发公有npm包是一模一样的，只是发的位置不一样而已。</li>\n</ol>\n<h3 id=\"二、通过verdaccio服务，搭建内部npm管理\"><a href=\"#二、通过verdaccio服务，搭建内部npm管理\" class=\"headerlink\" title=\"二、通过verdaccio服务，搭建内部npm管理\"></a>二、通过verdaccio服务，搭建内部npm管理</h3><ol>\n<li>访问<a href=\"https://verdaccio.org/docs/zh-CN/authentification\">verdaccio官网</a>按照这个一步一步来就行</li>\n<li>如果是本地电脑 不需要改 verdaccio的 config.yaml配置文件，如果是服务器部署，那你需要改 config.yaml的配置</li>\n<li>我们这里按服务器部署为例子</li>\n<li>你需要先安装上 <code>shell node npm pm2</code></li>\n<li><code>shell npm install -g verdaccio</code></li>\n<li>创建一个 非root的账户</li>\n<li>在此账户下 执行verdaccio，且找到 config.yaml文件</li>\n<li>要在内部机器上运行，因此，需要这是局域网访问，vim修改config.yaml，新增一行，保存：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">listen: 0.0.0.0:4873</span><br></pre></td></tr></table></figure>\nverdaccis 跑一下，显示一下内容就正常了；<br><img src=\"https://img.91temaichang.com/blogimage2021-1-18%2017_8_18.png\" alt=\"verdaccio效果图\"></li>\n</ol>\n<h3 id=\"三、日常使用–切换npm源\"><a href=\"#三、日常使用–切换npm源\" class=\"headerlink\" title=\"三、日常使用–切换npm源\"></a>三、日常使用–切换npm源</h3><ol>\n<li>由于内部npm也是使用的npm来管理，因此，需要一专门的工具，来管理源的切换；</li>\n<li>打开命令行工具，安装npm切换源的快捷工具npm/nrm：<code>shell npm install -g nrm</code></li>\n<li>输入命令：<code>shell nrm ls</code>，可以看到以下截图，前面有个小星星的，代表当前源是指向哪里的</li>\n<li>输入命令：<code>shell nrm add</code> 源名称 源地址，创建一个新的源</li>\n<li>输入命令：<code>shell nrm use</code> 源名字，切换使用的源<br><img src=\"https://img.91temaichang.com/blog/image2021-1-18%2017_11_37.png\" alt=\"nrm 切换源\"></li>\n</ol>\n<h3 id=\"四、日常使用\"><a href=\"#四、日常使用\" class=\"headerlink\" title=\"四、日常使用\"></a>四、日常使用</h3><ol>\n<li>切换使用的源；</li>\n<li>通过npm安装依赖即可；</li>\n</ol>\n<h3 id=\"结束\"><a href=\"#结束\" class=\"headerlink\" title=\"结束\"></a>结束</h3><p>至此，整个内部npm的使用以及发布就已经全部说明完成了，无论团队的开发者/使用者来说，只要用nrm将源切换为私有源就可以了。<br>verdaccio通过代理的形式，把私有包和官方包且分开；<br><img src=\"https://img.91temaichang.com/blog/6622941-aa413cf524c5fa90.png\" alt=\"内部npm管理示意图\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p><em>关于如何要共享组件？目前公司的前端项目比较多，涉及到中后台业务系统，有存在不少组件，在不同的业务系统中使用的，为了避免疯狂的ctrl +C &gt; ctrl + V，一堆的维护工作，这边搭建了内部的私有源，又不能将公司的一个资源扔到公共的npm上，因此这边利用verdaccio + gitlab来搭建以及维护蜘点前端公共的组件服务，通过verdaccio来管理组件的上传以及可视化管理，gitlab来管理组件的版本以及迭代，满足组件的更新迭代；</em></p>\n<h3 id=\"一、为啥子要使用私有源呢\"><a href=\"#一、为啥子要使用私有源呢\" class=\"headerlink\" title=\"一、为啥子要使用私有源呢\"></a>一、为啥子要使用私有源呢</h3><ol>\n<li>加快共有npm包的安装速度；</li>\n<li>避免本地npm install指向源，避免cnpm等其他源拉取npm包不及时的问题；</li>\n<li>私有源会将已经使用的npm包缓存下来，提升个人本地/打包环境npm包的安装速度；</li>\n<li>把公共代码上传到私有源，可以在多个git仓库项目中通过npm的方式来使用；</li>\n<li>A仓库 封装了一个 video组件，想给B仓库使用。那就可以制作一个 video组件仓库，然后发布到 私有源上。A和B仓库使用的时候就 npm install 组件库，let api = require(‘组件库’) 啦~ 这个步骤和 发公有npm包是一模一样的，只是发的位置不一样而已。</li>\n</ol>\n<h3 id=\"二、通过verdaccio服务，搭建内部npm管理\"><a href=\"#二、通过verdaccio服务，搭建内部npm管理\" class=\"headerlink\" title=\"二、通过verdaccio服务，搭建内部npm管理\"></a>二、通过verdaccio服务，搭建内部npm管理</h3><ol>\n<li>访问<a href=\"https://verdaccio.org/docs/zh-CN/authentification\">verdaccio官网</a>按照这个一步一步来就行</li>\n<li>如果是本地电脑 不需要改 verdaccio的 config.yaml配置文件，如果是服务器部署，那你需要改 config.yaml的配置</li>\n<li>我们这里按服务器部署为例子</li>\n<li>你需要先安装上 <code>shell node npm pm2</code></li>\n<li><code>shell npm install -g verdaccio</code></li>\n<li>创建一个 非root的账户</li>\n<li>在此账户下 执行verdaccio，且找到 config.yaml文件</li>\n<li>要在内部机器上运行，因此，需要这是局域网访问，vim修改config.yaml，新增一行，保存：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">listen: 0.0.0.0:4873</span><br></pre></td></tr></table></figure>\nverdaccis 跑一下，显示一下内容就正常了；<br><img src=\"https://img.91temaichang.com/blogimage2021-1-18%2017_8_18.png\" alt=\"verdaccio效果图\"></li>\n</ol>\n<h3 id=\"三、日常使用–切换npm源\"><a href=\"#三、日常使用–切换npm源\" class=\"headerlink\" title=\"三、日常使用–切换npm源\"></a>三、日常使用–切换npm源</h3><ol>\n<li>由于内部npm也是使用的npm来管理，因此，需要一专门的工具，来管理源的切换；</li>\n<li>打开命令行工具，安装npm切换源的快捷工具npm/nrm：<code>shell npm install -g nrm</code></li>\n<li>输入命令：<code>shell nrm ls</code>，可以看到以下截图，前面有个小星星的，代表当前源是指向哪里的</li>\n<li>输入命令：<code>shell nrm add</code> 源名称 源地址，创建一个新的源</li>\n<li>输入命令：<code>shell nrm use</code> 源名字，切换使用的源<br><img src=\"https://img.91temaichang.com/blog/image2021-1-18%2017_11_37.png\" alt=\"nrm 切换源\"></li>\n</ol>\n<h3 id=\"四、日常使用\"><a href=\"#四、日常使用\" class=\"headerlink\" title=\"四、日常使用\"></a>四、日常使用</h3><ol>\n<li>切换使用的源；</li>\n<li>通过npm安装依赖即可；</li>\n</ol>\n<h3 id=\"结束\"><a href=\"#结束\" class=\"headerlink\" title=\"结束\"></a>结束</h3><p>至此，整个内部npm的使用以及发布就已经全部说明完成了，无论团队的开发者/使用者来说，只要用nrm将源切换为私有源就可以了。<br>verdaccio通过代理的形式，把私有包和官方包且分开；<br><img src=\"https://img.91temaichang.com/blog/6622941-aa413cf524c5fa90.png\" alt=\"内部npm管理示意图\"></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"ckmg6dvtz00019d095b1p8uzz","category_id":"ckmg6dvu600059d096zuvgfqh","_id":"ckmg6dvum000r9d0952rmcs9b"},{"post_id":"ckmg6dvtz00019d095b1p8uzz","category_id":"ckmg6dvuh000g9d09bx9g6s8m","_id":"ckmg6dvum000s9d09dexfd97j"},{"post_id":"ckmg6dvu900079d099a5yf6gh","category_id":"ckmg6dvu600059d096zuvgfqh","_id":"ckmg6dvun000v9d090grv8yuc"},{"post_id":"ckmg6dvu900079d099a5yf6gh","category_id":"ckmg6dvuk000m9d09ckid5mch","_id":"ckmg6dvun000w9d09ftvfhh78"},{"post_id":"ckmg6dvu200029d09faesabgb","category_id":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvup00149d09awf7b35j"},{"post_id":"ckmg6dvu200029d09faesabgb","category_id":"ckmg6dvum000u9d0951a87ogr","_id":"ckmg6dvup00159d0916zncxiv"},{"post_id":"ckmg6dvuc000b9d0940b20ml7","category_id":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvuq00189d097ci15ipl"},{"post_id":"ckmg6dvuc000b9d0940b20ml7","category_id":"ckmg6dvul000q9d09c459063t","_id":"ckmg6dvuq00199d095anzfnjl"},{"post_id":"ckmg6dvue000e9d0997ab1j1r","category_id":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvuu001c9d092ers7spx"},{"post_id":"ckmg6dvue000e9d0997ab1j1r","category_id":"ckmg6dvul000q9d09c459063t","_id":"ckmg6dvuz001e9d0911gz2fmk"},{"post_id":"ckmg6dvu500049d0988svhkx3","category_id":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvv0001i9d095sn9ei24"},{"post_id":"ckmg6dvu500049d0988svhkx3","category_id":"ckmg6dvul000q9d09c459063t","_id":"ckmg6dvv0001k9d093jkt3ah2"},{"post_id":"ckmg6dvug000f9d091y8o2cc4","category_id":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvv1001m9d097nvdhe7y"},{"post_id":"ckmg6dvug000f9d091y8o2cc4","category_id":"ckmg6dvul000q9d09c459063t","_id":"ckmg6dvv2001o9d090v7ffft7"},{"post_id":"ckmg6dvuj000i9d09d75l1lst","category_id":"ckmg6dvu600059d096zuvgfqh","_id":"ckmg6dvv2001p9d0972cqe7gz"},{"post_id":"ckmg6dvuj000i9d09d75l1lst","category_id":"ckmg6dvuk000m9d09ckid5mch","_id":"ckmg6dvve001r9d09hf2hhdyw"},{"post_id":"ckmg6dvub000a9d097yp3cwe5","category_id":"ckmg6dvua00099d09azcf0mm6","_id":"ckmg6dvve001u9d094jv20gb9"},{"post_id":"ckmg6dvub000a9d097yp3cwe5","category_id":"ckmg6dvul000q9d09c459063t","_id":"ckmg6dvvf001x9d09151i6zur"},{"post_id":"ckmg6dvub000a9d097yp3cwe5","category_id":"ckmg6dvv0001l9d0927j80w9t","_id":"ckmg6dvvf001z9d092ojxf7sy"}],"PostTag":[{"post_id":"ckmg6dvtz00019d095b1p8uzz","tag_id":"ckmg6dvu400039d09dd449ccz","_id":"ckmg6dvuj000j9d095905f1zj"},{"post_id":"ckmg6dvtz00019d095b1p8uzz","tag_id":"ckmg6dvu900089d097pvb32it","_id":"ckmg6dvuk000k9d092xt9gj7f"},{"post_id":"ckmg6dvtz00019d095b1p8uzz","tag_id":"ckmg6dvud000c9d09742ifyoj","_id":"ckmg6dvul000n9d09do1g8tir"},{"post_id":"ckmg6dvu200029d09faesabgb","tag_id":"ckmg6dvud000c9d09742ifyoj","_id":"ckmg6dvul000o9d09aaryexrz"},{"post_id":"ckmg6dvu500049d0988svhkx3","tag_id":"ckmg6dvu900089d097pvb32it","_id":"ckmg6dvuo000z9d096ag4drf5"},{"post_id":"ckmg6dvu500049d0988svhkx3","tag_id":"ckmg6dvul000p9d09a8ly3fpo","_id":"ckmg6dvuo00109d0923lq5qgv"},{"post_id":"ckmg6dvu500049d0988svhkx3","tag_id":"ckmg6dvum000t9d09bt9m5gsq","_id":"ckmg6dvup00139d09hu74d3br"},{"post_id":"ckmg6dvu700069d096y81ckvx","tag_id":"ckmg6dvun000x9d09hs7qhvni","_id":"ckmg6dvuv001d9d095zei48ha"},{"post_id":"ckmg6dvu700069d096y81ckvx","tag_id":"ckmg6dvuo00119d09fcir0vba","_id":"ckmg6dvuz001g9d098vrme9y9"},{"post_id":"ckmg6dvu700069d096y81ckvx","tag_id":"ckmg6dvup00179d099dkedi85","_id":"ckmg6dvv0001j9d0915wv9k4p"},{"post_id":"ckmg6dvu900079d099a5yf6gh","tag_id":"ckmg6dvus001b9d093gf20434","_id":"ckmg6dvve001s9d092dnl6l8k"},{"post_id":"ckmg6dvu900079d099a5yf6gh","tag_id":"ckmg6dvv0001h9d093vqc3tmo","_id":"ckmg6dvve001t9d09bg5cfwlt"},{"post_id":"ckmg6dvu900079d099a5yf6gh","tag_id":"ckmg6dvv1001n9d0959at3xcw","_id":"ckmg6dvvf001w9d09erfgfysb"},{"post_id":"ckmg6dvub000a9d097yp3cwe5","tag_id":"ckmg6dvu900089d097pvb32it","_id":"ckmg6dvvf001y9d09e8v2fhfe"},{"post_id":"ckmg6dvub000a9d097yp3cwe5","tag_id":"ckmg6dvv2001q9d09e5ph783u","_id":"ckmg6dvvg00219d0981qh6p0o"},{"post_id":"ckmg6dvuc000b9d0940b20ml7","tag_id":"ckmg6dvu900089d097pvb32it","_id":"ckmg6dvvg00229d094yf5gg76"},{"post_id":"ckmg6dvuc000b9d0940b20ml7","tag_id":"ckmg6dvve001v9d096qjb7ob2","_id":"ckmg6dvvh00249d09dz007em5"},{"post_id":"ckmg6dvue000e9d0997ab1j1r","tag_id":"ckmg6dvu900089d097pvb32it","_id":"ckmg6dvvh00259d09heaf8nc1"},{"post_id":"ckmg6dvue000e9d0997ab1j1r","tag_id":"ckmg6dvv2001q9d09e5ph783u","_id":"ckmg6dvvh00279d099vts9t8t"},{"post_id":"ckmg6dvug000f9d091y8o2cc4","tag_id":"ckmg6dvu900089d097pvb32it","_id":"ckmg6dvvh00289d09gbjhby5q"},{"post_id":"ckmg6dvug000f9d091y8o2cc4","tag_id":"ckmg6dvvg00239d093z3w24q7","_id":"ckmg6dvvh00299d09fez09qp8"},{"post_id":"ckmg6dvuj000i9d09d75l1lst","tag_id":"ckmg6dvvh00269d09gvxqhw5s","_id":"ckmg6dvvj002d9d09cdn27h3x"},{"post_id":"ckmg6dvuj000i9d09d75l1lst","tag_id":"ckmg6dvuo00119d09fcir0vba","_id":"ckmg6dvvj002e9d09fn1d5yv1"},{"post_id":"ckmg6dvuj000i9d09d75l1lst","tag_id":"ckmg6dvvi002b9d093xd6f1t0","_id":"ckmg6dvvj002f9d09hwbi52n3"},{"post_id":"ckmg6dvuj000i9d09d75l1lst","tag_id":"ckmg6dvup00179d099dkedi85","_id":"ckmg6dvvj002g9d0990fgdtpk"}],"Tag":[{"name":"编码规范","_id":"ckmg6dvu400039d09dd449ccz"},{"name":"javascript","_id":"ckmg6dvu900089d097pvb32it"},{"name":"css","_id":"ckmg6dvud000c9d09742ifyoj"},{"name":"基础","_id":"ckmg6dvul000p9d09a8ly3fpo"},{"name":"function","_id":"ckmg6dvum000t9d09bt9m5gsq"},{"name":"Hexo","_id":"ckmg6dvun000x9d09hs7qhvni"},{"name":"npm","_id":"ckmg6dvuo00119d09fcir0vba"},{"name":"Node.js","_id":"ckmg6dvup00179d099dkedi85"},{"name":"hexo","_id":"ckmg6dvus001b9d093gf20434"},{"name":"github","_id":"ckmg6dvv0001h9d093vqc3tmo"},{"name":"netlify","_id":"ckmg6dvv1001n9d0959at3xcw"},{"name":"基础概念","_id":"ckmg6dvv2001q9d09e5ph783u"},{"name":"EventLoop","_id":"ckmg6dvve001v9d096qjb7ob2"},{"name":"html","_id":"ckmg6dvvg00239d093z3w24q7"},{"name":"verdaccio","_id":"ckmg6dvvh00269d09gvxqhw5s"},{"name":"nrm","_id":"ckmg6dvvi002b9d093xd6f1t0"}]}}