---
title: 每天一设计模式-适配器模式
description: 每天一设计模式-适配器模式
author: Zhenggl
date: 2022-03-14 08:09:33
categories:
    - [javascript, 设计模式]
tags:
    - javascript
    - 设计模式
    - 结构性模式
cover_picture: 适配器模式封面.jpeg
---

### 前言
> 适配器模式(Adapter Pattern)是作为两个不兼容的接口之间的桥梁，它结合了两个独立接口的功能，这种模式设计到一个单一的类，该类负责加入独立的或者不兼容的接口功能。
> 将一个类(对象)的接口(方法/属性)转换成为另外一个接口，以满足用户需求，使类(对象)之间接口的不兼容问题通过适配器得以解决。
> 🤔这其实是日常业务开发过程中经常出现到的一个问题，为了兼容到不同业务系统不同接口的不同实现方法方案，所进行的适配工作。

意图：将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。

主要解决：主要解决在软件系统中，常常要将一些"现存的对象"放到新的环境中，而新环境要求的接口是现对象不能满足的。

何时使用： 1、系统需要使用现有的类，而此类的接口不符合系统的需要。 2、想要建立一个可以重复使用的类，用于与一些彼此之间没有太大关联的一些类，包括一些可能在将来引进的类一起工作，这些源类不一定有一致的接口。 3、通过接口转换，将一个类插入另一个类系中。（比如老虎和飞禽，现在多了一个飞虎，在不增加实体的需求下，增加一个适配器，在里面包容一个虎对象，实现飞的接口。）

如何解决：继承或依赖（推荐）。

关键代码：适配器继承或依赖已有的对象，实现想要的目标接口。

实际运用场景：
1. 适配异类框架，比如将自己的封装类通过与jquery类进行配合，利用jquery来完成自身的接口改造;
2. 参数适配器，将原本的需要通过多个参数来传参的方式，调整为传递一对象的方式，通过对对象的解构赋值来实现多参数传递的目的；
3. 服务器数据适配：通过对服务器端所有的响应数据进行一个自定义的包装，先统一调整为自己`舒服`的数据以及数据解构

### ES5代码实现
```javascript
  function ajaxAdapter(data) {
    return {
    	res: data.data[0],
    	desc: data.data[1],
        data: data.data[2]	
    }
  }
  $.ajax({
    url: '',
    success: function(res) {
      if(res){
      	doSomeThing(ajaxAdapter(res));
      }
    }
  });
```
