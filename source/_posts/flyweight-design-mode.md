---
title: æ¯å¤©ä¸€è®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼
description: æ¯å¤©ä¸€è®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼
author: Zhenggl
date: 2022-03-24 08:15:36
categories:
    - [javascript, è®¾è®¡æ¨¡å¼]
tags:
    - javascript
    - è®¾è®¡æ¨¡å¼
    - ç»“æ„è®¾è®¡æ¨¡å¼
cover_picture: äº«å…ƒè®¾è®¡æ¨¡å¼å°é¢.jpeg
---

### å‰è¨€
> äº«å…ƒæ¨¡å¼ä¸»è¦ç”¨äºå‡å°‘åˆ›å»ºå¯¹è±¡çš„æ•°é‡ï¼Œä»¥å‡å°‘å†…å­˜å ç”¨å’Œæé«˜æ€§èƒ½ï¼Œé€šè¿‡è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡çš„ç»†ç²’åº¦çš„å¯¹è±¡ï¼Œé¿å…å¯¹è±¡é—´æ‹¥æœ‰ç›¸åŒå†…å®¹é€ æˆå¤šä½™çš„å¼€é”€.
> è¿™ç§æ¨¡å¼å°è¯•é‡ç”¨ç°æœ‰çš„åŒç±»å¯¹è±¡ï¼Œå¦‚æœæœªæ‰¾åˆ°åŒ¹é…çš„å¯¹è±¡ï¼Œåˆ™åˆ›å»ºæ–°å¯¹è±¡ã€‚

**æ„å›¾**ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ï¼›

**ä¸»è¦è§£å†³**ï¼šåœ¨æœ‰å¤§é‡å¯¹è±¡æ—¶ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆå†…å­˜æº¢å‡ºï¼Œæˆ‘ä»¬æŠŠå…¶ä¸­å…¬å…±çš„éƒ¨åˆ†ç»™æŠ½è±¡å‡ºæ¥ï¼Œå¦‚æœæœ‰ç›¸åŒçš„ä¸šåŠ¡è¯·æ±‚ï¼Œç›´æ¥è¿”å›åœ¨å†…å­˜ä¸­å·²æœ‰çš„å¯¹è±¡ï¼Œé¿å…é‡æ–°åˆ›å»ºå¯¹è±¡ï¼›

**ä½•æ—¶ä½¿ç”¨**ï¼š
1. ç³»ç»Ÿä¸­æœ‰å¤§é‡çš„å¯¹è±¡æ—¶ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆå†…å­˜æº¢å‡ºï¼›
2. è¿™äº›å¯¹è±¡å¤§é‡æ¶ˆè€—å†…å­˜ï¼›
3. è¿™äº›å¯¹è±¡çš„çŠ¶æ€å¤§éƒ¨åˆ†å¯ä»¥å¤–éƒ¨åŒ–(é€šè¿‡å¤–éƒ¨ä¼ é€’æ•°æ®ç›´æ¥å®ŒæˆåŠŸèƒ½çš„å®ç°)ï¼›
4. è¿™äº›å¯¹è±¡å¯ä»¥æŒ‰ç…§å†…è•´çŠ¶æ€åˆ†ä¸ºå¾ˆå¤šç»„ï¼Œå½“æŠŠå¤–è•´å¯¹è±¡ä»å¯¹è±¡ä¸­å‰”é™¤å‡ºæ¥æ—¶ï¼Œæ¯ä¸€ç»„å¯¹è±¡éƒ½å¯ä»¥ç”¨ä¸€ä¸ªå¯¹è±¡æ¥ä»£æ›¿ï¼›
5. ç³»ç»Ÿä¸ä¾èµ–äºè¿™äº›å¯¹è±¡èº«ä»½ã€‚

**å¦‚ä½•ä½¿ç”¨**ï¼šç”¨å”¯ä¸€æ ‡è¯†ç åˆ¤æ–­ï¼Œå¦‚æœåœ¨å†…å­˜ä¸­æœ‰ï¼Œåˆ™è¿”å›è¿™ä¸ªå”¯ä¸€æ ‡è¯†ç æ‰€æ ‡è¯†çš„å¯¹è±¡

**åº”ç”¨å®ä¾‹**ï¼š
1. Javaä¸­çš„Stringï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜åœ¨å­—ç¬¦ä¸²ç¼“å­˜æ± é‡Œé¢ï¼›
2. æ•°æ®åº“ä¸­çš„è¿æ¥æ± 

**æ³¨æ„äº‹é¡¹**ï¼š
1. æ³¨æ„åˆ’åˆ†å¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€ï¼Œå¦åˆ™æœ‰å¯èƒ½å¼•èµ·çº¿ç¨‹å®‰å…¨ï¼›
2. è¿™äº›ç±»å¿…é¡»æœ‰ä¸€ä¸ªå·¥å‚å¯¹è±¡åŠ ä»¥æ§åˆ¶

### ä»£ç å®ç°
```javascript
  var BaseDialog = function(title, content){
	this.title = title || 'æ¸©é¦¨æç¤º';
	this.content = content;
};
BaseDialog.prototype = {
	show: function(){
		console.info(this.title + "---->" + this.content);
	},
	close: function(){
		console.info("hide me!!!")
	}
};

var TipDialog = function(title, content){
	BaseDialog.call(this, title, content);
};
TipDialog.prototype = BaseDialog.prototype;
TipDialog.prototype.showMe = function(){
	this.show();
	console.info('append showMe action!');
};

var LoadingDialog = function(state){
	BaseDialog.call(this, '', 'åŠ è½½ä¸­ï¼Œè¯·ç¨å...');
	this.state = state;
};
LoadingDialog.prototype = BaseDialog.prototype;
LoadingDialog.prototype.changeState = function(newState){
	this.state = newState;
};

var DialogFactory = function(){
	var dialogMap = {};	//ç¼“å­˜çš„å¯¹è¯æ¡†å¯¹è±¡å­˜å‚¨å¯¹è±¡
	function createDialog(type){
		var dialog;
		switch(type){
			case "tip":
				dialog = new TipDialog("æ¸©é¦¨æç¤º", "è‡ªå®šä¹‰å›ºå®šæç¤º");
			break;
			case "loading":
				dialog = new LoadingDialog("loading");
			break;
		}
		return dialog;
	}
	return {
		getDialog: function(type){
			if(dialogMap[type]){
				return dialogMap[type];
			}else{
				dialogMap[type] = createDialog(type);
				return dialogMap[type];
			}
		},
		getCurrentMap: function(){
			return dialogMap;
		}
	}
}

var factory = DialogFactory();
for(var i = 0; i < 5; i ++){
	var dialog = factory.getDialog(i % 2 === 0 ? "loading" : "tip");
	console.info(dialog);
	dialog.show();
}
console.info(factory.getCurrentMap());
```

![äº«å…ƒæ¨¡å¼ä¸‹çš„å¯¹è±¡](äº«å…ƒæ¨¡å¼ä¸‹çš„å¯¹è±¡.png)

### æ¨¡å¼å®é™…åœºæ™¯æ€è€ƒğŸ¤”
é€šè¿‡äº«å…ƒæ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€äº›å…¬å…±çš„å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§è¿›è¡Œä¸€ä¸ªç»Ÿä¸€çš„å°è£…ï¼Œå¹¶å°†å…¶é€šè¿‡ä¹‹å‰æ‰€å­¦ä¹ è¿‡çš„å•ä¾‹æ¨¡å¼ï¼Œè¿›è¡Œä¸€ä¸ªç¼“å­˜ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œå°†ä¼šè¿›è¡Œä¸€ä¸ªåˆå§‹åŒ–ï¼Œé€šè¿‡å†…çœçš„æœºåˆ¶ï¼Œ
æ¥å°†å¯¹è±¡ç¼“å­˜å¯¹è±¡ç»™ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¹¶é…åˆå·¥å‚æ¨¡å¼ï¼Œæ ¹æ®ä¸åŒç±»å‹æ¥åˆ›å»ºå…·æœ‰å…¬å…±å±æ€§/æ–¹æ³•çš„å¯¹è±¡ï¼Œå¹¶é¢å¤–è¡¥å……å¯¹åº”çš„æ“ä½œï¼Œä½¿å¾—å…¬å…±çš„ä¿¡æ¯å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„å£å¾„æ¥åˆ›å»ºï¼Œ
åŒæ—¶é¢å¤–çš„ä¿¡æ¯/æ“ä½œå¯ä»¥é€šè¿‡æ–¹æ³•æ¥å£è°ƒç”¨çš„æ–¹å¼ï¼Œæ¥è¿›è¡Œä¼ é€’/è°ƒç”¨ï¼ï¼

âœ¨ ä¸Šé¢çš„å¯¹è¯æ¡†ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¨‹åºä¸­å‡ºç°çš„å¯¹è¯æ¡†èµ„æºè¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ï¼Œè¾¾åˆ°å‡å°‘ä¸å¿…è¦çš„é¢å¤–çš„å†…å­˜èµ„æºçš„æŸè€—ã€‚
